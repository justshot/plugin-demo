/*! @twilio/flex-ui.js 1.6.0
The following license applies to all parts of this software except as documented below.

Copyright (c) 2018 Twilio, Inc.
All rights reserved.

 Licensed under the Apache License, Version 2.0 (the “License”);
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an “AS IS” BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.


This software includes react under the following license.

Copyright (c) Facebook, Inc. and its affiliates.

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.


This software includes redux under the following license.
Copyright (c) 2015-present Dan Abramov

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.


This software includes semver under the following license.
Copyright (c) Isaac Z. Schlueter and Contributors

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted, provided that the above
copyright notice and this permission notice appear in all copies.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR
IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.


This software includes loglevel under the following license.
Copyright (c) 2013 Tim Perry

Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the "Software"), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.


This software includes hoist-non-react-statics under the following license.

Software License Agreement (BSD License)
========================================

Copyright (c) 2015, Yahoo! Inc. All rights reserved.
----------------------------------------------------

Redistribution and use of this software in source and binary forms, with or
without modification, are permitted provided that the following conditions are
met:

  * Redistributions of source code must retain the above copyright notice, this
    list of conditions and the following disclaimer.
  * Redistributions in binary form must reproduce the above copyright notice,
    this list of conditions and the following disclaimer in the documentation
    and/or other materials provided with the distribution.
  * Neither the name of Yahoo! Inc. nor the names of YUI's contributors may be
    used to endorse or promote products derived from this software without
    specific prior written permission of Yahoo! Inc.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.*/
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Flex=t():(e.Twilio=e.Twilio||{},e.Twilio.Flex=t())}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/assets/",n(n.s=118)}([function(e,t){e.exports=require("@twilio/frame-ui")},function(e,t){e.exports=require("react")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(23);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(128)),t.default=r.default,t.withTheme=function(e){return o.withTheme(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(43),o=n(67),i=n(32),a=n(69),s=function(e){return e.flex},l=function(){function e(){}return e.init=function(t,n){void 0===n&&(n=s),e._stateCallback=n,e._store=t},Object.defineProperty(e,"state",{get:function(){if(!e._stateCallback)throw new Error("FlexModule not initialized");return e.stateCallback(e._store.getState())},enumerable:!0,configurable:!0}),e.dispatch=function(t){if(!e._store)throw new Error("FlexModule not initialized");return e._store.dispatch(t)},Object.defineProperty(e,"stateCallback",{get:function(){return e._stateCallback},enumerable:!0,configurable:!0}),Object.defineProperty(e,"chatClient",{get:function(){return this._chatClient},set:function(e){this._chatClient=e,e&&a.ChatListener.init(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"workerClient",{get:function(){return this._workerClient},set:function(e){this._workerClient=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"insightsClient",{get:function(){return this._insightsClient},set:function(e){this._insightsClient=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return this._events},enumerable:!0,configurable:!0}),Object.defineProperty(e,"voiceClient",{get:function(){return this._voiceClient},enumerable:!0,configurable:!0}),e._events=new i.FlexEventEmitter,e._voiceClient=o.Device,e}();t.FlexModule=l,t.connect=function(e,t,n,o){return void 0===t&&(t=void 0),void 0===n&&(n=void 0),void 0===o&&(o=void 0),r.connect(function(t,n){return e(l.stateCallback(t),n)},t,n,o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.Template=r.Template,t.CompiledTemplate=r.CompiledTemplate;var o=r.templates;t.templates=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(15),a=n(124),s=n(3),l=n(10),c=n(17),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(a.Message);t.ChatMessageHelper=u;var p=function(){function e(e){this.task=e}return Object.defineProperty(e.prototype,"lastChatMessage",{get:function(){if(e.isChatBasedTask(this.task)){var t=i.StateHelper.getChatChannelStateForTask(this.task);if(t){var n=t.messages.length>0?t.messages[t.messages.length-1].source:void 0;if(n){var r=t.members.get(n.author);r&&(n.authorName=r.friendlyName?r.friendlyName:n.author)}return n}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationSinceUpdate",{get:function(){return o.Utils.formatTimeDuration(Math.max(Date.now()-this.task.dateUpdated.getTime(),0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationSinceUpdateShort",{get:function(){return o.Utils.formatTimeDuration(Math.max(Date.now()-this.task.dateUpdated.getTime(),0),"compact")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jsonString",{get:function(){return JSON.stringify(this.task,void 0,2)},enumerable:!0,configurable:!0}),e.isLiveCall=function(e){return this.isCallTask(e)&&"accepted"===e.status},e.isCallOnHold=function(t){return!(!e.isLiveCall(t)||!e.isMyTask(t))&&(!(e.isRegularLiveConferenceCall(t)||!s.FlexModule.state.phone.connection||!s.FlexModule.state.phone.connection.oldHold)||!!t.conference&&t.conference.participants.some(function(e){return e.onHold}))},e.canHold=function(t){if(!e.isLiveCall(t)||!e.isMyTask(t))return!1;if(!e.isRegularLiveConferenceCall(t))return!0;if(!t.transferObject)return!0;var n=t.conference.participants.find(function(e){return e.workerSid===t.transferObject.workerSid});return!n||"left"===n.status||"recently_left"===n.status},e.canTransfer=function(t){if(!e.isLiveCall(t)||!e.isMyTask(t))return!1;if(!e.isRegularLiveConferenceCall(t))return!1;if(!t.transferObject)return!0;var n=t.conference.participants.find(function(e){return e.workerSid===t.transferObject.workerSid});return!n||"left"===n.status||"recently_left"===n.status},e.isRegularLiveConferenceCall=function(e){return this.isLiveCall(e)&&e.conference&&e.conference.liveWorkerCount>0},e.isLiveChat=function(e){return this.isChatBasedTask(e)&&"accepted"===e.status},e.isIncomingCall=function(e){return this.isCallTask(e)&&this.isPending(e)},e.isChatBasedTask=function(e){var t=l.TaskChannels.getForTask(e);return!!t&&t.capabilities.has(c.TaskChannelCapability.Chat)},e.isCallTask=function(e){if(!e)return!1;var t=l.TaskChannels.getForTask(e);return!!t&&t.capabilities.has(c.TaskChannelCapability.Call)},e.isVideoCallTask=function(e){var t=l.TaskChannels.getForTask(e);return!!t&&t.capabilities.has(c.TaskChannelCapability.Video)},e.getTaskChatChannelSid=function(e){return(e.attributes.channelSid||"").trim()},e.isPending=function(e){return"pending"===e.status},e.isInWrapupMode=function(e){return"wrapping"===e.status},e.isCompleted=function(e){return"completed"===e.status},e.isMyTask=function(e){return e.workerSid&&e.workerSid===s.FlexModule.workerClient.sid},e.getTaskFromChannelSid=function(t){return Array.from(s.FlexModule.state.worker.tasks.values()).find(function(n){return t===e.getTaskChatChannelSid(n)})},e.getTaskByTaskSid=function(e){return s.FlexModule.state.worker.tasks.get(e)},e.isTaskAccepted=function(t){return e.isCompleted(t)||e.isInWrapupMode(t)||"accepted"===t.status},e}();t.TaskHelper=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(123).getLogger("twilio-flex-ui");t.log=r,t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=function(){function e(){}return e.getTemplateForStatus=function(e,t,n){if(!t&&""!==t)throw new Error("No template holder");return"string"==typeof t?t:"function"==typeof t?t(e,n):"pending"===e.status&&t.Pending||"accepted"===e.status&&t.Accepted||"wrapping"===e.status&&t.Wrapping||"completed"===e.status&&t.Completed||"canceled"===e.status&&t.Canceled||"pending"===e.status&&t.Reserved||"accepted"===e.status&&t.Assigned},e.getIcon=function(e,t,n){if(!t)throw new Error("No icon holder");if("string"==typeof t||r.isValidElement(t))return t;if("function"==typeof t)return t(e,n);var o=t;return"wrapping"===e.status&&o.Wrapping||"completed"===e.status&&o.Completed||"canceled"===e.status&&o.Canceled||"pending"===e.status&&o.Pending||"accepted"===e.status&&o.Accepted||"pending"===e.status&&o.Reserved||"accepted"===e.status&&o.Assigned},e.getColor=function(e,t,n){if(!t)throw new Error("No color holder");return"string"==typeof t?t:"function"==typeof t?t(e,n):"pending"===e.status&&t.Pending||"accepted"===e.status&&t.Accepted||"wrapping"===e.status&&t.Wrapping||"completed"===e.status&&t.Completed||"canceled"===e.status&&t.Canceled||"pending"===e.status&&t.Reserved||"accepted"===e.status&&t.Assigned},e}();t.TaskChannelHelper=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(9))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(122),c=n(5),u=n(15),p=n(10),f=n(3);t.TaskContext=s.createContext({});var d=function(e,t){var n,r=e.worker.tasks.get(t.taskSid);return c.TaskHelper.isCallTask(r)&&(n=e.conferences.states.get(r.taskSid)),{task:r,conference:n,call:r&&c.TaskHelper.isLiveCall(r)?u.StateHelper.getCurrentPhoneCallState():void 0,chatChannel:r&&c.TaskHelper.isChatBasedTask(r)?e.chat.channels[c.TaskHelper.getTaskChatChannelSid(r)]:void 0}},h=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(){var e=this.props,n=(e.taskSid,e.children),r=a(e,["taskSid","children"]);return r.channelDefinition=r.task?p.TaskChannels.getForTask(r.task):void 0,s.createElement(t.TaskContext.Provider,{value:r},n)},n=i([f.connect(d)],n)}(s.PureComponent);t.TaskContextSource=h,t.withTaskContext=function(e){var n=e,i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return r(i,e),i.prototype.render=function(){var e=this;return s.createElement(t.TaskContext.Consumer,null,function(t){return s.createElement(n,o({},t,e.props))})},i.displayName="WithTaskContext("+n.displayName+")",i}(s.Component);return l(i,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(6),i=n(125);t.DefaultTaskChannels=i,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(17));var a,s=n(7);t.TaskChannelHelper=s.TaskChannelHelper;var l=function(){function e(){}return e.prototype.getRegistered=function(){return a},e.prototype.getForTask=function(e){var t=a.find(function(t){return t.isApplicable(e)});return t||(o.default.trace("Task channel definition not found for task, using default",e),i.Default)},e.prototype.register=function(e,t){if(void 0===t&&(t=!0),a.find(function(t){return t===e||t.name===e.name}))return o.default.error("Task channel with the same name already registered");t&&(e=r.Utils.merge(i.Default,e)),o.default.info("Registering custom task channel",e.name,e),a.unshift(e)},e.prototype.unregister=function(e){var t=a&&a.find(function(t){return t.name===e.name});if(!t)return o.default.warn("Task channel does not exist",e);o.default.info("Unregistering task channel",t);var n=t._registrationCallbacks;n&&Array.isArray(n)&&n.forEach(function(e){return"function"==typeof e&&e()}),a=a.filter(function(e){return e===t})},e}();t.TaskChannels=new l,t.registerDefaultTaskChannels=function(e){i.initDefaultChannels(e),a=[i.Call,i.ChatLine,i.ChatMessenger,i.ChatSms,i.ChatWhatsApp,i.Chat]},t.initAllRegisteredTaskChannels=function(e){o.default.debug("Initializing registered task channels"),a.forEach(function(t){o.default.debug("Initializing task channel",t.name,t),c(t,e)})};var c=function(e,t){var n=[],r=function(e){if(e)if(t[e]){var n=t[e].Content;if(n)return n;o.default.error("Component doest not have dynamic Content",e)}else o.default.error("Component doest not exist",e);else o.default.error("Invalid target",e)},i=function(t,i){Array.isArray(t)&&t.forEach(function(t){var a=t.component,s=t.target;if(!a)return o.default.error("Invalid component",a);var l=r(s);if(l){var c=t.options||{};c.replace=i;var u=c.if;c.if=function(t){return t.task&&e.isApplicable(t.task)&&(!u||u(t))},o.default.debug("Registering custom component. Target="+s+" replace="+i+", channel: "+e.name,e,a),n.push(l.add(a,c))}})};i(e.addedComponents,!1),i(e.replacedComponents,!0),function(t){Array.isArray(t)&&t.forEach(function(t){var i=t.key,a=t.target;if(!i)return o.default.error("Invalid key",i);var s=r(a);if(s){var l=t.options||{},c=l.if;l.if=function(t){return t.task&&e.isApplicable(t.task)&&(!c||c(t))},o.default.debug("Registering component removal. Target="+a+", key: "+i+" channel: "+e.name,e),n.push(s.remove(i,l))}})}(e.removedComponents),e._registrationCallbacks=n}},function(e,t){e.exports=require("react-emotion")},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(16),s=n(0),l=n(53),c=n(88),u=n(3),p=n(21),f=n(56),d=n(60),h=n(150);t.defaultConfiguration=h.default;var m=n(93),g=n(38),v=n(25),y=n(6),k=n(153),C=n(31),b=n(61),w=n(10),T=n(154),_=n(94),x=n(95),O=function(e){return e.flex.chat},P=function(){function e(e,t){this._initialized=!1,this._store=t,this.configureReduxStore(),this.updateConfig(h.default,e)}var t,n;return e.getInstance=function(){return this._instance},e.validateConfig=function(e){"string"==typeof e.colorTheme&&(e.colorTheme={baseName:e.colorTheme})},e.create=function(t,n,r){if("object"!=typeof t&&(t=n,n=r,y.default.warn("Deprecated signature of Manager.create called and will not be supported by the future releases. Please change accordingly. Pass first parameter as configuration object and optionally your own Redux store as second parameter.")),y.default.setLevel(void 0===t.logLevel?"error":t.logLevel),y.default.info("Creating manager. flex-ui version:",b.VERSION,"frame-ui version:",s.VERSION),!n){var o=d.default(t.router);n=f.createDefaultStore({history:o})}return n.getState().flex?g.SSOLoginHandler.create(t.sso).then(function(r){return i=new e(t,n),p.Actions.ssoLogin(r)}).then(function(){return i.fetchConfiguration()}).then(function(e){if(!i.validateServiceVersion())throw new Error("Service version is not compatible");return e}).then(function(n){void 0===n&&(n={}),i.updateConfig(n,t),e._instance=i,_.Wfo.Identity.onPropertyUpdated({name:"accountSid",value:i.serviceConfiguration.account_sid})}).then(function(){return m.loadPlugins(x.Flex,i)}).then(function(){return y.default.debug("ready to launch"),i}):Promise.reject("Invalid Redux store passed. 'flex' key not found in state.");var i},e.prototype.updateConfig=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.reduce(function(e,t){return s.Utils.merge(e,t)},this.configuration);e.validateConfig(r),this.setStringsFromConfig(r),r.componentProps&&s.Utils.updateDefaultProps(C,r.componentProps),c.Actions.initConfig(r)},Object.defineProperty(e.prototype,"configuration",{get:function(){return u.FlexModule.state.config},set:function(t){e.validateConfig(t),e.validateConfig(h.default),t=s.Utils.merge(h.default,t),this.setStringsFromConfig(t),t.componentProps&&s.Utils.updateDefaultProps(C,t.componentProps),c.Actions.initConfig(t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serviceConfiguration",{get:function(){return this._serviceConfiguration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"store",{get:function(){return this._store},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){return u.FlexModule.events},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strings",{get:function(){if(!this._strings)throw new Error("Strings not set");return this._strings},set:function(e){this._strings=e,this._initialized&&s.initWithStrings(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"user",{get:function(){var e=u.FlexModule.state.session.ssoTokenPayload;return{identity:e.identity,roles:e.roles,token:e.token,tokenExpirationDate:new Date(Date.parse(e.expiration))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chatClient",{get:function(){return u.FlexModule.chatClient},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"voiceClient",{get:function(){return u.FlexModule.voiceClient},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workerClient",{get:function(){return u.FlexModule.workerClient},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"insightsClient",{get:function(){return u.FlexModule.insightsClient},enumerable:!0,configurable:!0}),e.prototype.loadInitialData=function(){return s.initWithStrings(this.strings),w.initAllRegisteredTaskChannels(C),this._initialized=!0,Promise.resolve()},e.prototype.fetchConfiguration=function(){var e=this,t=u.FlexModule.state.session.ssoTokenPayload.token;return a.default.get(this.configuration.flexConfigServiceUrl,{auth:{username:"token",password:t},params:{UiVersion:b.VERSION}}).then(function(t){var n=t.data;return e._serviceConfiguration=n,r({sso:{accountSid:n.account_sid},serviceBaseUrl:n.runtime_domain},n.ui_attributes)}).catch(function(e){throw y.default.error("Failed to fetch configuration",e),e})},e.prototype.validateServiceVersion=function(){if(!this._serviceConfiguration)throw new Error("No service configuration");var e=this._serviceConfiguration.ui_attributes;if(!e)throw new Error("No ui_attributes in service configuration");return T.isCompatible(e.version_compatibility,e.version_message)},e.prototype.configureReduxStore=function(){u.FlexModule.init(this._store),s.ChatModule.init(this._store,O)},e.prototype.setStringsFromConfig=function(e){if(this.configuration.language!==e.language){var t=e.language||"default",n=v.languages[t]||v.languages.default;this.strings=n}},o([k.deprecatedSetter("updateConfig"),i("design:type","function"==typeof(t=void 0!==l&&l.Config)?t:Object),i("design:paramtypes",["function"==typeof(n=void 0!==l&&l.Config)?n:Object])],e.prototype,"configuration",null),e}();t.Manager=P},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(41),a=n(3),s=n(144),l=n(24),c=n(6),u=n(5),p=n(14);!function(e){e[e.none=0]="none",e[e.waiting=1]="waiting",e[e.monitoring=2]="monitoring"}(o=t.CallMonitoringStatus||(t.CallMonitoringStatus={}));var f={callMonitoring:{status:o.none},workers:[],stickyWorker:null};t.ACTION_UPDATE_STATE="SUPERVISOR_UPDATE",t.ACTION_MONITORING_SUCCEEDED="SUPERVISOR_INCOMING_CALL",t.reduce=function(e,n){switch(void 0===e&&(e=f),n.type){case t.ACTION_UPDATE_STATE:var i=n.payload;return r({},e,i);case t.ACTION_MONITORING_SUCCEEDED:return e.callMonitoring.status!==o.waiting?e:(i={callMonitoring:r({},e.callMonitoring,{status:o.monitoring})},r({},e,i));default:return e}};var d=function(){function e(){}return e.dispatchStateUpdate=function(e,n){var o=this;void 0===n&&(n=!0);var i=function(e){o.dispatcher({type:t.ACTION_UPDATE_STATE,payload:e})};n?(this.stateUpdateThrottler&&(clearTimeout(this.stateUpdateThrottler),this.stateUpdateThrottler=null,i(this.pendingStateUpdate),this.pendingStateUpdate=null),i(e)):this.stateUpdateThrottler?this.pendingStateUpdate=r({},this.pendingStateUpdate,e):(i(e),this.pendingStateUpdate={},this.stateUpdateThrottler=setTimeout(function(){clearTimeout(o.stateUpdateThrottler),i(o.pendingStateUpdate),o.stateUpdateThrottler=null,o.pendingStateUpdate=null},500))},Object.defineProperty(e,"dispatcher",{get:function(){return this._dispatcher||a.FlexModule.dispatch},set:function(e){this._dispatcher=e},enumerable:!0,configurable:!0}),e.assignInsights=function(e){this.dispatchStateUpdate({listener:new h(e)})},e.monitorCall=function(e){var n=this;if(this.callMonitoringStart)throw"UI should not allow attempt to start monitoring before previous attempt has been resolved";var r=setTimeout(function(){var t=a.FlexModule.state.supervisor.callMonitoring;t.status===o.waiting&&t.taskSid===e.sid&&(n.dispatchStateUpdate({callMonitoring:{taskSid:e.sid,status:o.none}}),p.Notifications.showNotification(p.NotificationIds.MonitoringFailed))},5e3),i=function(e){if("conf_state"===e.key)return!1;var t=new l.ConferenceParticipant(e.value);return"supervisor"===t.participantType&&t.isMyself},s=new l.ConferenceListener(e.taskSid,function(r,a){var s=a.children.filter(i),c=s.some(function(e){return"joined"===new l.ConferenceParticipant(e.value).status});!c&&s.length>n.callMonitoringStart.startingCountOfMyselvesAsSupervisor&&(a.stop(),n.callMonitoringStart=void 0,n.dispatchStateUpdate({callMonitoring:{taskSid:e.sid,status:o.none}})),c&&n.callMonitoringStart.timer&&(clearTimeout(n.callMonitoringStart.timer),n.dispatchStateUpdate({},!0),n.dispatcher({type:t.ACTION_MONITORING_SUCCEEDED,payload:{}}))}),c=e.conference.source.children.filter(i);this.callMonitoringStart={conferenceListener:s,timer:r,startingCountOfMyselvesAsSupervisor:c.length},this.dispatchStateUpdate({callMonitoring:{taskSid:e.sid,status:o.waiting}})},e.manageConferenceListening=function(e,t){var n=this;this.listenedConferences||(this.listenedConferences=new Set);var r=e.slice();t&&e&&r.push(t);var o=[];r.forEach(function(e){e.tasks.forEach(function(e){u.TaskHelper.isCallTask(e)&&o.push(e)})}),this.listenedConferences.forEach(function(e){o.find(function(t){return t.taskSid===e})||(l.ConferenceListenerManager.stopListening(e),n.listenedConferences.delete(e))}),o.forEach(function(e){n.listenedConferences.has(e.taskSid)||(l.ConferenceListenerManager.startListening(e),n.listenedConferences.add(e.taskSid))})},e.updateStateWorkers=function(e){this.manageConferenceListening(e,a.FlexModule.state.supervisor.stickyWorker),this.dispatchStateUpdate({workers:e},!1)},e.updateStateStickyWorker=function(e){this.manageConferenceListening(a.FlexModule.state.supervisor.workers,e),this.dispatchStateUpdate({stickyWorker:e},!1)},e.setActiveFilterQuery=function(e,t){a.FlexModule.state.supervisor.listener.setActiveFilterQuery(e,t)},e.setStickyWorkerSid=function(e){a.FlexModule.state.supervisor.listener.setStickyWorkerSid(e)},e.shutdown=function(){c.default.debug("Supervisor state logout"),this.callMonitoringStart&&(clearTimeout(this.callMonitoringStart.timer),this.callMonitoringStart.conferenceListener.stop(),this.callMonitoringStart=void 0),this.listenedConferences&&this.listenedConferences.forEach(function(e){l.ConferenceListenerManager.stopListening(e)});var e=a.FlexModule.state.supervisor.listener;e&&e.unInit()},e}();t.Actions=d;var h=function(){function e(e){var t=this;this.workerListeners=[],this.onWorkerTasksChanged=function(e){t.updateCurrentWorkers()},this.insightsClient=e}return e.prototype.setActiveFilterQuery=function(e,t){this.activeFilterQuery=e,this.taskFilter=t,this.initInsights()},e.prototype.setStickyWorkerSid=function(e){return this.stickyWorkerSid=e,e?this.initStickyWorker():(d.updateStateStickyWorker(null),this.unInitStickyWorker())},e.prototype.initInsights=function(){var e=this;this.unInit();var t=this.activeFilterQuery||"";this.insightsClient.liveQuery("tr-worker",t).then(function(t){e.workersLiveQuery=t,e.loadInitialWorkers(t.getItems()),t.on("itemUpdated",function(t){e.onWorkerItemUpdated(t)}),t.on("itemRemoved",function(t){e.onWorkerItemRemoved(t)})})},e.prototype.unInit=function(){this.workersLiveQuery&&(this.workersLiveQuery.removeAllListeners(),this.workersLiveQuery.close())},e.prototype.updateCurrentWorkers=function(){var e=this.workerListeners.map(function(e){return e.state});d.updateStateWorkers(e)},e.prototype.loadInitialWorkers=function(e){var t=this,n=[];for(var r in e){var o=e[r];n.push(new i.InsightsWorker(o))}var a=this.workerListeners.slice();this.workerListeners.filter(function(e){return!n.find(function(t){return t.sid===e.state.worker.sid})}).forEach(function(e){e.unInit()}),a=this.workerListeners.filter(function(e){return n.find(function(t){return t.sid===e.state.worker.sid})}),n.forEach(function(e){var n=a.findIndex(function(t){return t.state.worker.sid===e.sid});if(n>-1)a[n].updateWorker(e);else{var r=new s.WorkerListener(e,t.insightsClient,t.onWorkerTasksChanged,t.taskFilter);a.push(r)}}),this.workerListeners=a,this.updateCurrentWorkers()},e.prototype.onWorkerItemUpdated=function(e){var t=new i.InsightsWorker(e.value),n=this.workerListeners.slice(),r=n.findIndex(function(e){return e.state.worker.sid===t.sid});if(r>=0)n[r].updateWorker(t);else{var o=new s.WorkerListener(t,this.insightsClient,this.onWorkerTasksChanged,this.taskFilter);n.push(o)}this.stickyWorker&&t.sid===this.stickyWorker.state.worker.sid&&(this.stickyWorker.state.worker=t),this.workerListeners=n,this.updateCurrentWorkers()},e.prototype.onWorkerItemRemoved=function(e){var t=this.workerListeners.findIndex(function(t){return t.state.worker.sid===e.key});t>=-1&&(this.workerListeners[t].unInit(),this.workerListeners.splice(t,1)),this.updateCurrentWorkers()},e.prototype.initStickyWorker=function(){var e=this;this.unInitStickyWorker(),this.insightsClient.liveQuery("tr-worker",'data.worker_sid == "'+this.stickyWorkerSid+'"').then(function(t){e.stickyWorkerLiveQuery=t,e.loadInitialStickyWorker(t.getItems()),t.on("itemUpdated",function(t){e.onStickyWorkerUpdate(t)}),t.on("itemRemoved",function(){e.onStickyWorkerRemoved()})})},e.prototype.unInitStickyWorker=function(){this.stickyWorkerLiveQuery&&(this.stickyWorkerLiveQuery.removeAllListeners(),this.stickyWorkerLiveQuery.close())},e.prototype.loadInitialStickyWorker=function(e){var t=this,n=Object.keys(e)[0];if(!n&&this.stickyWorker&&(this.stickyWorker.unInit(),this.stickyWorker=null),n){var r=new i.InsightsWorker(e[n]);this.stickyWorker=r&&new s.WorkerListener(r,this.insightsClient,function(){return d.updateStateStickyWorker(t.stickyWorker.state)},this.taskFilter)}d.updateStateStickyWorker(this.stickyWorker?this.stickyWorker.state:null)},e.prototype.onStickyWorkerUpdate=function(e){var t=new i.InsightsWorker(e.value);d.updateStateStickyWorker(r({},this.stickyWorker.state,{worker:t})||null)},e.prototype.onStickyWorkerRemoved=function(){this.stickyWorker&&this.stickyWorker.unInit(),this.stickyWorker=null,d.updateStateStickyWorker(null)},e}();t.SupervisorWorkersListener=h;var m=function(){function e(){}return e.getTaskBySid=function(e){var t=a.FlexModule.state.supervisor.workers.slice();a.FlexModule.state.supervisor.stickyWorker&&t.push(a.FlexModule.state.supervisor.stickyWorker);for(var n=0;n<t.length;n++){var r=t[n].tasks.find(function(t){return t.sid===e});if(r)return r}},e.getWorkerBySid=function(e){var t=a.FlexModule.state.supervisor.workers.slice();a.FlexModule.state.supervisor.stickyWorker&&t.push(a.FlexModule.state.supervisor.stickyWorker);var n=t.find(function(t){return t.worker.sid===e});return n?n.worker:void 0},e}();t.SupervisorStateHelper=m},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.Notifications=o.Notifications,t.NotificationType=o.NotificationType,t.NotificationEvent=o.NotificationEvent;var i=n(90);t.NotificationIds=r({},o.NotificationIds,i),t.registerToNotifications=function(){var e={id:t.NotificationIds.PendingReservationsOnLogout,content:"NotificationMessage",type:o.NotificationType.error};o.Notifications.registerNotification(e);var n={id:t.NotificationIds.PendingReservationsOnActivityStateChange,content:"NotificationMessage",type:o.NotificationType.error};o.Notifications.registerNotification(n);var r={id:t.NotificationIds.BrowserVoiceDisabled,content:"BrowserVoiceDisabledNotification",type:o.NotificationType.error};o.Notifications.registerNotification(r);var i={id:t.NotificationIds.TransferFailed,content:"TransferFailedNotification",type:o.NotificationType.error};o.Notifications.registerNotification(i);var a={id:t.NotificationIds.MicTaken,content:"MicNotAvailableNotification",type:o.NotificationType.error,timeout:5e3};o.Notifications.registerNotification(a);var s={id:t.NotificationIds.CannotChangeOtherWorkerActivity,content:"CannotChangeOtherWorkerActivity",type:o.NotificationType.error};o.Notifications.registerNotification(s);var l={id:t.NotificationIds.MonitoringFailed,content:"MonitoringFailedNotification",type:o.NotificationType.error};o.Notifications.registerNotification(l);var c={id:t.NotificationIds.MessageSizeExceeded,content:"MessageSizeExceeded",type:o.NotificationType.error};o.Notifications.registerNotification(c)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(5),i=function(){function e(){}return e.getCurrentPhoneCallState=function(){return r.FlexModule.state.phone.connection},e.getChatChannelStateForTask=function(e){var t=o.TaskHelper.getTaskChatChannelSid(e);if(t)return r.FlexModule.state.chat.channels[t]},e.getReservation=function(e){var t=r.FlexModule.state.worker.tasks.get(e);return t?t.sourceObject:void 0},e.getTaskByTaskrouterTaskSid=function(e){return Array.from(r.FlexModule.state.worker.tasks.values()).find(function(t){return t.taskSid===e})},e}();t.StateHelper=i},function(e,t){e.exports=require("axios")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Info="Info",e.Call="Call",e.Chat="Chat",e.Video="Video",e.Wrapup="Wrapup"}(t.TaskChannelCapability||(t.TaskChannelCapability={}))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(0),c=n(72),u=n(5),p=n(3),f=n(2);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(72));var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return s.createElement(h,o({},this.props))},t}(s.PureComponent);t.TaskDetailsPanel=d;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.refreshTimer=void 0,t.renderContainer=function(){var e=t.props,n=e.IconComponent,r=(e.ActionsComponent,e.titleLine),i=e.firstLine,f=e.secondLine,d=e.task,h=(e.conference,e.contentComponent),m=a(e,["IconComponent","ActionsComponent","titleLine","firstLine","secondLine","task","conference","contentComponent"]),g=new u.TaskHelper(d),v=p.FlexModule.state.supervisor.workers.find(function(e){return e.worker.sid===t.props.task.workerSid});!v&&p.FlexModule.state.supervisor.stickyWorker&&t.props.task.workerSid===p.FlexModule.state.supervisor.stickyWorker.worker.sid&&(v=p.FlexModule.state.supervisor.stickyWorker);var y=!!v&&v.worker;return h||s.createElement(c.InfoContainer,{key:"info-container",className:"Twilio-TaskDetailsPanel-Info"},!!r&&s.createElement(c.TitleLineContainer,{className:"Twilio-TaskDetailsPanel-TitleLine"},s.createElement(l.Template,{code:r,task:d,helper:g,worker:y})),!!n&&s.createElement(c.IconContainer,{className:"Twilio-TaskDetailsPanel-Icon"},s.createElement(n,o({task:d},m))),!!i&&s.createElement(c.FirstLineContainer,{className:"Twilio-TaskDetailsPanel-FirstLine"},s.createElement(l.Template,{code:i,task:d,helper:g,worker:y})),!!f&&s.createElement(c.SecondLineContainer,{className:"Twilio-TaskDetailsPanel-SecondLine"},s.createElement(l.Template,{code:f,task:d,helper:g,worker:y})))},t}return r(t,e),t.prototype.componentWillMount=function(){var e=this;this.refreshTimer=window.setInterval(function(){return e.forceUpdate()},1e3)},t.prototype.componentWillUnmount=function(){void 0!==this.refreshTimer&&window.clearInterval(this.refreshTimer)},t.prototype.render=function(){var e=this.props,t=e.content,n=e.ActionsComponent,r=e.task,i=e.footerLine,p=a(e,["content","ActionsComponent","task","footerLine"]),f=new u.TaskHelper(r);return s.createElement(l.DynamicComponent,{contentStore:t,childProps:this.props,name:t.name,customChildren:this.props.children,vertical:!0},s.createElement(c.Container,null,s.createElement(c.ContentContainer,{key:"container"},this.renderContainer()),!!i&&s.createElement(c.FooterContainer,{key:"footer-container"},s.createElement(l.Template,{code:i,task:r,helper:f})),s.createElement(c.ButtonContainer,{key:"button-container",className:"Twilio-TaskDetailsPanel-Buttons"},!!n&&s.createElement(n,o({task:r},p)))))},t=i([f.withTheme],t)}(s.PureComponent)},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(36),i=n(3),a={isSideNavOpen:!1,isDirectoryOpen:!1};t.ACTION_TOGGLE_SIDEBAR="VIEW_TOGGLE_SIDEBAR",t.ACTION_UPDATE_VIEW="VIEW_UPDATE",t.reduce=function(e,n){switch(void 0===e&&(e=a),n.type){case t.ACTION_TOGGLE_SIDEBAR:return r({},e,{isSideNavOpen:!e.isSideNavOpen});case t.ACTION_UPDATE_VIEW:var o=n.payload;return r({},e,o);default:return e}};var s=function(){function e(){}return Object.defineProperty(e,"dispatcher",{get:function(){return this._dispatcher||i.FlexModule.dispatch},set:function(e){this._dispatcher=e},enumerable:!0,configurable:!0}),e.toggleSidebar=function(){this.dispatcher({type:t.ACTION_TOGGLE_SIDEBAR})},e.hideSidebar=function(){this.dispatcher({type:t.ACTION_UPDATE_VIEW,payload:{isSideNavOpen:!1}})},e.setActiveView=function(e){this.dispatcher({type:t.ACTION_UPDATE_VIEW,payload:{activeView:e,isSideNavOpen:!1}}),i.FlexModule.events.emitSelectedViewChanged(e)},e.showDirectory=function(e){this.dispatcher({type:t.ACTION_UPDATE_VIEW,payload:{isDirectoryOpen:!0}})},e.hideDirectory=function(){this.dispatcher({type:t.ACTION_UPDATE_VIEW,payload:{isDirectoryOpen:!1}})},e.selectTask=function(e){this.dispatcher({type:t.ACTION_UPDATE_VIEW,payload:{selectedTaskSid:e}})},e.selectTaskInSupervisor=function(e){this.dispatcher({type:t.ACTION_UPDATE_VIEW,payload:{selectedTaskInSupervisorSid:e}})},e.selectWorkerInSupervisor=function(e){this.dispatcher({type:t.ACTION_UPDATE_VIEW,payload:{selectedWorkerInSupervisorSid:e}})},e.push=function(t){t!==(i.FlexModule.state.router.location&&i.FlexModule.state.router.location.pathname)&&e.dispatcher(o.push.call(this,t))},e.replace=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.dispatcher(o.replace.apply(this,t))},e.go=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.dispatcher(o.go.apply(this,t))},e.goForward=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.dispatcher(o.goForward.apply(this,t))},e.goBack=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.dispatcher(o.goBack.apply(this,t))},e}();t.Actions=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.accountSid="accountSid",e.sso="sso"}(t.ConfigErrorKeys||(t.ConfigErrorKeys={}));var o=function(e){function t(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var i=this;return(i=r.length?e.apply(this,r)||this:e.call(this,"Invalid or missing configuration: "+n+" is required")||this).key=n,Object.setPrototypeOf(i,t.prototype),i}return r(t,e),t}(Error);t.ConfigError=o,function(e){e.accountSid="accountSid",e.sso="sso",e.untrustedDomain="untrustedDomain"}(t.ValidationErrorKeys||(t.ValidationErrorKeys={}));var i=function(e){function t(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var i=this;return(i=r.length?e.apply(this,r)||this:e.call(this,"Validation error: invalid "+n)||this).key=n,Object.setPrototypeOf(i,t.prototype),i}return r(t,e),t}(Error);t.ValidationError=i,function(e){e.windowClosed="windowClosed",e.popupBlocked="popupBlocked",e.noWindowOpener="noWindowOpener",e.redirecting="redirecting"}(t.BrowserErrorKeys||(t.BrowserErrorKeys={}));var a=function(e){function t(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var i=this;return(i=r.length?e.apply(this,r)||this:e.call(this,"Browser error: "+n)||this).key=n,Object.setPrototypeOf(i,t.prototype),i}return r(t,e),t}(Error);t.BrowserError=a;var s=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=this;return o=n.length?e.apply(this,n)||this:e.call(this,"Internal error")||this,Object.setPrototypeOf(o,t.prototype),o}return r(t,e),t}(Error);t.InternalError=s,function(e){e.loginWindowOpenedFromLoginWindow="loginWindowOpenedFromLoginWindow",e.metaNoReferrerMissing="metaNoReferrerMissing"}(t.ClientErrorKeys||(t.ClientErrorKeys={}));var l=function(e){function t(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var i=this;return(i=r.length?e.apply(this,r)||this:e.call(this,"Client error: "+n)||this).key=n,Object.setPrototypeOf(i,t.prototype),i}return r(t,e),t}(Error);t.ClientError=l},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(141),a=n(142),s=n(0),l=n(3),c=n(6),u=n(54),p=n(13),f=n(55),d=n(40),h=n(24),m=n(145),g=n(12);!function(e){e.Unknown="UNKNOWN",e.LoggingIn="LOGGING_IN",e.LoggedIn="LOGGED_IN",e.LoggedOut="LOGGED_OUT",e.Error="ERROR"}(o=t.LoginState||(t.LoginState={}));var v={identity:void 0,loginHandler:void 0,loginState:o.Unknown,loginError:void 0,ssoTokenPayload:void 0};s.Notifications.registerNotification({id:"FLEX_SESSION_EXPIRED",closeButton:!0,content:"SessionExpired",timeout:0,type:s.NotificationType.warning});var y="FLEX_ACTION_LOGIN";t.ACTION_LOGGED_OUT="FLEX_ACTION_LOGGED_OUT";var k="FLEX_ACTION_TOKEN_UPDATED";t.reduce=function(e,n){switch(void 0===e&&(e=v),n.type){case y+"_PENDING":return r({},e,{loginState:o.LoggingIn,loginError:void 0});case y+"_REJECTED":return r({},e,{loginState:o.Error,loginError:n.payload});case y+"_FULFILLED":var i=!!(s=n.payload.loginHandler)&&s.getTokenInfo(),a=i?r({},n.payload,{identity:i.identity,ssoTokenPayload:i}):n.payload;return r({},e,a,{loginState:o.LoggedIn,loginError:void 0});case k:var s=n.payload.loginHandler;return r({},e,{ssoTokenPayload:s.getTokenInfo()});case t.ACTION_LOGGED_OUT:return r({},v,{loginState:o.LoggedOut});default:return e}};var C=function(){function e(){}return Object.defineProperty(e,"dispatcher",{get:function(){return this._dispatcher||l.FlexModule.dispatch},set:function(e){this._dispatcher=e},enumerable:!0,configurable:!0}),e.init=function(){this.dispatcher({type:"FLEX_SESSION_INIT"})},e.ssoLogin=function(e){var t=e.getTokenInfo();e.on("tokenUpdated",this.handleTokenUpdated),e.on("tokenExpired",this.handleTokenExpired);var n=this.initClients(t).then(function(){return{loginHandler:e}});return this.dispatcher({type:y,payload:n}),n.then(function(){l.FlexModule.events.emitUserLoggedIn()})},e.handleTokenExpired=function(){l.FlexModule.events.emitTokenExpired(),c.default.trace("Token expired, showing notification"),s.Notifications.showNotification("FLEX_SESSION_EXPIRED")},e.initClients=function(e){var t=e&&e.token,n=new m.Supervisor(t,l.FlexModule.state.config.sdkOptions.worker);l.FlexModule.workerClient=n;var r=new Promise(function(e){n.addListener("ready",function(){c.default.debug("Worker "+n.sid+" is now ready for work"),u.Actions.init(n),e()})});l.FlexModule.state.config.disableBrowserVoice||f.Actions.init(t,l.FlexModule.state.config.sdkOptions.voice);var o=i.Client.create(t,l.FlexModule.state.config.sdkOptions.chat).then(function(e){r.then(function(){var t=n.attributes.public_identity||n.attributes.full_name;t&&e.user.updateFriendlyName(t)}),l.FlexModule.chatClient=e,s.ChatSessionState.Actions.init(e)}).catch(function(e){throw c.default.error("Failed to init Twilio Chat client",e),e}),g=new Promise(function(e,n){try{var r=s.Utils.merge(l.FlexModule.state.config.sdkOptions.insights,{}),o=new a.SyncClient(t,r),i=setTimeout(function(){n("Unable to initialize insights client in 10000 ms")},1e4);c.default.debug("Insights Client initial connection state: "+o.connectionState);var u=function(t){c.default.debug("Insights Client new state: "+t),"connected"===t&&(clearTimeout(i),l.FlexModule.insightsClient=o,d.Actions.init(o),p.Actions.assignInsights(o),h.Actions.assignInsights(o),o.removeListener("connectionStateChange",u),e())};o.on("connectionStateChanged",u)}catch(e){c.default.error("Failed to init insights client",e)}});return Promise.all([r,o,g])},e.logout=function(e){var n=this,r=g.Manager.getInstance().serviceConfiguration.taskrouter_offline_activity_sid;return c.default.info("Session state logout"),(e.activitySid||r?u.Actions.setCurrentActivity(e.activitySid||r):e.activityName?u.Actions.setCurrentActivityByName(e.activityName):Promise.resolve()).catch(function(t){if(c.default.warn("Unable to make worker offline"),!e.forceLogout)throw t}).then(function(){var e=l.FlexModule.state.session.loginHandler;e&&(e.removeListener("tokenUpdated",n.handleTokenUpdated),e.removeListener("tokenExpired",n.handleTokenExpired),e.logout()),u.Actions.shutdown(),l.FlexModule.state.config.disableBrowserVoice||f.Actions.shutdown(),s.ChatSessionState.Actions.shutdown(),d.Actions.shutdown(),p.Actions.shutdown(),h.Actions.shutdown(),l.FlexModule.workerClient=void 0,l.FlexModule.chatClient=void 0,l.FlexModule.insightsClient=void 0,n.dispatcher({type:t.ACTION_LOGGED_OUT})})},e.handleTokenUpdated=function(t){e.dispatcher({type:k,payload:{loginHandler:t}});var n=l.FlexModule.workerClient,r=l.FlexModule.chatClient,o=l.FlexModule.voiceClient,i=l.FlexModule.insightsClient,a=t.getTokenInfo(),s=a&&a.token;c.default.debug("token updated",a),n&&(c.default.debug("Updating worker client token"),n.updateToken(s)),r&&(c.default.debug("Updating chat client token"),r.updateToken(s)),!l.FlexModule.state.config.disableBrowserVoice&&o&&(c.default.debug("Updating voice client token"),o.setup(s,l.FlexModule.state.config.sdkOptions.voice)),i&&(c.default.debug("Updating insights client token"),i.updateToken(s)),l.FlexModule.events.emitTokenUpdated(a)},e}();t.Actions=C},function(e,t){e.exports=require("query-string")},function(e,t){e.exports=require("emotion-theming")},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),s=n(5),l=n(15),c=n(40),u=n(54),p=function(){function e(e,t){e&&(this._source=e,this.participantLeftTimestamp=t)}return Object.defineProperty(e.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"worker",{get:function(){return c.InsightsEntityCache.getWorker(this.workerSid)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queue",{get:function(){return c.InsightsEntityCache.getQueue(this.workerSid)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onHold",{get:function(){return this._source&&this._source.hold},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._source&&this._source.muted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"connecting",{get:function(){return this._source&&this._source.connecting},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"participantType",{get:function(){return this._source&&this._source.participant_type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reservationSid",{get:function(){return this._source&&this._source.reservation_sid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workerSid",{get:function(){return this._source&&this._source.worker_sid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.participantLeftTimestamp?"recently_left":this._source&&this._source.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sid",{get:function(){return""+this.workerSid+this.participantType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMyself",{get:function(){return this._source.worker_sid===a.FlexModule.state.worker.worker.sid},enumerable:!0,configurable:!0}),e}();t.ConferenceParticipant=p;var f=function(){function e(){this.participants=[]}return Object.defineProperty(e.prototype,"liveParticipantCount",{get:function(){return this.participants.filter(function(e){return"joined"===e.status}).length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"liveWorkerCount",{get:function(){return this.participants.filter(function(e){return"joined"===e.status&&"worker"===e.participantType}).length},enumerable:!0,configurable:!0}),e}();t.Conference=f;var d="CONFERENCE_INIT",h="CONFERENCE_UPDATE",m={client:void 0,states:new Map};t.reduce=function(e,t){switch(void 0===e&&(e=m),t.type){case d:return r({},m,t.payload);case h:var n=t.payload,o=new Map(e.states);return o.set(n.sid,n.conference),r({},e,{states:o});default:return e}};var g=function(){function e(){}return e.dispatchAction=function(e,t){a.FlexModule.dispatch({type:e,payload:t})},e.assignInsights=function(e){this.dispatchAction(d,{client:e}),y.initialize()},e.handleConferenceUpdate=function(t,n){if(0!==n.children.length){var r=new f;if(n.children.forEach(function(e){if("conf_status"===e.key){var t=e.value;r.status=t.status,r.conferenceSid=t.conference_sid}else{var n=new p(e.value);"supervisor"!==n.participantType&&r.participants.push(n)}}),n.outboundTransfer&&"initialized"!==n.outboundTransfer.status){var o={worker_sid:n.outboundTransfer.sid,status:n.outboundTransfer.status,participant_type:"transfer",connecting:"recently_left"!==n.outboundTransfer.status},i=new p(o);r.participants.push(i)}var l=[];r.participants.forEach(function(e){"left"!==e.status?l.push(e):l.find(function(t){return t.sid===e.sid})||r.participants.find(function(t){return t.sid===e.sid&&"left"!==t.status})||l.push(e)}),r.participants=l;var c=a.FlexModule.state.conferences.states.get(t);c&&(r.participants=r.participants.map(function(r,o){if("left"===r.status){var i=c.participants.find(function(e){return e.sid===r.sid});if(i&&"joined"===i.status)return e.stateUpdateTimeouts.push(window.setTimeout(function(){e.handleConferenceUpdate(t,n)},5e3)),new p(r.source,(new Date).getTime());if(i&&i.participantLeftTimestamp&&(new Date).getTime()-i.participantLeftTimestamp<5e3)return i}return r})),r.source=n,this.dispatchAction(h,{sid:t,conference:r});var d=Array.from(a.FlexModule.state.worker.tasks.values()).find(function(e){return e.taskSid===t&&s.TaskHelper.isLiveCall(e)});d&&u.Actions.updateEndConferenceOnExitForTask(d)}},e.shutdown=function(){e.stateUpdateTimeouts.forEach(function(e){return window.clearTimeout(e)}),this.dispatchAction(d,{})},e.stateUpdateTimeouts=[],e}();t.Actions=g;var v=function(){function e(e,t){var n=this;this.itemAdded=function(e){n.children.push(e.item),n.emitCallback()},this.itemUpdated=function(e){n.emitCallback()},this.itemRemoved=function(e){n.children.splice(n.children.indexOf(e.item),1),n.emitCallback()},this.sid=e,this.updateCallback=t,this.initialize(e)}return e.prototype.stop=function(){this.map.removeListener("itemAdded",this.itemAdded),this.map.removeListener("itemUpdated",this.itemUpdated),this.map.removeListener("itemRemoved",this.itemRemoved),this.failedTransferRemoveTimer&&window.clearTimeout(this.failedTransferRemoveTimer)},e.prototype.initOutboundTransfer=function(e){this.outboundTransfer={sid:e,status:"initialized"}},e.prototype.updateOutboundTransfer=function(e){var t=this;if(this.outboundTransfer){switch(e){case"transferCompleted":this.outboundTransfer=void 0;break;case"transferFailed":this.failedTransferRemoveTimer=window.setTimeout(function(){t.updateOutboundTransfer("transferCompleted"),t.failedTransferRemoveTimer=0},5e3),this.outboundTransfer.status="recently_left";break;case"transferInitiated":this.outboundTransfer.status="joined"}this.emitCallback()}},e.prototype.initialize=function(e){return o(this,void 0,void 0,function(){var t,n;return i(this,function(r){switch(r.label){case 0:return t=this,[4,a.FlexModule.insightsClient.map({id:e+".CS",mode:"open_existing"})];case 1:return t.map=r.sent(),[4,this.map.getItems()];case 2:return n=r.sent(),this.children=n.items,this.map.on("itemAdded",this.itemAdded),this.map.on("itemUpdated",this.itemUpdated),this.map.on("itemRemoved",this.itemRemoved),this.emitCallback(),[2]}})})},e.prototype.emitCallback=function(){this.updateCallback&&this.updateCallback(this.sid,this)},e}();t.ConferenceListener=v;var y=function(){function e(){}return e.initialize=function(){var e=this;this.initialized=!0,this.confs=new Map,Array.from(this.requestedSids.keys()).forEach(function(t){return e.startListening(l.StateHelper.getTaskByTaskrouterTaskSid(t))})},e.startListening=function(e){if(e&&s.TaskHelper.isCallTask(e))if(this.initialized){var t=this.confs.get(e.taskSid);t||(t=new v(e.taskSid,g.handleConferenceUpdate.bind(g)),this.confs.set(e.taskSid,t))}else this.requestedSids.set(e.taskSid,!0)},e.stopListening=function(e){var t=this.confs.get(e);t&&(t.stop(),this.confs.delete(e))},e.initOutboundTransfer=function(e,t){var n=this.confs.get(e);n&&n.initOutboundTransfer(t)},e.updateOutboundTransfer=function(e,t){var n=this.confs.get(e);n&&n.updateOutboundTransfer(t)},e.requestedSids=new Map,e.initialized=!1,e}();t.ConferenceListenerManager=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(151),o=n(152);t.Strings=o.Strings;var i={default:r.default};t.languages=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(23),s=n(0),l=n(3),c=n(63),u=n(160),p=n(161),f=n(27),d=u.createGenerateClassName({productionPrefix:"flex-md-"}),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e,n=this.props.themeConf,r=c.ThemeDefCreator.getPredefinedTheme(this.props.themeConf.baseName);n.colors&&(r.colors=o({},r.colors,n.colors)),n.hasOwnProperty("light")&&(r.lightTheme=n.light),e=f.createTheme(r.colors,r.lightTheme);var s=t.getMergedTheme(e,this.props.themeConf.overrides);s.name=this.props.themeConf.baseName;var l=u.createMuiTheme(s);return i.createElement(p.JssProvider,{generateClassName:d},i.createElement(u.MuiThemeProvider,{theme:l},i.createElement(a.ThemeProvider,{theme:s},this.props.children)))},t.getMergedTheme=function(e,t){return t?s.Utils.merge(e,t):e},t}(i.PureComponent);t.StorelessThemeProvider=h,t.ThemeProvider=l.connect(function(e){return{themeConf:e.config.colorTheme}})(h)},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(33),a=r({},o.BaseTheme.colors,i.commonColors);t.createTheme=function(e,t){var n=o.createTheme(e,t),i=t?e.darkTextColor:e.lightTextColor;return r({},n,{colors:e,UserActivityControls:{Item:{color:i,lightHover:!1},Items:{background:e.base2},Divider:{background:e.base4}},LoginFormView:{Container:{backgroundColor:e.base2,borderColor:e.base4,color:i},LoginButton:{background:e.defaultButtonColor,lightHover:!0}},LoginView:{Container:{background:e.base2,color:i},LoginButton:{background:e.defaultButtonColor,color:e.lightTextColor},Logo:{color:e.base11}},RuntimeLoginView:{Container:{background:e.base2,color:i},LoginButton:{background:e.defaultButtonColor,lightHover:!0}},RootContainer:{},AgentDesktopView:{Panel1:{background:e.base2},Panel2:{background:e.base2},ContentSplitter:{background:e.base2,borderColor:e.base4,color:e.base10}},MainHeader:{Container:{background:t?e.base9:e.base3,color:e.lightTextColor,borderColor:e.base4},Button:{color:e.lightTextColor,lightHover:!0}},MainContainer:{},SideNav:{Container:{background:t?e.base8:e.base3,borderColor:e.base4},Button:{color:e.lightTextColor,background:t?e.base8:e.base3,lightHover:!0},Icon:{color:e.lightTextColor}},TaskDetailsPanel:{Container:{background:"linear-gradient(to bottom, "+e.base1+", "+e.base2+")",color:i},IconContainer:{color:e.base1,border:"1px solid "+e.base6},SecondLine:{color:e.base8}},IncomingTaskCanvas:{AcceptTaskButton:{color:e.acceptTextColor,background:e.acceptColor},RejectTaskButton:{color:e.declineTextColor,background:e.declineColor}},TaskInfoPanel:{Container:{color:i}},CallCanvas:{Button:{background:e.base3,color:e.base11},HangUpButton:{background:e.declineColor,color:e.declineTextColor}},TaskCanvas:{Container:{background:e.base1}},TaskCanvasHeader:{Container:{background:e.base1,color:i},WrapupTaskButton:{background:e.declineColor,color:e.declineTextColor},EndTaskButton:{background:e.completeTaskColor,color:e.declineTextColor}},TaskList:{Filter:{Container:{background:e.base2,borderColor:e.base4},EntryButton:{color:i},Menu:{Item:{color:i,lightHover:!t},Items:{}}},Item:{Container:{color:i,borderColor:e.base4,background:e.base2,lightHover:!t},Icon:{color:e.lightTextColor},SelectedContainer:{background:e.base1,color:i,lightHover:!t},Buttons:{DefaultButton:{color:e.base11,background:e.base3,lightHover:!t},AcceptButton:{color:e.acceptTextColor,background:e.acceptColor},RejectButton:{color:e.declineTextColor,background:e.declineColor}}}},TaskCard:{Container:{Default:{borderColor:e.base4,lightHover:!t},Selected:{borderColor:e.base11},Hover:{borderColor:e.base11}},IconArea:{Default:{color:e.lightTextColor}},ContentArea:{Default:{color:i,backgroundColor:e.base1},Inactive:{color:i,backgroundColor:e.base2}}},TaskCardPlaceholder:{borderColor:e.base4},NoTasksCanvas:{Container:{color:i,background:e.base2},Hint:{color:e.base8}},CRMContainer:{Container:{borderColor:e.base4},Placeholder:{Container:{color:i,background:e.base1},Icon:{color:e.base11},Button:{background:e.defaultButtonColor,color:e.lightTextColor},Hint:{color:e.base8}}},Supervisor:{Container:{background:e.base1},TaskCanvas:{HeaderButton:{color:e.base11,background:e.base3,lightHover:!t},Container:{borderColor:e.base4},MonitorActiveButton:{background:e.flexBlueColor,color:e.lightTextColor},Button:{background:e.base3,color:e.base11}},WorkerCanvas:{Container:{background:e.base2,borderColor:e.base4,color:i},Header:{borderColor:e.base4,color:i}}},WorkerDirectory:{Container:{boxShadow:"-2px 0 10px 0 rgba(0, 0, 0, 0.2)",background:e.base2,color:i},Header:{Button:{color:e.base11,background:e.base3,lightHover:!t},Container:{}},ItemsContainer:{borderColor:e.base4},Item:{borderColor:e.base4,background:e.base2,lightHover:!t},ItemActionButton:{color:e.base11,background:e.base3,lightHover:!t},QueueItem:{Avatar:{background:e.base3}}},WorkerSkills:{SaveButton:{background:e.flexBlueColor,color:e.lightTextColor},CancelButton:{background:e.disabledColor,color:e.darkTextColor},DeleteButton:{borderColor:e.base4,lightHover:!t}},LoadingView:{Container:{backgroundColor:e.base2,color:i}},ParticipantsCanvas:{ParticipantCanvas:{Container:{color:i},Avatar:{background:e.flexBlueColor,color:e.lightTextColor,border:"1px solid "+e.base5},StateHover:{background:e.buttonHoverColor,color:e.base1},ConnectingAnimation:{color:e.base1}}},QueueStats:{Container:{backgroundColor:e.base1,color:i},TableContainer:{},TilesGrid:{}}})};var s={colors:a,lightTheme:!0};t.default=s},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(12)),r(n(29)),r(n(26));var o=n(20);t.ConfigError=o.ConfigError,t.ConfigErrorKeys=o.ConfigErrorKeys;var i=n(93);t.Plugins=i.Plugins;var a=n(12);t.ContactCenterManager=a.Manager},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(43),a=n(26),s=n(56),l=n(6);t.FlexContext=o.createContext(void 0);var c=function(e){return e.store===s.getDefaultStore()?o.createElement(i.Provider,{store:e.store},e.children):e.children},u=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.componentWillMount=function(){this.props.manager?this.props.manager.loadInitialData().then(function(){return l.default.info("All data has been loaded...")}):l.default.error("manager missing in the props of ContextProvider")},n.prototype.render=function(){var e=this.props.manager;return o.createElement(t.FlexContext.Provider,{value:this.props},o.createElement(c,{store:e.store},o.createElement(a.ThemeProvider,null,this.props.children)))},n}(o.PureComponent);t.ContextProvider=u},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(31)),r(n(28));var o=n(25);t.languages=o.languages,t.Strings=o.Strings,r(n(205)),r(n(206)),r(n(91)),r(n(92)),r(n(15));var i=n(56);t.FlexState=i.FlexState,r(n(5)),r(n(17)),r(n(7));var a=n(10);t.DefaultTaskChannels=a.DefaultTaskChannels,t.TaskChannels=a.TaskChannels,r(n(94)),n(208),n(14).registerToNotifications();var s=n(14);t.NotificationIds=s.NotificationIds,t.Notifications=s.Notifications,t.NotificationType=s.NotificationType,t.NotificationEvent=s.NotificationEvent;var l=n(61);t.VERSION=l.VERSION,n(95),r(n(63));var c=n(63);t.ThemeDef=c.ThemeDef,r(n(214)),n(216).initialize()},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(0)),r(n(8)),r(n(127)),r(n(133)),r(n(80)),r(n(87)),r(n(110));var o=n(196);t.Supervisor=o;var i=n(64);t.AgentsDataTable=i.AgentsDataTable;var a=n(101);t.TaskCard=a.TaskCard;var s=n(100);t.TaskCardList=s.TaskCardList;var l=n(113);t.RootContainer=l.RootContainer,t.RootContainerProps=l.RootContainerProps;var c=n(201);t.CRMContainer=c.CRMContainer,t.CRMContainerProps=c.CRMContainerProps;var u=n(114);t.MainContainer=u.MainContainer,t.MainContainerProps=u.MainContainerProps;var p=n(47);t.MuteButton=p.MuteButton,t.MuteButtonProps=p.MuteButtonProps;var f=n(115);t.SideNav=f.SideNav,t.SideNavProps=f.SideNavProps,t.SideLink=f.SideLink,t.SideLinkProps=f.SideLinkProps,r(n(85));var d=n(202);t.TaskListContainer=d.TaskListContainer;var h=n(2);t.Theme=h.Theme;var m=n(116);t.ViewCollection=m.ViewCollection,t.ViewCollectionProps=m.ViewCollectionProps,t.View=m.View,t.ViewProps=m.ViewProps;var g=n(203);t.WorkerDirectory=g.WorkerDirectory;var v=n(107);t.WorkerProfile=v.WorkerProfile;var y=n(108);t.WorkerSkills=y.WorkerSkills;var k=n(105);t.WorkerCanvas=k.WorkerCanvas;var C=n(2);t.PropsWithTheme=C.PropsWithTheme,t.withTheme=C.withTheme},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(68),a=n(6);!function(e){e.flexSplitterResize="flexSplitterResize",e.userLoggedIn="userLoggedIn",e.selectedViewChanged="selectedViewChanged",e.tokenUpdated="tokenUpdated",e.tokenExpired="tokenExpired",e.pluginsLoaded="pluginsLoaded"}(o=t.FlexEvent||(t.FlexEvent={}));var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.emitSelectedViewChanged=function(e){t.emit(o.selectedViewChanged,e)},t}return r(t,e),t.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return a.default.debug("Flex event emitter:",t,n),e.prototype.emit.apply(this,[t].concat(n))},t.prototype.emitSplitterResize=function(){this.emit(o.flexSplitterResize)},t.prototype.emitUserLoggedIn=function(){this.emit(o.userLoggedIn)},t.prototype.emitTokenUpdated=function(e){this.emit(o.tokenUpdated,e)},t.prototype.emitTokenExpired=function(){this.emit(o.tokenExpired)},t.prototype.emitPluginsLoaded=function(){this.emit(o.pluginsLoaded)},t}(i.EventEmitter);t.FlexEventEmitter=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commonColors={holdColor:"#ea6c00",declineColor:"#d32f2f",acceptColor:"#07874a",declineTextColor:"#ffffff",acceptTextColor:"#ffffff",completeTaskColor:"#1976d2",flexBlueColor:"#1976D2",agentAvailableColor:"#62c158",agentBusyColor:"#f1a33e",agentUnavailableColor:"#dd392b",agentOfflineColor:"#606471"},t.defaultChannelColors={inactive:"#a0a8bd",call:"#1976D2",video:"#1976D2",chat:"#057D9E",sms:"#D81B60",facebook:"#4266B2",line:"#3ACE01",whatsapp:"#2BB826",custom:"#a0a8bd"}},function(e,t){e.exports=require("@material-ui/core/Select")},function(e,t){e.exports=require("@material-ui/core/MenuItem")},function(e,t){e.exports=require("react-router-redux")},function(e,t){e.exports=require("react-router")},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(16),a=n(22),s=n(0),l=n(6),c=n(20),u=n(68),p=n(39),f=n(53);t.SSOConfig=f.SSOConfig;var d=n(12),h="{accountSid}",m={loginUrl:"https://preview.twilio.com/iam/Accounts/"+h+"/authenticate",products:["flex"],redirectUrl:window.location.href,tokenRefreshUrl:"https://preview.twilio.com/iam/Accounts/"+h+"/Tokens/refresh",tokenRefreshThresholdMs:21e5},g={trustedDomains:{code:70002,message:"invalid redirect URL",status:400}};function v(e){return e.replace(/((Token|Expiration|Identity|Roles)=[^&]+[&]?)/g,"").replace(/[&\?]$/,"")}var y=function(e){function t(n){var r=e.call(this)||this;return r._checkTokenExpirationInterval=0,r.checkTokenExpired=function(){l.default.trace("Checking if token is expired");var e=t.getTokenFromLocalStorage();if(!e||!e.token)return Promise.reject("No token");var n=Date.parse(e.expiration)-Date.now();return n<=0?(r.handleTokenExpired(),Promise.reject("Current token has expired")):n<r._config.tokenRefreshThresholdMs&&!r._updatingToken?(l.default.info("Updating token Current token would expire in",n/1e3,"s"),r.handleTokenUpdate()):Promise.resolve(r)},r.handleCheckTokenExpirationInterval=function(){r.checkTokenExpired().catch(function(e){l.default.warn("Unable to update token:",e);var t=!!e&&!!e.response&&e.response.status||0;t>=400&&t<=404&&(l.default.warn("Stopping token updates"),clearInterval(r._checkTokenExpirationInterval))})},r._updatingToken=!1,r._config=s.Utils.merge(m,n),r}return r(t,e),t.create=function(e){return void 0===e&&(e={}),new t(e).initialize(!0)},t.tryLogin=function(e){return void 0===e&&(e={}),new t(e).initialize(!1).then(function(){return!0})},t.tryValidateConfig=function(e){if(!e)throw new c.ConfigError(c.ConfigErrorKeys.sso);if(!e.accountSid)throw new c.ConfigError(c.ConfigErrorKeys.accountSid)},t.tryLoginInNewWindow=function(e){if(t.isInLoginWindow())return Promise.reject(new c.ClientError(c.ClientErrorKeys.loginWindowOpenedFromLoginWindow));if(!e.idpUrl)return Promise.reject(new c.InternalError("No idpUrl"));var n=t.openLoginWindow(e);return n?new Promise(function(e,r){var o=setInterval(function(){n.closed&&(r(new c.BrowserError(c.BrowserErrorKeys.windowClosed)),clearInterval(o))},100);window.addEventListener("message",function(i){if(i.origin===window.location.origin&&"TWILIO_FLEX_LOGIN_SUCCESSFUL"===i.data){l.default.debug("Got LOGIN_SUCCESSFUL_MESSAGE");var a=window.localStorage.getItem("TWILIO_FLEX_SSO");if(!a)return r(new c.InternalError("No token in localStorage"));var s=JSON.parse(a);if(!t.isValidTokenPayload(s))return r(new c.InternalError("Token is invalid"));l.default.debug("Got token from login window"),e(),clearInterval(o),n.close()}})}):(l.default.error("Unable to open a new window to log in. Pop-up might have been blocked by browser."),Promise.reject(new c.BrowserError(c.BrowserErrorKeys.popupBlocked)))},t.openLoginWindow=function(e){var t=e.loginPopupFeatures||"toolbar=no, location=no, directories=no, status=no,\n    menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=600, height=800";return l.default.debug("opening login view in a new window",e.idpUrl,t),window.open(e.idpUrl,"twilioFlexLoginWindow",t)},t.prototype.getTokenInfo=function(){var e=t.getTokenFromLocalStorage();if(e)return t.isValidTokenPayload(e)?e:void 0},t.prototype.logout=function(){clearInterval(this._checkTokenExpirationInterval),this.clearTokenFromLocalStorage()},t.prototype.initialize=function(e){var n=this;void 0===e&&(e=!0);var r=t.parseTokenPayloadFromQueryString();if(r){if(t.isInLoginWindow())return window.opener?(t.storeTokenPayload(r),window.opener.postMessage("TWILIO_FLEX_LOGIN_SUCCESSFUL",window.location.origin),Promise.reject("Logging in in another window")):(l.default.error("window.opener is not set"),window.close(),Promise.reject(new c.BrowserError(c.BrowserErrorKeys.noWindowOpener)));t.storeTokenPayload(r);var a=v(window.location.href);history.replaceState({},document.title,a);var u=document.head.querySelector("meta[name='referrer']");if(!u||"no-referrer"!==u.getAttribute("content")){var f='element <meta name="referrer" content="no-referrer"> not found in page <head> section';return l.default.warn("Redirecting to clear referrer, "+f+"."),window.location.href=a,Promise.reject(new c.ClientError(c.ClientErrorKeys.metaNoReferrerMissing,"Redirecting because "+f+"."))}}else r=this.getTokenInfo();return!r&&this._config.loginPopup&&t.openLoginWindow(o({},this._config,{idpUrl:"about:blank"})),(r?Promise.resolve(this):this.getAccountSid().then(function(e){return n._config.accountSid=e,function(e,t){if(k.accountSid===e){if(k.error){var n=k.error.response;return C(n.data,g.trustedDomains)?Promise.reject(new c.ValidationError(c.ValidationErrorKeys.untrustedDomain,k.error)):Promise.reject(new c.ValidationError(c.ValidationErrorKeys.sso,k.error))}return Promise.resolve(k.idpUrl)}k.accountSid=e,k.error=void 0;var r=t.loginUrl.replace(h,e),o=function(e){return{products:e.products,resource:v(e.redirectUrl)}}(t);return i.default.post(r,o).then(function(e){if(!e.data.location)throw l.default.error("No redirect location from /authenticate request, data: ",e.data),new c.InternalError("Invalid response from /authenticate endpoint");return k.idpUrl=e.data.location,k.idpUrl}).catch(function(e){var t=e.response;if(k.error=e,C(t.data,g.trustedDomains))throw new c.ValidationError(c.ValidationErrorKeys.untrustedDomain,e);throw new c.ValidationError(c.ValidationErrorKeys.sso,e)})}(e,n._config)}).then(function(e){return n._config.idpUrl=e,l.default.debug("got the redirect url",e),p.fetchPublicConfiguration(n._config.accountSid).then(function(r){return s.Utils.merge(r.sso||{},n._config).loginPopup?t.tryLoginInNewWindow(n._config):(l.default.debug("redirecting to ",e),window.location.href=e,Promise.reject(new c.BrowserError(c.BrowserErrorKeys.redirecting)))})})).then(function(){return e?n.startLoginHandler():Promise.resolve(n)})},t.prototype.startLoginHandler=function(){return this._checkTokenExpirationInterval=setInterval(this.handleCheckTokenExpirationInterval,1e3),this.checkTokenExpired()},t.getTokenFromLocalStorage=function(){var e=window.localStorage.getItem("TWILIO_FLEX_SSO");if(e){var t=JSON.parse(e);if(!Array.isArray(t.roles)){var n=[];t.roles&&n.push(t.roles),t.roles=n}return t}},t.prototype.clearTokenFromLocalStorage=function(){window.localStorage.removeItem("TWILIO_FLEX_SSO")},t.prototype.getAccountSid=function(){var e=d.Manager.getInstance();return e?Promise.resolve(e.serviceConfiguration.account_sid):this._config.accountSid?Promise.resolve(this._config.accountSid):Promise.reject(new c.ConfigError(c.ConfigErrorKeys.accountSid))},t.parseTokenPayloadFromQueryString=function(){var e=window.location.search;if(e){var n=a.parse(e),r=[];n.Roles&&(r=Array.isArray(n.Roles)?n.Roles:[n.Roles]);var o={roles:r,identity:n.Identity,expiration:n.Expiration,token:n.Token};return t.isValidTokenPayload(o)?o:void 0}},t.hasValidToken=function(){var e=t.parseTokenPayloadFromQueryString()||t.getTokenFromLocalStorage();return!!t.isValidTokenPayload(e)},t.storeTokenPayload=function(e){if(e){var t=JSON.stringify(e);window.localStorage.setItem("TWILIO_FLEX_SSO",t)}},t.isValidTokenPayload=function(e){if(!e)return!1;var t=e.expiration,n=e.identity,r=e.roles,o=e.token;return!(!t||!n||!r||!o||this.isTokenExpired(e,3e5))},t.isTokenExpired=function(e,t){void 0===t&&(t=0);var n=e.expiration;if(!n||"string"!=typeof n)return!0;var r=(Date.parse(n)||0)-t>Date.now();return r||l.default.debug("Token has expired"),!r},t.isInLoginWindow=function(){return"twilioFlexLoginWindow"===window.name},t.prototype.fetchNewToken=function(e){var t=this;return this.getAccountSid().then(function(n){var r=t._config.tokenRefreshUrl.replace(h,n);return l.default.debug("Fetching new token"),i.default.post(r,{token:e}).then(function(e){return l.default.debug("Got token info:",e.data),e.data}).catch(function(e){throw l.default.error("Failed to fetch new token",e),e})})},t.prototype.handleTokenUpdate=function(){var e=this,n=t.getTokenFromLocalStorage();return this._updatingToken=!0,this.fetchNewToken(n.token).then(function(r){var i=o({},n,{expiration:r.expiration,token:r.token});return t.storeTokenPayload(i),e._updatingToken=!1,l.default.info("Token updated successfully"),e.emit("tokenUpdated",e),e}).catch(function(r){throw e._updatingToken=!1,l.default.error("Unable to fetch new token"),e.emit("tokenUpdateFailed",e),t.isTokenExpired(n)&&e.handleTokenExpired(),r})},t.prototype.handleTokenExpired=function(){l.default.info("Token has expired"),clearInterval(this._checkTokenExpirationInterval),this.emit("tokenExpired",this)},t}(u.EventEmitter);t.SSOLoginHandler=y;var k={accountSid:"",idpUrl:"",error:void 0};var C=function(e,t){var n=e.code,r=e.message,o=e.status;return n===t.code&&r===t.message&&o===t.status}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(20),i=n(6),a=n(52),s={mapDomainToLookup:function(e){return"https://flex.twilio.com/lookup/"+e}},l=function(e){if(!e.sso)throw new o.ValidationError(o.ValidationErrorKeys.sso);if(!e.accountSid)throw new o.ValidationError(o.ValidationErrorKeys.accountSid);return e},c="FLEX_CONFIG";t.fetchRuntimeDomainInfo=function(e,t){if(void 0===t&&(t=s),!(e=e.trim()).endsWith(".twil.io")){var n=e.match(a.RUNTIME_DOMAIN_REGEXP);n&&n[1]&&(e+=".twil.io")}e=e.endsWith("/")?e.replace(/\/$/,""):e;var r=t.mapDomainToLookup?t.mapDomainToLookup(e):s.mapDomainToLookup(e);return fetch(r).then(function(e){if(200===e.status)return e.json();throw i.default.error("Failed to fetch accountSid",e.status),new o.ValidationError(o.ValidationErrorKeys.accountSid)}).then(function(e){return l(e)}).then(function(t){var n="https://"+e+"/";return t.domain=n,t})},t.fetchPublicConfiguration=function(e,t,n){return void 0===t&&(t=!0),void 0===n&&(n={}),t&&r?Promise.resolve(r):(r={},Promise.resolve(r))},t.getStoredConfig=function(){var e=localStorage.getItem(c);return e&&JSON.parse(e)||{}},t.clearStoredConfig=function(){i.default.debug("clearing config from local storage",c),localStorage.removeItem(c)},t.storeConfig=function(e){var t=JSON.stringify(e);i.default.debug("saving config to local storage",c,t),localStorage.setItem(c,t)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(6),a=n(41),s="FLEX_ACTION_INIT_INSIGHTS",l={client:void 0};t.reduce=function(e,t){switch(void 0===e&&(e=l),t.type){case s:return r({},l,{client:t.payload});default:return e}};var c=function(){function e(){}return e.dispatchAction=function(e,t){o.FlexModule.dispatch({type:e,payload:t})},e.init=function(e){this.dispatchAction(s,e),u.initialize()},e.shutdown=function(){i.default.info("Insights shutdown"),u.destroy();var e=o.FlexModule.state.insights.client;if(e)try{e.shutdown()}catch(e){i.default.error("Error on Insights shutdown",e)}this.dispatchAction(s,null)},e}();t.Actions=c;var u=function(){function e(){}return e.initialize=function(){var e=this;o.FlexModule.insightsClient.instantQuery("tr-worker").then(function(t){e.workerSearch=t,t.on("searchResult",function(t){for(var n in t){var r=t[n],o=new a.InsightsWorker(r);e.workers.set(n,o)}}),e.workerSearch.search("")}),o.FlexModule.insightsClient.instantQuery("tr-queue").then(function(t){e.queueSearch=t,t.on("searchResult",function(t){for(var n in t){var r=t[n],o=new a.InsightsQueue(r);e.queues.set(n,o)}}),e.workerSearch.search(""),e.queueSearch.search(""),e.queryTimer=window.setInterval(function(){e.workerSearch.search(""),e.queueSearch.search("")},6e4)})},e.destroy=function(){window.clearInterval(this.queryTimer),this.workerSearch.removeAllListeners()},e.getWorker=function(e){return this.workers.get(e)},e.getQueue=function(e){return this.queues.get(e)},e.workers=new Map,e.queues=new Map,e}();t.InsightsEntityCache=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(0),i=function(){function e(e){this.complete=function(){throw new Error("Not implemented")},this.setAttributes=function(e){throw new Error("Not implemented")},this.wrapUp=function(){throw new Error("Not implemented")},this.transfer=function(e,t){throw new Error("Not implemented")},this.hold=function(){throw new Error("Not implemented")},this.unhold=function(){throw new Error("Not implemented")},this._source=e}return Object.defineProperty(e.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourceObject",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addOns",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"age",{get:function(){return this._source.task_age},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){return this._source.attributes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateCreated",{get:function(){return new Date(this._source.date_created)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateUpdated",{get:function(){return new Date(this._source.date_updated)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"priority",{get:function(){return this._source.task_priority},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queueName",{get:function(){return this._source.queue_name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queueSid",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reason",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taskSid",{get:function(){return this._source.task_sid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){var e=this._source.status;return"wrapup"===e&&(e="wrapping"),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taskStatus",{get:function(){return this._source.task_status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taskChannelSid",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taskChannelUniqueName",{get:function(){return this._source.task_channel_unique_name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeout",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workflowName",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workflowSid",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sid",{get:function(){return this._source.reservation_sid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workerSid",{get:function(){return this._source.worker_sid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultFrom",{get:function(){var e=this.attributes;return e.name||e.from||"Anonymous"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"channelType",{get:function(){return this.attributes.channelType||this.taskChannelUniqueName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transferObject",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"conference",{get:function(){return r.FlexModule.state.conferences.states.get(this.taskSid)},enumerable:!0,configurable:!0}),e}();t.InsightsTask=i;var a=function(){function e(e){this._source=e}return Object.defineProperty(e.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sid",{get:function(){return this.source.worker_sid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.source.friendly_name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullName",{get:function(){return this.source.attributes.full_name||this.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activityName",{get:function(){return this.source.activity_name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){return this.source.attributes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateUpdated",{get:function(){return new Date(this.source.date_updated)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activityDuration",{get:function(){return o.Utils.formatTimeDuration(Math.max(Date.now()-new Date(this.source.date_activity_changed).getTime(),0),"short")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAvailable",{get:function(){return this.findAvailabilityByActivityName()},enumerable:!0,configurable:!0}),e.ensureAvailabilityCache=function(){var e=this;this._availabilityByNameCache.size||r.FlexModule.workerClient&&r.FlexModule.workerClient.activities.size&&r.FlexModule.workerClient.activities.forEach(function(t){e._availabilityByNameCache.set(t.name,t.available)})},e.prototype.findAvailabilityByActivityName=function(){return e.ensureAvailabilityCache(),!!e._availabilityByNameCache.has(this.activityName)&&e._availabilityByNameCache.get(this.activityName)},e._availabilityByNameCache=new Map,e}();t.InsightsWorker=a;var s=function(){function e(e){this._source=e}return Object.defineProperty(e.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sid",{get:function(){return this.source.queue_sid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.source.queue_name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateUpdated",{get:function(){return new Date(this.source.date_updated)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workspaceSid",{get:function(){return this.source.workspace_sid},enumerable:!0,configurable:!0}),e}();t.InsightsQueue=s},function(e,t){e.exports=require("@material-ui/core/Input")},function(e,t){e.exports=require("react-redux")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),o=n(33),i={Pending:"TaskReserved",Accepted:"TaskAssigned",Wrapping:"TaskWrapup",Completed:"TaskCompleted",Canceled:"TaskCanceled",Reserved:"TaskReserved",Assigned:"TaskAssigned"};t.SupervisorTaskDetails={Accepted:"SupervisorTaskLive",Pending:"SupervisorTaskLive",Wrapping:"SupervisorTaskWrapUp",Completed:"SupervisorTaskCompleted",Canceled:"SupervisorTaskCompleted",Reserved:"SupervisorTaskLive",Assigned:"SupervisorTaskLive"};var a=o.defaultChannelColors.inactive;function s(e,n,s,l,c){return void 0===s&&(s="GenericTask"),void 0===l&&(l="GenericTaskBold"),void 0===c&&(c=o.defaultChannelColors.custom),{name:e,isApplicable:n,capabilities:new Set([r.TaskChannelCapability.Info]),charLimit:32768,colors:{main:{Reserved:c,Assigned:c,Accepted:c,Pending:c,Canceled:a,Wrapping:a,Completed:a}},icons:{list:{Reserved:l,Assigned:l,Accepted:l,Pending:l,Canceled:s,Wrapping:s,Completed:s},active:l,main:s},templates:{CallCanvas:{firstLine:"TaskHeaderLine",secondLine:i},IncomingTaskCanvas:{firstLine:"TaskHeaderLine",secondLine:i},TaskListItem:{firstLine:"TaskHeaderLine",secondLine:i,extraInfo:"TaskExtraInfo"},TaskCanvasHeader:{title:"TaskHeaderLine",endButton:{Assigned:"TaskHeaderComplete",Accepted:"TaskHeaderComplete",Reserved:void 0,Wrapping:"TaskHeaderWrapup",Completed:void 0,Canceled:void 0,Pending:void 0}},TaskCard:{firstLine:"SupervisorTaskCardHeader",secondLine:t.SupervisorTaskDetails},TaskInfoPanel:{content:"TaskInfoPanelContent"},Supervisor:{TaskCanvasHeader:{title:"SupervisorTaskHeaderLine"},TaskInfoPanel:{content:"SupervisorTaskInfoPanelContent"},TaskOverviewCanvas:{firstLine:"SupervisorTaskViewContentHeader",secondLine:t.SupervisorTaskDetails}}},componentProps:{}}}t.createDefaultTaskChannel=s,t.Default=s("default",function(){return!0})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),l=n(71),c=n(18),u=n(7),p=n(8),f=n(2);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(71));var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.prototype.render=function(){var e=this.props,t=e.firstLine,r=e.secondLine,i=e.channelDefinition,s=e.titleLine,p=this.props.task;return a.createElement(c.TaskDetailsPanel,o({content:n.Content,IconComponent:l.IncomingTaskIcon,ActionsComponent:l.IncomingTaskCanvasActions,titleLine:s||u.TaskChannelHelper.getTemplateForStatus(p,i.templates.IncomingTaskCanvas.titleLine,n),firstLine:t||u.TaskChannelHelper.getTemplateForStatus(p,i.templates.IncomingTaskCanvas.firstLine,n),secondLine:r||u.TaskChannelHelper.getTemplateForStatus(p,i.templates.IncomingTaskCanvas.secondLine,n)},this.props))},t.friendlyName="IncomingTaskCanvas",t.displayName=n.friendlyName,t.Content=new s.DynamicContentStore(n.friendlyName),t=n=i([f.withTheme,p.withTaskContext],t)}(a.PureComponent);t.IncomingTaskCanvas=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),l=n(9),c=n(73),u=n(18),p=n(7),f=n(2),d=n(48),h=n(5);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(73));var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.prototype.render=function(){var e,t=this.props,r=t.task,i=t.channelDefinition;return t.conference&&h.TaskHelper.isLiveCall(r)&&(e=a.createElement(d.ParticipantsCanvas,null)),a.createElement(u.TaskDetailsPanel,o({content:n.Content,IconComponent:c.CallCanvasIcon,ActionsComponent:c.CallCanvasActions,contentComponent:e,titleLine:p.TaskChannelHelper.getTemplateForStatus(r,i.templates.CallCanvas.titleLine,n),firstLine:p.TaskChannelHelper.getTemplateForStatus(r,i.templates.CallCanvas.firstLine,n),secondLine:p.TaskChannelHelper.getTemplateForStatus(r,i.templates.CallCanvas.secondLine,n),footerLine:p.TaskChannelHelper.getTemplateForStatus(r,i.templates.CallCanvas.footerLine,n)},this.props))},t.friendlyName="CallCanvas",t.displayName=n.friendlyName,t.Content=new s.DynamicContentStore(n.friendlyName),t=n=i([f.withTheme,l.withTaskContext],t)}(a.PureComponent);t.CallCanvas=m},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(11),c=n(3),u=n(0),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMuteClick=function(){u.Actions.invokeAction("ToggleMute")},t}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.large,n=e.className,r=e.muted,i=(e.children,a(e,["large","className","muted","children"])),c=t?"MuteLarge":"Mute";return r&&(c+="Bold"),s.createElement(u.IconButton,o({className:l.cx("Twilio-MuteButton",n),icon:c,onClick:this.onMuteClick},i))},t=i([c.connect(function(e,t){return{muted:!!e.phone.connection&&e.phone.connection.source.isMuted(),disabled:!e.phone.connection||t.disabled}})],t)}(s.PureComponent);t.MuteButton=p},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),l=n(2),c=n(130),u=n(74),p=n(9),f=n(3),d=n(32),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement(m,o({},this.props))},t.displayName="ParticipantsCanvas",t.Content=new s.DynamicContentStore(t.displayName),t}(a.PureComponent);t.ParticipantsCanvas=h;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={participantWidth:50},t.handleParticipantWidthNeedsUpdate=function(){if(t.container){var e,n=t.container.offsetWidth;e=n<=400?100:n<=600?50:n<=800?30:20,t.setState({participantWidth:e})}},t.setContainerRef=function(e){t.container=e},t.renderParticipants=function(e){var n=e.participants;return t.props.includeMyself||(n=n.filter(function(e){return!e.isMyself})),(n=n.filter(function(e){return"left"!==e.status})).map(function(e,n){return a.createElement(u.ParticipantCanvas,{key:n,participant:e,participantWidth:t.state.participantWidth,task:t.props.task})})},t}return r(t,e),t.prototype.componentDidMount=function(){var e=this;f.FlexModule.events.addListener(d.FlexEvent.flexSplitterResize,this.handleParticipantWidthNeedsUpdate),f.FlexModule.events.addListener(d.FlexEvent.selectedViewChanged,this.handleParticipantWidthNeedsUpdate),setTimeout(function(){e.handleParticipantWidthNeedsUpdate()},0)},t.prototype.componentWillUnmount=function(){f.FlexModule.events.removeListener(d.FlexEvent.flexSplitterResize,this.handleParticipantWidthNeedsUpdate),f.FlexModule.events.removeListener(d.FlexEvent.selectedViewChanged,this.handleParticipantWidthNeedsUpdate)},t.prototype.render=function(){var e=this.props.conference;return a.createElement(s.DynamicComponent,{contentStore:h.Content,childProps:this.props,name:h.displayName,customChildren:this.props.children,vertical:!0},a.createElement(c.Container,{key:"container"},a.createElement(c.ParticipantsContainer,{key:"participantsContainer",className:"ParticipantsCanvas-Container",innerRef:this.setContainerRef},this.renderParticipants(e))))},t=i([l.withTheme,p.withTaskContext],t)}(a.PureComponent)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),l=n(9),c=n(75),u=n(4),p=n(7),f=n(2);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(75));var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.prototype.render=function(){return a.createElement(h,o({},this.props))},t.displayName="TaskCanvasHeader",t.Content=new s.DynamicContentStore(n.displayName),t.defaultProps={content:n.Content,icon:"DefaultAvatar",ActionsComponent:c.EndTaskButton,titleTemplateContext:{}},t=n=i([s.withDefaultPropsUpdate],t)}(a.PureComponent);t.TaskCanvasHeader=d;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.ActionsComponent,n=e.content,r=e.icon,i=e.titleTemplateCode,l=e.titleTemplateContext,f=e.task,h=e.channelDefinition;return a.createElement(s.DynamicComponent,{contentStore:n,childProps:this.props,name:n.name,customChildren:this.props.children},a.createElement(c.Container,{icon:r},!!r&&a.createElement(c.IconContainer,{key:"icon",className:"Twilio-TaskCanvasHeader-Icon"},a.createElement(s.Icon,{icon:r})),a.createElement(c.TitleContainer,{key:"header",className:"Twilio-TaskCanvasHeader-Name"},a.createElement(u.Template,o({code:i||p.TaskChannelHelper.getTemplateForStatus(f,h.templates.TaskCanvasHeader.title,d),task:f},l))),a.createElement(t,{key:"actions",task:f})))},t=i([f.withTheme,l.withTaskContext],t)}(a.PureComponent);t.TaskCanvasHeaderImpl=h},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),l=n(9),c=n(5),u=n(4),p=n(45),f=n(51),d=n(46),h=n(10),m=n(7),g=n(23),v=n(2),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.prototype.render=function(){return a.createElement(k,o({},this.props))},t.displayName="TaskCanvasTabs",t.Content=new s.DynamicContentStore(n.displayName),t.defaultProps={content:n.Content},t=n=i([s.withDefaultPropsUpdate],t)}(a.PureComponent);t.TaskCanvasTabs=y;var k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.content,n=e.task,r=h.TaskChannels.getForTask(n),o=c.TaskHelper.isPending(n);return a.createElement(s.DynamicComponent,{contentStore:t,childProps:this.props,name:t.name,customChildren:this.props.children,noContainers:!0,vertical:!0},a.createElement(s.Tabs,{className:"Twilio-TaskCanvasTabs"},a.createElement(s.Tab,{key:"incoming",label:a.createElement(u.Template,{source:u.templates.TaskTabAgentIncomingLabel}),hidden:!o},a.createElement(p.IncomingTaskCanvas,null)),a.createElement(s.Tab,{key:"call",label:a.createElement(u.Template,{source:u.templates.TaskTabAgentCallLabel}),hidden:!c.TaskHelper.isCallTask(n)||o},a.createElement(d.CallCanvas,null)),a.createElement(s.Tab,{key:"chat",label:a.createElement(u.Template,{source:u.templates.TaskTabAgentChatLabel}),hidden:!c.TaskHelper.isChatBasedTask(n)||o},!!this.props.task&&this.renderChat(m.TaskChannelHelper.getColor(n,r.colors.main,y))),a.createElement(s.Tab,{key:"info",label:a.createElement(u.Template,{source:u.templates.TaskTabAgentInfoLabel})},a.createElement(f.TaskInfoPanel,null))))},t.prototype.renderChat=function(e){var t=this.props.task,n=this.props.channelDefinition,r=n.charLimit,o=n.componentProps;return a.createElement(g.ThemeProvider,{theme:function(t){if(!e)return t;var n=s.Utils.merge(t,{});return n.Chat.MessageInput.Button.background=e,n.Chat.MessageListItem.FromMe.Bubble.background=e,n.Chat.WelcomeMessage.Icon.color=e,n}},a.createElement(s.MessagingCanvas,{sid:c.TaskHelper.getTaskChatChannelSid(t),charLimit:r,inputDisabledReason:c.TaskHelper.isCompleted(t)||c.TaskHelper.isInWrapupMode(t)?u.templates.ChatInputDisabledText():void 0,welcomeMessageText:u.templates.ChatWelcomeText,predefinedMessage:o.MessagingCanvas&&o.MessagingCanvas.predefinedMessage}))},t=i([l.withTaskContext,v.withTheme],t)}(a.PureComponent)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),l=n(9),c=n(5),u=n(4),p=n(7),f=n(76);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(76));var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.prototype.render=function(){return a.createElement(h,o({},this.props))},t.displayName="TaskInfoPanel",t.Content=new s.DynamicContentStore(n.displayName),t.defaultProps={content:n.Content},t=n=i([s.withDefaultPropsUpdate],t)}(a.PureComponent);t.TaskInfoPanel=d;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.task,n=e.content,r=e.templateCode,o=e.channelDefinition,i=new c.TaskHelper(t);return a.createElement(s.DynamicComponent,{contentStore:n,childProps:this.props,name:n.name,customChildren:this.props.children,vertical:!0},a.createElement(f.Container,null,a.createElement(u.Template,{key:"content",code:r||p.TaskChannelHelper.getTemplateForStatus(t,o.templates.TaskInfoPanel.content,d),task:t,helper:i})))},t=i([l.withTaskContext],t)}(a.PureComponent)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),o=/^\/?(login\/)?([^\/]*)\/?/;function i(){var e=window.location.search||"";if(!e)return"/";var t=r.parse(e),n=(Array.isArray(t.path)?t.path[0]:t.path)||"";return n.endsWith("/")||(n+="/"),n.startsWith("/")||(n="/"+n),n}function a(){var e=r.parse(window.location.search);return Array.isArray(e.path)?e.path.shift():"string"==typeof e.path&&delete e.path,r.stringify(e)}t.RUNTIME_DOMAIN_REGEXP=/^([a-z]+\-[a-z]+\-\d+)$/,t.parseRuntimeDomainFromPathName=function(){var e=window.location.pathname.match(o),n=e&&e[2],r=e&&!!e[1];if(!n)return"";if(r)return n;var i=n.match(t.RUNTIME_DOMAIN_REGEXP);return i&&i[1]&&i[1]||""},t.parseDestinationPathFromSearch=i,t.getUserParamsFromSearch=a,t.getDestinationURLFromLocation=function(){var e=i();"/"===e&&((e=window.location.pathname).endsWith("/")||(e+="/"));var t=a();return t&&(t="?"+t),""+window.location.origin+e+t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(6),a=n(0),s=n(24),l=n(69),c=n(21),u=n(143),p=n(5),f={tasks:new Map,listener:void 0,activities:new Map,activity:void 0,attributes:{},source:void 0,worker:void 0},d="WORKER_INIT",h="WORKER_UPDATE",m="WORKER_ADD_RESERVATION",g="WORKER_DELETE_RESERVATION",v="WORKER_UPDATE_RESERVATION";t.reduce=function(e,t){switch(void 0===e&&(e=f),t.type){case d:var n=t.payload;return r({},f,t.payload,{worker:new u.TaskRouterWorker(n.source)});case c.ACTION_LOGGED_OUT:return f;case h:return r({},e,t.payload);case m:case v:var o=t.payload,i=new Map(e.tasks),a=new u.TaskRouterTask(o);return i.set(a.sid,a),r({},e,{tasks:i});case g:o=t.payload;var s=new Map(e.tasks);return s.delete(o.sid),r({},e,{tasks:s})}return e};var y=function(){function e(){}return e.dispatchWorkerAction=function(e,t){o.FlexModule.dispatch({type:e,payload:t})},e.init=function(e){new k(e)},e.addReservation=function(e){this.dispatchWorkerAction(m,e)},e.setCurrentActivity=function(e){var t=o.FlexModule.state.worker.activities.get(e);return t?t.isCurrent?Promise.resolve():t.setAsCurrent():Promise.reject("Activity not found: "+e)},e.setCurrentActivityByName=function(e){var t;return o.FlexModule.state.worker.activities.forEach(function(n){n.name===e&&(t=n)}),t?t.isCurrent?Promise.resolve():t.setAsCurrent():Promise.reject("Activity not found: "+e)},e.updateEndConferenceOnExitForTask=function(e,t){var n=t||e.conference;if(n&&p.TaskHelper.isLiveCall(e)&&"started"===n.status){var r=n.participants.find(function(e){return e.isMyself&&"joined"===e.status}),o=n.liveWorkerCount<2,a=this.previousEndConferenceOnExits.get(e.sid);i.default.info("Updating endConferenceOnExit for task "+e.sid+". imLivePerConference: "+r+", oldValue: "+a+", newValue: "+o),r&&a!==o&&(i.default.info("Updating endConferenceOnExit done"),this.previousEndConferenceOnExits.set(e.sid,o),e.sourceObject.updateParticipant({endConferenceOnExit:o}))}},e.shutdown=function(){i.default.debug("Worker state logout");var e=o.FlexModule.state.worker.source;if(e)try{e.disconnect()}catch(e){i.default.error("Error on worker disconnect",e)}var t=o.FlexModule.state.worker.listener;t&&t.stop()},e.previousEndConferenceOnExits=new Map,e}();t.Actions=y;var k=function(){function e(e){var t=this;this.handleActivityUpdated=function(){t.dispatchAction(h,{activity:t._worker.activity,activities:t._worker.activities})},this.handleAttributesUpdated=function(){t.dispatchAction(h,{attributes:t._worker.attributes})},this.handleReservationCreated=function(e){t.initReservationListeners(e),y.addReservation(e);var n=new u.TaskRouterTask(e);p.TaskHelper.isCallTask(n)&&s.ConferenceListenerManager.startListening(n)},this.handleReservationUpdated=function(e,n){switch(i.default.info("Event, reservation updated",e,n),e){case"wrapup":t.dispatchAction(v,n);break;case"accepted":t.dispatchAction(v,n);var r=new u.TaskRouterTask(n);p.TaskHelper.isLiveCall(r)&&y.updateEndConferenceOnExitForTask(r),p.TaskHelper.isCallTask(r)&&r.transferObject&&"COLD"===r.transferObject.mode&&a.Actions.invokeAction("UnholdCall",{task:r}),p.TaskHelper.isChatBasedTask(r)&&l.ChatListener.joinAndInitChannelForTask(r);break;case"completed":l.ChatListener.leaveAndUninitChatForTask(new u.TaskRouterTask(n));case"rejected":case"timeout":case"canceled":case"rescinded":t.stopReservationListeners(n),s.ConferenceListenerManager.stopListening(n.task.sid),t.dispatchAction(g,n)}},this.handleTaskUpdated=function(e,n){i.default.info("Task updated",e,n.task),["transferAttemptFailed","transferCompleted","transferInitiated","transferFailed"].indexOf(e)>-1&&s.ConferenceListenerManager.updateOutboundTransfer(n.task.sid,e),t.dispatchAction(v,n)},this._reservationListeners=new Map,this._worker=e;var n=new Map(o.FlexModule.state.worker.tasks);e.reservations.forEach(function(e){var r=new u.TaskRouterTask(e);n.set(e.sid,r),t.initReservationListeners(e),p.TaskHelper.isCallTask(r)&&s.ConferenceListenerManager.startListening(r)}),this.dispatchAction(d,{listener:this,source:e,activity:e.activity,activities:e.activities,attributes:e.attributes,tasks:n}),this.start()}return e.prototype.start=function(){this._listening||(this._worker.addListener("reservationCreated",this.handleReservationCreated),this._worker.addListener("activityUpdated",this.handleActivityUpdated),this._worker.addListener("attributesUpdated",this.handleAttributesUpdated),this._listening=!0)},e.prototype.stop=function(){var e=this;this._listening&&(this._worker.removeListener("reservationCreated",this.handleReservationCreated),this._worker.removeListener("activityUpdated",this.handleActivityUpdated),this._worker.removeListener("attributesUpdated",this.handleAttributesUpdated),Array.from(this._reservationListeners.keys()).forEach(function(t){return e.stopReservationListeners(t)}),this._listening=!1)},e.prototype.dispatchAction=function(e,t){y.dispatchWorkerAction(e,t)},e.prototype.stopReservationListeners=function(e){var t=this._reservationListeners.get(e);t&&(t.resListeners.forEach(function(t){e.removeListener(t.event,t.callback)}),t.taskListeners.forEach(function(t){e.task.removeListener(t.event,t.callback)}),this._reservationListeners.delete(e))},e.prototype.initReservationListeners=function(e){var t=this;this.stopReservationListeners(e);var n=[],r=[];["accepted","rejected","timeout","canceled","rescinded","completed","wrapup"].forEach(function(r){var o=function(){return t.handleReservationUpdated(r,e)};e.addListener(r,o),n.push({callback:o,event:r})});["updated","wrapup","completed","canceled","transferAttemptFailed","transferCompleted","transferInitiated","transferFailed"].forEach(function(n){var o=function(){return t.handleTaskUpdated(n,e)};e.task.addListener(n,o),r.push({callback:o,event:n})}),this._reservationListeners.set(e,{resListeners:n,taskListeners:r})},e.prototype.isListening=function(){return this._listening},e}();t.WorkerListener=k},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(67),i=n(3),a=n(6),s=n(14),l=n(0),c={listener:void 0,connection:void 0},u="PHONE_INIT",p="PHONE_ADD_CONNECTION",f="PHONE_REMOVE_CONNECTION",d="PHONE_TOGGLE_MUTE",h="PHONE_UNINIT",m="PHONE_HOLD_CONNECTION",g="PHONE_UNHOLD_CONNECTION";t.reduce=function(e,t){switch(void 0===e&&(e=c),t.type){case u:var n=t.payload;return r({},c,{listener:n.listener});case h:return c;case g:case d:case p:var o=k(t.payload,!1);return r({},e,{connection:o});case m:return o=k(t.payload,!0),r({},e,{connection:o});case f:return r({},e,{connection:void 0});default:return e}};var v=function(){function e(){}return e.dispatchPhoneAction=function(e,t){i.FlexModule.dispatch({type:e,payload:t})},e.init=function(e,t){var n=new y(e,t);this.dispatchPhoneAction(u,{listener:n})},e.oldHoldConnection=function(){i.FlexModule.state.phone.connection&&e.dispatchPhoneAction(m,i.FlexModule.state.phone.connection.source)},e.oldUnHoldConnection=function(){i.FlexModule.state.phone.connection&&e.dispatchPhoneAction(g,i.FlexModule.state.phone.connection.source)},e.shutdown=function(){a.default.info("Phone state shutdown");var e=i.FlexModule.state.phone.listener;e&&e.stop(),o.Device.destroy(),this.dispatchPhoneAction(h,null)},e}();t.Actions=v;var y=function(){function e(e,t){var n=this;this.handleDeviceReady=function(e){a.default.info("handleDeviceReady",n,e)},this.handleDeviceError=function(e){31201===e.code&&l.Notifications.showNotification(s.NotificationIds.MicTaken),a.default.error("device error",e)},this.handleDeviceConnect=function(e){a.default.info("connection connected",e),e.on("mute",n.handleConnectionMute),v.dispatchPhoneAction(p,e)},this.handleDeviceDisconnect=function(e){a.default.info("connection disconnected",e),e.removeListener("mute",n.handleConnectionMute),v.dispatchPhoneAction(f,void 0)},this.handleDeviceIncoming=function(e){a.default.info("connection incoming",e),e.accept()},this.handleDeviceCancel=function(e){a.default.info("connection was cancelled",e)},this.handleConnectionMute=function(e){a.default.info("connection was "+(e?"muted":"unmuted")),v.dispatchPhoneAction(d,i.FlexModule.state.phone.connection.source)},o.Device.setup(e,t),this.start()}return e.prototype.start=function(){this._listening||(o.Device.on("ready",this.handleDeviceReady),o.Device.on("connect",this.handleDeviceConnect),o.Device.on("disconnect",this.handleDeviceDisconnect),o.Device.on("error",this.handleDeviceError),o.Device.on("incoming",this.handleDeviceIncoming),o.Device.on("cancel",this.handleDeviceCancel),this._listening=!0)},e.prototype.stop=function(){this._listening&&(o.Device.removeListener("ready",this.handleDeviceReady),o.Device.removeListener("connect",this.handleDeviceConnect),o.Device.removeListener("disconnect",this.handleDeviceDisconnect),o.Device.removeListener("error",this.handleDeviceError),o.Device.removeListener("incoming",this.handleDeviceIncoming),o.Device.removeListener("cancel",this.handleDeviceCancel),this._listening=!1)},e.prototype.isListening=function(){return this._listening},e}();function k(e,t){return{oldHold:t,source:e}}t.DeviceListener=y},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(57),a=n(91),s=n(92),l=n(6);t.getDefaultStore=function(){return o};var c=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({actionSanitizer:function(e){return e},stateSanitizer:function(e){return e.flex.config?r({},e,{flex:r({},e.flex,{chat:"<<CUT FOR DEV>>",insights:"<<CUT FOR DEV>>",supervisor:"<<CUT FOR DEV>>"})}):e}})||i.compose;t.createDefaultStore=function(e){if(o)return l.default.error("default store already exists"),null;var t=i.combineReducers({flex:a.FlexReducer});return o=i.createStore(t,c(s.applyFlexMiddleware(e.history)))}},function(e,t){e.exports=require("redux")},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(36);t.FLEX_LOCATION_CHANGE="@@flex/LOCATION_CHANGE",t.createReducer=function(e){return function(n,i){var a=i.type===t.FLEX_LOCATION_CHANGE,s=i.type===o.LOCATION_CHANGE,l=e&&e.router&&e.router.isolate,c=i;return s&&l?n:(a&&(c=r({},i,{type:o.LOCATION_CHANGE})),o.routerReducer.call(null,n,c))}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}l((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(16),s=n(12),l=n(3),c=n(6);t.initialState={queuesList:{},aggregatedData:{activeTasks:0,waitingTasks:0,agentByActivity:{},longestWaitQueue:{}},hasFetchedList:!1},t.reduce=function(e,n){switch(void 0===e&&(e=t.initialState),n.type){case t.UPDATE_QUEUES:var o=r({},e.queuesList,n.payload);return r({},e,{queuesList:o,aggregatedData:p.extract(o),hasFetchedList:!0});case t.NO_QUEUE_FOUND:return r({},e,{hasFetchedList:!0})}return e},t.UPDATE_QUEUES="FLEX_UPDATE_QUEUES",t.NO_QUEUE_FOUND="FLEX_NO_QUEUE_FOUND";var u=function(){function e(){}return Object.defineProperty(e,"dispatcher",{get:function(){return this._dispatcher||l.FlexModule.dispatch},set:function(e){this._dispatcher=e},enumerable:!0,configurable:!0}),e.startPolling=function(){return o(this,void 0,void 0,function(){var e,t,n;return i(this,function(r){switch(r.label){case 0:return e=s.Manager.getInstance(),t=e.serviceConfiguration,n=e.configuration.queuesStats,this.workspaceSid=t.taskrouter_workspace_sid,this.accountSid=t.account_sid,this.pollingInterval=Math.max(n.pollInterval,1e3),this.baseUrl=n.baseApiUrl,this.isPollingData=!0,this.activities||(this.activities=l.FlexModule.workerClient.activities),[4,this.handleFetchedQueues()];case 1:return r.sent(),[2]}})})},e.handleFetchedQueues=function(){return o(this,void 0,void 0,function(){var e,n,r,o=this;return i(this,function(i){switch(i.label){case 0:if(!this.isPollingData)return[2];if(this.fetchedQueuesList)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.fetchTaskQueuesList()];case 2:return e=i.sent().data,this.fetchedQueuesList=e,[3,4];case 3:return n=i.sent(),setTimeout(function(){return o.handleFetchedQueues()},this.pollingInterval),[2,c.default.error(n)];case 4:return this.fetchedQueuesList&&this.fetchedQueuesList.task_queues.length?[4,Promise.all(this.fetchedQueuesList.task_queues.map(function(e){return o.fetchTaskQueue(e.sid,e.friendly_name)}))]:[2,this.dispatcher({type:t.NO_QUEUE_FOUND})];case 5:return r=i.sent(),this.dispatcher({type:t.UPDATE_QUEUES,payload:r.reduce(function(e,t){return t&&(e[t.task_queue_sid]=o.setQueueActivitiesDetails(t)),e},{})}),setTimeout(function(){return o.handleFetchedQueues()},this.pollingInterval),[2]}})})},e.stopPolling=function(){this.isPollingData=!1},e.fetchTaskQueuesList=function(){return this.makeAuthenticatedGetCall(""+this.baseUrl+this.workspaceSid+"/TaskQueues/")},e.fetchTaskQueueRealTimeStats=function(e){return this.makeAuthenticatedGetCall(""+this.baseUrl+this.workspaceSid+"/TaskQueues/"+e+"/RealTimeStatistics/")},e.fetchTaskQueue=function(e,t){return o(this,void 0,void 0,function(){var n,o;return i(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.fetchTaskQueueRealTimeStats(e)];case 1:return n=i.sent(),[2,r({friendly_name:t},n.data)];case 2:return o=i.sent(),c.default.error("Failed to load stats for queue "+e+".",o),[3,3];case 3:return[2]}})})},e.makeAuthenticatedGetCall=function(e){var t=l.FlexModule.state.session.ssoTokenPayload.token;return a.default.get(e,{auth:{username:"token",password:t}})},e.setQueueActivitiesDetails=function(e){var t=this,n=e.activity_statistics.map(function(e){return t.getActivityDetails(e)});return r({},e,{activity_statistics:n})},e.getActivityDetails=function(e){return r({},e,{available:this.activities.get(e.sid).available})},e}();t.Actions=u;var p=function(){function e(){}return e.extract=function(e){var t=this;return Object.keys(e).reduce(function(n,r){var o=e[r];return n.activeTasks=t.getActiveTasks(n.activeTasks,o),n.waitingTasks=t.getWaitingTasks(n.waitingTasks,o),n.longestWaitQueue=t.getLongestWaitTime(n.longestWaitQueue,o),n.agentByActivity=t.getAgentsByActivity(n.agentByActivity,o),n},{activeTasks:0,waitingTasks:0,longestWaitQueue:{time:0,friendlyName:"-"},agentByActivity:{availableAgents:0,offlineAgents:0,unavailableAgents:0}})},e.getActiveTasks=function(e,t){return e+t.tasks_by_status.assigned+t.tasks_by_status.wrapping},e.getWaitingTasks=function(e,t){return e+t.tasks_by_status.reserved+t.tasks_by_status.pending},e.getLongestWaitTime=function(e,t){return{time:Math.max(t.longest_task_waiting_age,e.time),friendlyName:t.longest_task_waiting_age>e.time?t.friendly_name:e.friendlyName}},e.getAgentsByActivity=function(e,t){var n=this,r=function(e,r){return t.activity_statistics.filter(function(t){return t.available===e&&n.isOfflineActivity(t)===r}).reduce(function(e,t){return e+t.workers},0)};return{availableAgents:r(!0,!1)+(e.availableAgents||0),offlineAgents:r(!1,!0)+(e.offlineAgents||0),unavailableAgents:r(!1,!1)+(e.unavailableAgents||0)}},e.isOfflineActivity=function(e){var t=s.Manager.getInstance().serviceConfiguration.taskrouter_offline_activity_sid;return t&&t===e.sid||"Offline"===e.friendly_name},e}();t.AggregatedDataHelpers=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(148),i=n(149),a=n(6);function s(e){return"browser"===e||"memory"===e}t.isHistory=function(e){var t=e;return!!(t&&t.length&&t.location&&t.listen&&t.action&&t.push&&t.replace&&t.go&&t.goBack&&t.goForward)},t.isHistoryType=s,t.isHistoryParams=function(e){var t=e;return t&&("string"==typeof t.type||"boolean"==typeof t.isolate)},t.default=function(e){if(void 0===e&&(e={type:"browser"}),!r){var t=e.isolate?"memory":e.type;r=function(e){return"memory"===e?i.default:(s(e)||a.default.error("History type '"+e+"' is not supported. Use 'browser' or 'memory' type for router configuration."),o.default)}(t)(e.history)}return r},t.setHistory=function(e){r=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION="1.6.0"},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s,l=n(1),c=n(2),u=n(0),p=n(26),f=n(20),d=n(25),h=n(39),m=n(38),g=n(6),v=n(4),y=n(52),k=n(162);!function(e){e.Initial="Initial",e.RuntimeLoginInput="RuntimeLoginInput",e.AccountSidLoading="AccountSidLoading",e.PublicConfigLoading="PublicConfigLoading",e.LoggingIn="LoggingIn",e.LoginForm="LoginForm",e.Final="Final"}(s||(s={}));var C=new Set([s.AccountSidLoading,s.PublicConfigLoading,s.LoggingIn,s.Final]),b={runtimeLogin:{mapDomainToLookup:function(e){return"https://flex.twilio.com/lookup/"+e},adminLoginUrl:"https://www.twilio.com/service-login/flex?localPort="+window.location.port}};t.LoginFormView=function(e){return l.createElement(p.StorelessThemeProvider,{themeConf:{baseName:"BlueDarkTheme"}},l.createElement(w,o({},e)))},t.LoginFormView.defaultProps={userConfig:{},initialRuntimeDomain:y.parseRuntimeDomainFromPathName()||"",userLoggedOut:!1};var w=function(e){function t(t){var n=e.call(this,t)||this;return n.handleWindowResize=function(){n.setSizeFromContainer()},n.setContainerRef=function(e){n._containerRef=e,n.setSizeFromContainer()},n.setDomain=function(e){var t=e.target;n.setState({runtimeDomain:t.value})},n.handleFatalError=function(e){g.default.error("LoginFormView fatal error:",e),n.props.onError&&n.props.onError(e)},n.handleSubmit=function(e){switch(e.preventDefault(),n.state.smState){case s.RuntimeLoginInput:n.sm.transitionTo(s.AccountSidLoading);break;case s.LoginForm:n.tryLogin()}},n.transitionToInit=function(){return n.getMergedConfig().sso.accountSid?n.state.publicConfig?n.sm.transitionTo(s.LoggingIn):n.sm.transitionTo(s.PublicConfigLoading):n.state.runtimeDomain?n.sm.transitionTo(s.AccountSidLoading):n.sm.transitionTo(s.RuntimeLoginInput)},n.transitionToFetchingAccountSid=function(){return h.fetchRuntimeDomainInfo(n.state.runtimeDomain,n.props.userConfig.runtimeLogin).then(function(e){n.setState({determinedConfig:{sso:{accountSid:e.accountSid}}}),n.sm.transitionTo(s.PublicConfigLoading)}).catch(function(e){n.sm.transitionTo(s.RuntimeLoginInput),n.setState({error:e}),g.default.warn("Error from fetchRuntimeDomainInfo",e)})},n.transitionToFetchingPublicConfig=function(){var e=n.getMergedConfig();if(!e.sso.accountSid)throw new f.ConfigError(f.ConfigErrorKeys.accountSid);return h.fetchPublicConfiguration(e.sso.accountSid,!0,n.props.userConfig).then(function(e){n.setState({publicConfig:e}),n.sm.transitionTo(s.LoggingIn)}).catch(function(e){n.setState({error:e}),n.sm.transitionTo(s.LoginForm),g.default.warn("Error from fetchPublicConfiguration",e)})},n.transitionToFinal=function(){var e=n.props.userConfig;u.Utils.mergeInto(e||{},n.state.determinedConfig,!1);var t=u.Utils.merge(h.getStoredConfig(),n.state.determinedConfig);h.storeConfig(t),n.props.userLoggedOut&&m.SSOLoginHandler.create(e.sso).then(function(e){window.location.reload()}),n.props.onSuccess&&n.props.onSuccess(n.state.determinedConfig)},n.transitionToLoggingIn=function(){return n.tryLogin()},n.state={determinedConfig:{},error:null,runtimeDomain:t.initialRuntimeDomain,smState:null,publicConfig:void 0},n.sm=new u.StateMachine("LoginFormView"),n.sm.onChange(function(e){return n.setState(function(t){return o({},t,{smState:e})})}),n.sm.onEnter(s.Initial,n.transitionToInit),n.sm.onEnter(s.AccountSidLoading,n.transitionToFetchingAccountSid),n.sm.onEnter(s.PublicConfigLoading,n.transitionToFetchingPublicConfig),n.sm.onEnter(s.LoggingIn,n.transitionToLoggingIn),n.sm.onEnter(s.Final,n.transitionToFinal),Object.keys(v.templates).length||u.initWithStrings(d.languages.default),n}return r(t,e),t.prototype.componentDidMount=function(){return window.addEventListener("resize",this.handleWindowResize),this.props.userLoggedOut?this.props.userConfig.sso&&this.props.userConfig.sso.accountSid?this.sm.transitionTo(s.LoginForm):this.sm.transitionTo(s.RuntimeLoginInput):this.sm.transitionTo(s.Initial)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize)},t.prototype.render=function(){var e=this.getDetailedErrorMessageTemplate();return l.createElement(k.Container,{className:"Twilio Twilio-LoginFormView",innerRef:this.setContainerRef},l.createElement(k.VerticalContainer,{className:"Twilio-LoginFormView-Container",showBorder:this.state.containerWidth>=1024},l.createElement(k.ContentContainer,{className:"Twilio-LoginFormView-ContentContainer"},l.createElement(k.StyledLogoWithCircle,{animating:this.isLoadingState(),backgroundColor:this.props.theme.LoginFormView.Container.backgroundColor}),l.createElement(k.MessageContainer,{className:"Twilio-LoginFormView-Message"},l.createElement(v.Template,{source:this.getMessageTemplate()})),l.createElement(k.FormContainer,{className:"Twilio-LoginFormView-FormContainer"},l.createElement(k.Form,{onSubmit:this.handleSubmit,className:"Twilio-LoginFormView-Form"},this.isRuntimeDomainInputState()&&l.createElement(k.RuntimeDomainInput,{className:"Twilio-LoginFormView-Input",value:this.state.runtimeDomain,onChange:this.setDomain,autoFocus:!0,error:!!this.state.error,name:"runtime",type:"text",placeholder:v.templates.RuntimeLoginPlaceholder()}),!this.isLoadingState()&&this.doesErrorAllowButton()&&l.createElement(k.LoginButton,{className:"Twilio-LoginFormView-LoginButton",roundCorners:!1,disabled:this.isLoginButtonDisabled(),onClick:this.handleSubmit,themeOverride:this.props.theme.RuntimeLoginView.LoginButton},l.createElement(v.Template,{source:this.getLoginButtonTemplate()})))),l.createElement(k.ErrorDetailsContainer,{className:"Twilio-LoginFormView-ErrorDetails"},!!e&&l.createElement(v.Template,{source:e})),!this.isLoadingState()&&l.createElement(k.AdminLinkContainer,{className:"Twilio-LoginFormView-AdminLogin"},l.createElement(v.Template,{source:v.templates.LoginIsAdmin}),l.createElement(k.LoginLink,{href:this.getRuntimeConfig().adminLoginUrl},l.createElement(v.Template,{source:v.templates.LoginWithTwilio}))))))},t.prototype.setSizeFromContainer=function(){this._containerRef&&this.setState({containerWidth:this._containerRef.clientWidth})},t.prototype.getMergedConfig=function(e){return void 0===e&&(e=this.props),u.Utils.merge(e.userConfig||{},this.state.determinedConfig)},t.prototype.tryLogin=function(){var e=this,t=this.getMergedConfig();return m.SSOLoginHandler.tryLogin(t.sso).then(function(){e.sm.transitionTo(s.Final)}).catch(function(t){t instanceof f.BrowserError&&t.key===f.BrowserErrorKeys.redirecting?g.default.debug("Browser redirecting soon"):(e.setState({error:t}),e.sm.transitionTo(s.LoginForm),g.default.warn("Error from tryLogin",t),function(e){return e instanceof f.BrowserError||e instanceof f.ValidationError||e instanceof f.ConfigError||e instanceof f.ClientError}(t)||e.handleFatalError(t))})},t.prototype.getErrorMessageTemplate=function(){var e=this.state.error;return e?e.key===f.ValidationErrorKeys.sso?v.templates.LoginErrorSso:e.key===f.BrowserErrorKeys.popupBlocked||e.key===f.BrowserErrorKeys.windowClosed?v.templates.LoginErrorPopupBlocked:e.key===f.ValidationErrorKeys.accountSid?v.templates.LoginErrorDomain:e.key===f.ValidationErrorKeys.untrustedDomain?v.templates.LoginErrorUntrustedDomain:v.templates.LoginErrorGeneric:null},t.prototype.getDetailedErrorMessageTemplate=function(){var e=this.state.error;return!e||this.isLoadingState()?null:e.key===f.ValidationErrorKeys.sso?v.templates.LoginErrorSsoDetails:e.key===f.BrowserErrorKeys.popupBlocked||e.key===f.BrowserErrorKeys.windowClosed?v.templates.LoginErrorPopupBlockedDetails:e.key===f.ValidationErrorKeys.accountSid?v.templates.LoginErrorDomainDetails:e.key===f.ValidationErrorKeys.untrustedDomain?v.templates.LoginErrorUntrustedDomainDetails:null},t.prototype.getLoginButtonTemplate=function(){return this.props.userLoggedOut?v.templates.LoginAgain:this.state.smState===s.RuntimeLoginInput?v.templates.LoginLaunch:v.templates.LoginContinue},t.prototype.doesErrorAllowButton=function(){return!(this.state.error&&this.state.error instanceof f.ValidationError)},t.prototype.isLoginButtonDisabled=function(){return this.isRuntimeDomainInputState()&&!this.state.runtimeDomain||this.state.smState===s.LoginForm&&this.state.error&&!(this.state.error instanceof f.BrowserError)},t.prototype.getMessageTemplate=function(){return this.isLoadingState()?v.templates.LoginLoading:this.isErrorState()?this.getErrorMessageTemplate():this.props.userLoggedOut?v.templates.UserLoggedOutSuccess:v.templates.LoginWelcome},t.prototype.isRuntimeDomainInputState=function(){return this.state.smState===s.RuntimeLoginInput},t.prototype.isLoadingState=function(){return C.has(this.state.smState)},t.prototype.isErrorState=function(){return!!this.state.error&&!this.isLoadingState()},t.prototype.getRuntimeConfig=function(){return this.props.userConfig.runtimeLogin||b.runtimeLogin},t=i([c.withTheme,a("design:paramtypes",[Object])],t)}(l.PureComponent)},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(156),i=n(157),a=n(158),s=n(159),l=function(){function e(){}return e.getPredefinedTheme=function(e){var t={MediumTheme:o.default,DarkTheme:i.default,BlueMediumTheme:s.default,BlueDarkTheme:a.default},n=r({},t,{GreyDark:i.GreyDark,GreyLight:o.GreyLight,FlexDark:a.FlexDark,FlexLight:s.FlexLight})[e];return n||(n=s.FlexLight),n},e}();t.ThemeDefCreator=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(0),c=n(4),u=n(100),p=n(166),f=n(2),d=n(5),h=n(3),m=n(13),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidMount=function(){var e=this;this.interval=window.setInterval(function(){return e.forceUpdate()},1e3)},t.prototype.componentWillUnmount=function(){clearInterval(this.interval)},t.prototype.render=function(){var e=this.props.item;return s.createElement(l.UserCard,{className:"Twilio-AgentsDataTable-UserCard",imageUrl:e.worker.attributes.image_url,large:!0,firstLine:s.createElement(c.Template,{source:c.templates.SupervisorUserCardFirstLine,worker:e.worker}),secondLine:s.createElement(c.Template,{source:c.templates.SupervisorUserCardSecondLine,worker:e.worker}),isAvailable:e.worker.isAvailable})},t}(s.Component);t.defaultCompareFunction=function(e,t){var n=e.fullName||"",r=t.fullName||"";return n.localeCompare(r)};var v=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}var o;return r(n,e),o=n,n.updateAll=function(){},n.prototype.render=function(){return s.createElement(b,i({},this.props))},n.displayName="AgentsDataTable",n.Content=new l.DynamicContentStore(o.displayName),n.IncludeAllFilter={query:"",text:"All Agents"},n.IncludeActiveAgentsFilter=function(e){var t=e.worker.activities,n=t&&Array.from(t.values()).filter(function(e){return!!e.available});if(n&&n.length)return{query:"data.activity_name IN ["+('"'+n.map(function(e){return e.name}).join('", "')+'"')+"]",text:"Active Agents"}},n.defaultProps={tablePlaceHolder:void 0,initialCompareFunction:t.defaultCompareFunction,filters:[o.IncludeActiveAgentsFilter,o.IncludeAllFilter],taskFilter:'data.status not_in ["completed", "canceled", "rescinded", "rejected"]'},n=o=a([l.withDefaultPropsUpdate],n)}(s.PureComponent);t.AgentsDataTable=v,t.mapStoreStateToProps=function(e,t){return{workers:e.supervisor.workers,filters:t.filters.map(function(n){return"function"==typeof n?n(e,t):n}).filter(function(e){return!!e})}};var y,k,C=function(e){function t(t){var n=e.call(this,t)||this;return n.getItemWorkerSid=function(e){return e.worker.sid},n.renderUserCard=function(e){return s.createElement(g,{item:e})},n.renderTaskCardListForOthers=function(e,t){return s.createElement(u.TaskCardList,{tasks:e.tasks,onCardSelected:t.onTaskSelected,selectedTaskSid:t.selectedTask&&t.selectedTask.sid,highlightedTaskSid:t.monitoredTaskSid,filter:n.tasksFilter})},n.renderTaskCardListForCall=function(e,t){return s.createElement(u.TaskCardList,{tasks:e.tasks,onCardSelected:t.onTaskSelected,selectedTaskSid:t.selectedTask&&t.selectedTask.sid,highlightedTaskSid:t.monitoredTaskSid,filter:n.callsFilter})},n.callsFilter=function(e){return d.TaskHelper.isCallTask(e)&&d.TaskHelper.isTaskAccepted(e)},n.tasksFilter=function(e){return!d.TaskHelper.isCallTask(e)&&d.TaskHelper.isTaskAccepted(e)},n.onFilterChanged=function(e){n.setState(i({},n.state,{activeFilter:e})),m.Actions.setActiveFilterQuery(e.query,n.props.taskFilter)},n.handleRowClick=function(e){n.props.onWorkerSelected&&n.props.onWorkerSelected(e.worker)},n.state={activeFilter:t.activeFilter||t.filters&&t.filters.length>0&&t.filters[0]||v.IncludeAllFilter},n}return r(t,e),t.prototype.componentDidMount=function(){m.Actions.setActiveFilterQuery(this.state.activeFilter.query,this.props.taskFilter)},t.prototype.componentWillUnmount=function(){},t.prototype.render=function(){var e=this,t=this.props,n=t.tablePlaceHolder,r=t.filters,o=this.props.workers;this.props.initialCompareFunction&&(o=o.sort(function(t,n){return e.props.initialCompareFunction(t.worker,n.worker)}));var i=this.props.workers,a={selectedTask:this.props.selectedTask,monitoredTaskSid:this.props.monitoredTaskSid,onTaskSelected:this.props.onTaskSelected};return s.createElement(w,{className:"Twilio-AgentsDataTable"},s.createElement(T,{className:"Twilio-AgentsDataTable-Filter",noGrow:!0},s.createElement(p.AgentListFilterSelect,{filters:r,activeFilter:this.state.activeFilter,onFilterChanged:this.onFilterChanged})),s.createElement(l.DynamicComponent,{childProps:this.props,contentStore:v.Content,name:v.displayName,customChildren:this.props.children,noContainers:!0},s.createElement(l.DataTable,{items:i,itemKey:this.getItemWorkerSid,selectedItemKey:this.props.selectedWorker&&this.props.selectedWorker.sid,placeholder:n,onRowClick:this.handleRowClick,columnDataCreationContext:a},s.createElement(l.ColumnDefinition,{key:"agent",header:s.createElement(c.Template,{code:"ColumnHeaderAgent"}),content:this.renderUserCard,style:{width:"180px"}}),s.createElement(l.ColumnDefinition,{key:"calls",header:s.createElement(c.Template,{code:"ColumnHeaderCalls"}),content:this.renderTaskCardListForCall,style:{width:"180px"}}),s.createElement(l.ColumnDefinition,{key:"tasks",header:s.createElement(c.Template,{code:"ColumnHeaderTasks"}),content:this.renderTaskCardListForOthers}))))},t}(s.PureComponent),b=h.connect(t.mapStoreStateToProps)(C),w=f.default("div")(y||(y=o(["\n    overflow-y: auto;\n"],["\n    overflow-y: auto;\n"]))),T=f.default(l.FlexBox)(k||(k=o(["\n    margin-top: 12px;\n    margin-left: 12px;\n    margin-bottom: 32px;\n"],["\n    margin-top: 12px;\n    margin-left: 12px;\n    margin-bottom: 32px;\n"])))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),l=n(103),c=n(8),u=n(2);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(103));var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement(f,o({},this.props))},t.displayName="TaskCanvas",t.Content=new s.DynamicContentStore(t.displayName),t.Header=l.TaskCanvasHeader,t.Tabs=l.TaskCanvasTabs,t}(a.PureComponent);t.TaskCanvas=p;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props.task;return a.createElement(s.DynamicComponent,{contentStore:p.Content,childProps:this.props,name:p.displayName,customChildren:this.props.children,noContainers:!0,vertical:!0},a.createElement(l.StyledFlexBox,{vertical:!0,noGrow:!0,noShrink:!0},a.createElement(l.TaskCanvasHeader,{key:"header"}),a.createElement(l.TaskCanvasTabs,{key:"tabs",task:e})))},t.displayName=p.displayName,t=i([u.withTheme,c.withTaskContext],t)}(a.PureComponent)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),l=n(104),c=n(18),u=n(7),p=n(8),f=n(2),d=n(48),h=n(5);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(104));var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.prototype.render=function(){var e,t=this.props,r=t.firstLine,i=t.secondLine,s=t.task,p=t.channelDefinition;return t.conference&&h.TaskHelper.isLiveCall(s)&&(e=a.createElement(d.ParticipantsCanvas,{includeMyself:!0})),a.createElement(c.TaskDetailsPanel,o({content:n.Content,IconComponent:l.TaskOverviewIcon,ActionsComponent:l.SupervisorTaskOverviewActions,contentComponent:e,firstLine:r||u.TaskChannelHelper.getTemplateForStatus(s,p.templates.Supervisor.TaskOverviewCanvas.firstLine,n),secondLine:i||u.TaskChannelHelper.getTemplateForStatus(s,p.templates.Supervisor.TaskOverviewCanvas.secondLine,n)},this.props))},t.friendlyName="TaskOverviewCanvas",t.displayName=n.friendlyName,t.Content=new s.DynamicContentStore(n.friendlyName),t=n=i([f.withTheme,p.withTaskContext],t)}(a.PureComponent);t.TaskOverviewCanvas=m},function(e,t){e.exports=require("twilio-client")},function(e,t){e.exports=require("events")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),o=n(0),i=n(22),a=n(15),s=n(3),l=n(5),c=n(6),u=function(){function e(){}return e.init=function(e){e.addListener("channelJoined",this.onChannelJoined)},e.joinAndInitChannelForTask=function(e){if(!s.FlexModule.chatClient)return c.default.debug("chat client not ready yet, loading channel later");if(a.StateHelper.getChatChannelStateForTask(e))return c.default.debug("chat channel state exists already");var t=l.TaskHelper.getTaskChatChannelSid(e);if(!t)return c.default.warn("No chat channel sid in task",e);var n=s.FlexModule.state.config.chatOrchestrationServiceUrl||"https://preview.twilio.com/Flex/WebChannels",o=i.stringify({Identity:s.FlexModule.chatClient.user.identity,ChatChannelSid:t}),u={auth:{username:"token",password:s.FlexModule.chatClient.token},headers:{"Content-Type":"application/x-www-form-urlencoded"}};return c.default.debug("requesting to join channel for task",t,e.sid),r.default.post(n+"/Users",o,u).then(function(){c.default.debug("Request to join channel successfully sent",t)}).catch(function(e){c.default.error("Failed to join channel",t,e)})},e.leaveAndUninitChatForTask=function(e){var t=l.TaskHelper.getTaskChatChannelSid(e);if(!t)return c.default.trace("chat channel sid for task does not exist",e);var n=a.StateHelper.getChatChannelStateForTask(e);return n?(o.ChatChannelState.Actions.unload(t),n.source.leave().then(function(){return c.default.trace("left chat channel",t)}).catch(function(e){return c.default.error("Failed to leave chat channel",t,e)})):c.default.debug("No chat channel state for task",e)},e.initChannelForTask=function(e){if(!s.FlexModule.chatClient)return c.default.debug("chat client not ready yet, loading channel later");if(a.StateHelper.getChatChannelStateForTask(e))return c.default.debug("chat channel state exists already");var t=l.TaskHelper.getTaskChatChannelSid(e);return t?s.FlexModule.chatClient.getChannelBySid(t).then(function(e){"joined"===e.status?o.ChatModule.state.channels[t]||o.ChatChannelState.Actions.init(e):c.default.debug("channel not joined, not initializing yet",e)}).catch(function(e){c.default.error("Cannot get chat channel",t,e)}):c.default.warn("No chat channel sid in task",e)},e.onChannelJoined=function(e){if(s.FlexModule.state.chat.channels[e.sid])return c.default.debug("chat channel state exists already");c.default.debug("initializing chat for channel",e.sid),o.ChatChannelState.Actions.init(e)},e}();t.ChatListener=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,i,a=n(0),s=n(44),l=n(17),c=n(5),u=n(33),p=function(e,t){if(e.transferObject&&"pending"===e.status)return"WORKER"===e.transferObject.type?t===o?"TaskLineCallTransferWorkerDetail":"TaskLineCallTransferWorker":t===o?"TaskLineCallTransferQueueDetail":"TaskLineCallTransferQueue";switch(e.status){case"pending":return t===o?"TaskLineQueue":"TaskLineCallReserved";case"accepted":return e.conference&&e.conference.liveParticipantCount>2?"TaskLineGroupCallAssigned":"TaskLineCallAssigned";case"wrapping":return t===r?"TaskWrapup":"TaskLineCallWrapup"}},f=function(e,t){switch(e.status){case"accepted":return e.conference&&e.conference.liveWorkerCount>1?"TaskHeaderLeaveCall":"TaskHeaderEndCall";case"wrapping":return"TaskHeaderComplete"}},d=function(e,t){switch(e.status){case"accepted":return e.conference&&e.conference.liveParticipantCount>2?"SupervisorTaskGroupCall":"SupervisorTaskLive";case"pending":return"SupervisorTaskLive";case"wrapping":return"SupervisorTaskWrapUp";default:return"SupervisorTaskCompleted"}},h=function(e,t){if(e.transferObject&&"pending"===e.status)return"TaskLineCallTransferTitle";switch(e.status){case"pending":return"TaskLineCallIncomingTitle";case"wrapping":return"TaskLineCallEndedTitle"}};function m(e,t){return a.Utils.merge(s.Default,{name:e,isApplicable:t,capabilities:new Set([l.TaskChannelCapability.Call,l.TaskChannelCapability.Info,l.TaskChannelCapability.Wrapup]),colors:{main:y},icons:{list:g,active:v,main:"Call"},templates:{CallCanvas:{secondLine:p,titleLine:h,footerLine:"TaskLineCallDuration"},IncomingTaskCanvas:{secondLine:p,titleLine:h},TaskListItem:{secondLine:p},TaskCanvasHeader:{endButton:f},TaskCard:{secondLine:d}},componentProps:{}})}function g(e,t,n){void 0===n&&(n=!1);var o="Call";return i.has(t)&&(o="IncomingCall",e.transferObject&&"pending"===e.status?o="IncomingTransfer":t===r&&c.TaskHelper.isCallOnHold(e)?o="Hold":c.TaskHelper.isLiveCall(e)?o="Call":(c.TaskHelper.isInWrapupMode(e)||c.TaskHelper.isCompleted(e))&&(o="Hangup")),n&&(o+="Bold"),o}function v(e,t,n){return g(e,t,!0)}function y(e,t){return c.TaskHelper.isCallOnHold(e)?u.commonColors.holdColor:c.TaskHelper.isLiveCall(e)||c.TaskHelper.isIncomingCall(e)?u.defaultChannelColors.call:u.defaultChannelColors.inactive}t.createCallTaskChannel=m,t.Call=m("call",function(e){return"voice"===e.taskChannelUniqueName}),t.init=function(e){i||(i=new Set([e.CallCanvas,e.IncomingTaskCanvas,e.TaskCard,e.TaskOverviewCanvas,e.TaskListBaseItem]),r=e.CallCanvas,o=e.IncomingTaskCanvas)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(7),l=n(45),c=n(8),u=n(2),p=n(18),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onAcceptClick=function(){a.Actions.invokeAction("AcceptTask",{task:t.props.task})},t.onDeclineClick=function(){a.Actions.invokeAction("RejectTask",{task:t.props.task})},t}return r(t,e),t.prototype.render=function(){return i.createElement(i.Fragment,null,i.createElement(a.IconButton,{className:"Twilio-IncomingTask-Accept",icon:"AcceptLarge",themeOverride:this.props.theme.IncomingTaskCanvas.AcceptTaskButton,onClick:this.onAcceptClick,key:"Accept"}),i.createElement(a.IconButton,{className:"Twilio-IncomingTask-Reject",icon:"CloseLarge",themeOverride:this.props.theme.IncomingTaskCanvas.RejectTaskButton,onClick:this.onDeclineClick,key:"Reject"}))},t=o([u.withTheme],t)}(i.Component);t.IncomingTaskCanvasActions=f;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props.task;return i.createElement(c.TaskContext.Consumer,null,function(t){return i.createElement(p.IconContainerWithStyle,{background:s.TaskChannelHelper.getColor(e,t.channelDefinition.colors.main,l.IncomingTaskCanvas)},i.createElement(a.Icon,{icon:s.TaskChannelHelper.getIcon(e,t.channelDefinition.icons.active,l.IncomingTaskCanvas),sizeMultiplier:2}))})},t=o([u.withTheme],t)}(i.Component);t.IncomingTaskIcon=d},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,l,c,u,p,f,d,h=n(0),m=n(2);t.IconContainer=m.default("div")(o||(o=r(["\n    margin-bottom: 15px;\n"],["\n    margin-bottom: 15px;\n"]))),t.IconContainerWithStyle=m.default("div")(i||(i=r(["\n    border-radius: 50%;\n    width: 72px;\n    height: 72px;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    ",";\n    background: ",";\n"],["\n    border-radius: 50%;\n    width: 72px;\n    height: 72px;\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    ",";\n    background: ",";\n"])),function(e){return e.theme.TaskDetailsPanel.IconContainer},function(e){return e.background}),t.FooterContainer=m.default("div")(a||(a=r(["\n    text-align: center;\n    margin: 12px 0;\n"],["\n    text-align: center;\n    margin: 12px 0;\n"]))),t.SecondLineContainer=m.default("div")(s||(s=r(["\n    font-size: 12px;\n    margin-bottom: 0px;\n    margin-top: 0px;\n    ","\n"],["\n    font-size: 12px;\n    margin-bottom: 0px;\n    margin-top: 0px;\n    ","\n"])),function(e){return e.theme.TaskDetailsPanel.SecondLine}),t.FirstLineContainer=m.default("div")(l||(l=r(["\n    font-size: 16px;\n    font-weight: bold;\n    margin-bottom: 2px;\n    margin-left: 4px;\n    margin-right: 4px;\n"],["\n    font-size: 16px;\n    font-weight: bold;\n    margin-bottom: 2px;\n    margin-left: 4px;\n    margin-right: 4px;\n"]))),t.TitleLineContainer=m.default("div")(c||(c=r(["\n    font-size: 12px;\n    margin-bottom: 15px;\n    letter-spacing: 2px;\n    text-transform: uppercase;\n"],["\n    font-size: 12px;\n    margin-bottom: 15px;\n    letter-spacing: 2px;\n    text-transform: uppercase;\n"]))),t.InfoContainer=m.default("div")(u||(u=r(["\n    margin: auto;\n    text-align: center;\n"],["\n    margin: auto;\n    text-align: center;\n"]))),t.ContentContainer=m.default(h.FlexBoxColumn)(p||(p=r(["\n    flex-grow: 1;\n"],["\n    flex-grow: 1;\n"]))),t.ButtonContainer=m.default("div")(f||(f=r(["\n    width: 100%;\n    display: flex;\n    margin-bottom: 32px;\n    justify-content: center;\n\n    button {\n        width: 44px;\n        height: 44px;\n        margin-left: 6px;\n        margin-right: 6px;\n    }\n"],["\n    width: 100%;\n    display: flex;\n    margin-bottom: 32px;\n    justify-content: center;\n\n    button {\n        width: 44px;\n        height: 44px;\n        margin-left: 6px;\n        margin-right: 6px;\n    }\n"]))),t.Container=m.default(h.FlexBoxColumn)(d||(d=r(["\n    ","\n"],["\n    ","\n"])),function(e){return e.theme.TaskDetailsPanel.Container})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),c=n(0),u=n(11),p=n(5),f=n(47),d=n(10),h=n(7),m=n(46),g=n(2),v=n(18),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.isOnHold,r=e.onClick,o=s(e,["className","isOnHold","onClick"]),a=n?"HoldLargeBold":"HoldLarge";return l.createElement(c.IconButton,i({className:u.cx("Twilio-HoldButton",t),icon:a,onClick:r},o))},t}(l.PureComponent),k=g.default(c.Icon)(C||(C=o(["\n    color: ",";\n"],["\n    color: ",";\n"])),function(e){return e.color});t.CallCanvasIcon=g.withTheme(function(e){var t=e.task,n=d.TaskChannels.getForTask(t),r=h.TaskChannelHelper.getIcon(t,n.icons.active,m.CallCanvas),o=h.TaskChannelHelper.getColor(t,n.colors.main,m.CallCanvas);return l.createElement(v.IconContainerWithStyle,{background:o},l.createElement(k,{icon:r,sizeMultiplier:2}))});var C,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onHoldClick=function(){var e=p.TaskHelper.isCallOnHold(t.props.task);c.Actions.invokeAction(e?"UnholdCall":"HoldCall",{task:t.props.task})},t.onHangupClick=function(){c.Actions.invokeAction("HangupCall",{task:t.props.task})},t.onDirectoryClick=function(){c.Actions.invokeAction("ShowDirectory",{task:t.props.task})},t}return r(t,e),t.prototype.render=function(){var e=this.props.task,t=!p.TaskHelper.isLiveCall(e),n=p.TaskHelper.isCallOnHold(e),r=e.conference&&e.conference.liveWorkerCount>1?"LeaveCallLarge":"HangupLarge";return l.createElement(l.Fragment,null,l.createElement(y,{className:"Twilio-CallCanvas-HoldButton",disabled:t||!p.TaskHelper.canHold(e),onClick:this.onHoldClick,isOnHold:n,themeOverride:this.props.theme.CallCanvas.Button}),l.createElement(f.MuteButton,{className:"Twilio-CallCanvas-MuteButton",disabled:t,large:!0,themeOverride:this.props.theme.CallCanvas.Button}),l.createElement(c.IconButton,{className:"Twilio-CallCanvas-Directory",icon:"Directory",disabled:t||!p.TaskHelper.canTransfer(e),onClick:this.onDirectoryClick,themeOverride:this.props.theme.CallCanvas.Button}),l.createElement(c.IconButton,{className:"Twilio-CallCanvas-HangupButton",icon:r,disabled:t,onClick:this.onHangupClick,themeOverride:this.props.theme.CallCanvas.HangUpButton}))},t=a([g.withTheme],t)}(l.Component);t.CallCanvasActions=b},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),l=n(2),c=n(131),u=n(4),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement(f,o({},this.props))},t.displayName="ParticipantCanvas",t.Content=new s.DynamicContentStore(t.displayName),t}(a.PureComponent);t.ParticipantCanvas=p;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.task,n=e.participant,r=e.theme.ParticipantsCanvas.ParticipantCanvas.ConnectingAnimation.color,o="recently_left"===n.status,i="",l="",f=u.templates.CallParticipantStatusLive;if("customer"===this.props.participant.participantType)i=a.createElement(u.Template,{code:"CallParticipantCustomerName",task:t});else if("worker"===n.participantType||"transfer"===n.participantType){var d=n.worker;d?(i=d.fullName,l=d.attributes.image_url):n.queue&&(i=n.queue.name)}return n.onHold&&(f=u.templates.CallParticipantStatusOnHold),"recently_left"===n.status&&(f="transfer"===n.participantType?u.templates.CallParticipantStatusTransferFailed:u.templates.CallParticipantStatusLeft),n.connecting&&(f=u.templates.CallParticipantStatusConnecting),a.createElement(s.DynamicComponent,{contentStore:p.Content,childProps:this.props,name:p.displayName,customChildren:this.props.children,vertical:!0},a.createElement(c.Container,{participantWidth:this.props.participantWidth,isDisabled:o},a.createElement(c.StyledAvatar,{key:"avatar",className:"ParticipantCanvas-Avatar",imageUrl:l,large:!0,showAvailabilityIcon:!1,noStyling:!0,hold:n.onHold}),(n.onHold||n.connecting)&&a.createElement(c.AvatarHover,{key:"avatar-hover",className:"ParticipantCanvas-Hover"},n.connecting&&a.createElement(s.ConnectingAnimation,{color:r}),n.onHold&&a.createElement(s.Icon,{icon:"HoldBold",sizeMultiplier:2})),a.createElement(c.Name,{key:"name",className:"ParticipantCanvas-Name"},i," "),a.createElement(c.Status,{key:"status",className:"ParticipantCanvas-Status"},a.createElement(u.Template,{source:f}))))},t=i([l.withTheme],t)}(a.PureComponent)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(5),l=n(4),c=n(0),u=n(49),p=n(30),f=n(7),d=n(10),h=n(17),m=n(8),g=n(2),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onCompleteTaskButtonClick=function(){if(t.props.task){var e=t.props.task,n={task:e,reason:"Completed manually from button"},r=p.StateHelper.getCurrentPhoneCallState();s.TaskHelper.isLiveCall(e)&&r?c.Actions.invokeAction("HangupCall",{task:e}):s.TaskHelper.isInWrapupMode(e)?c.Actions.invokeAction("CompleteTask",n).then(function(){return c.Actions.invokeAction("SelectTask",{task:null})}).then(function(){return c.Actions.invokeAction("HistoryReplace","/agent-desktop")}):d.TaskChannels.getForTask(e).capabilities.has(h.TaskChannelCapability.Wrapup)?c.Actions.invokeAction("WrapupTask",n):c.Actions.invokeAction("CompleteTask",n)}},t}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.task,n=e.templateCode;return s.TaskHelper.isPending(t)||s.TaskHelper.isCompleted(t)?null:a.createElement(w,{className:"Twilio-TaskCanvasHeader-EndButton",themeOverride:this.getEndTaskButtonStyle(),onClick:this.onCompleteTaskButtonClick},a.createElement(m.TaskContext.Consumer,null,function(e){return a.createElement(l.Template,{task:t,code:n||f.TaskChannelHelper.getTemplateForStatus(t,e.channelDefinition.templates.TaskCanvasHeader.endButton,u.TaskCanvasHeader)})}))},t.prototype.getEndTaskButtonStyle=function(){var e=this.props.task;return s.TaskHelper.isInWrapupMode(e)?this.props.theme.TaskCanvasHeader.EndTaskButton:d.TaskChannels.getForTask(e).capabilities.has(h.TaskChannelCapability.Wrapup)?this.props.theme.TaskCanvasHeader.WrapupTaskButton:this.props.theme.TaskCanvasHeader.EndTaskButton},t=i([g.withTheme],t)}(a.Component);t.EndTaskButton=v;var y,k,C,b,w=g.default(c.Button)(y||(y=o(["\n"],["\n"])));t.TitleContainer=g.default("div")(k||(k=o(["\n    flex: 1 1 auto;\n    overflow: hidden;\n    margin-top: auto;\n    margin-bottom: auto;\n\n    margin-left: 0px;\n    margin-right: 12px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-size: 12px;\n    font-weight: bold;\n"],["\n    flex: 1 1 auto;\n    overflow: hidden;\n    margin-top: auto;\n    margin-bottom: auto;\n\n    margin-left: 0px;\n    margin-right: 12px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-size: 12px;\n    font-weight: bold;\n"]))),t.IconContainer=g.default("div")(C||(C=o(["\n    display: flex;\n    flex: 0 0 auto;\n    width: 36px;\n\n    .Twilio-Icon {\n        margin: auto;\n    }\n"],["\n    display: flex;\n    flex: 0 0 auto;\n    width: 36px;\n\n    .Twilio-Icon {\n        margin: auto;\n    }\n"]))),t.Container=g.default("div")(b||(b=o(["\n    display: flex;\n    flex: 0 0 auto;\n    padding-top: 2px;\n    padding-bottom: 2px;\n    padding-left: ",";\n    padding-right: 12px;\n\n    height: 40px;\n    ","\n"],["\n    display: flex;\n    flex: 0 0 auto;\n    padding-top: 2px;\n    padding-bottom: 2px;\n    padding-left: ",";\n    padding-right: 12px;\n\n    height: 40px;\n    ","\n"])),function(e){return e.icon?"2px":"12px"},function(e){return e.theme.TaskCanvasHeader.Container})},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(2);t.Container=i.default("div")(o||(o=r(["\n    display: flex;\n    flex: 1 1 auto;\n    overflow: auto;\n    padding-left: 12px;\n    padding-right: 12px;\n    padding-top: 6px;\n    padding-bottom: 6px;\n    ","\n\n    hr {\n        border-color: ",";\n    }\n"],["\n    display: flex;\n    flex: 1 1 auto;\n    overflow: auto;\n    padding-left: 12px;\n    padding-right: 12px;\n    padding-top: 6px;\n    padding-bottom: 6px;\n    ","\n\n    hr {\n        border-color: ",";\n    }\n"])),function(e){return e.theme.TaskInfoPanel.Container},function(e){return e.theme.Tabs.LabelsContainer.borderColor})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(0),s=n(3),l=n(2),c=n(6),u=n(4),p=n(78);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(78));var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleWindowResize=function(){t.forceUpdate()},t.onLogoutClick=function(){a.Actions.invokeAction("Logout",{forceLogout:!1,activityName:"Offline"}),t.modalPopup.hide()},t.setModalPopupRef=function(e){t.modalPopup=e},t}return r(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.handleWindowResize)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize)},t.prototype.render=function(){var e=this;return i.createElement(a.ModalPopupWithEntryControl,{className:"Twilio-UserControls",alignRight:!0,autoClose:!0,entryControl:i.createElement(p.UserControlsUserCard,{className:"Twilio-UserControlsUserCard-AccountButton",large:window.innerWidth>552,worker:this.props.worker}),ref:this.setModalPopupRef},i.createElement(p.UserActivityControls,{className:"Twilio-UserControls-AccountMenu",styleOverride:this.props.theme.UserActivityControls},i.createElement(p.AccountMenuTitle,{className:"Twilio-AccountMenu-Title"},i.createElement(u.Template,{source:u.templates.SetYourStatus})),Array.from(this.props.worker.activities.values()).filter(function(e){return"Reserved"!==e.name}).map(function(t){return i.createElement(p.AccountMenuItem,{className:"Twilio-AccountMenu-Item",key:t.sid,selected:e.props.worker.activity&&t.sid===e.props.worker.activity.sid,onClick:e.onActivityClick.bind(e,t.sid),styleOverride:e.props.theme.UserActivityControls},t.name)}),i.createElement(p.AccountMenuDivider,null),i.createElement(p.AccountMenuItemLogout,{onClick:this.onLogoutClick,styleOverride:this.props.theme.UserActivityControls},i.createElement(u.Template,{source:u.templates.LogOut}),i.createElement(a.Icon,{icon:"Logout"}))))},t.prototype.onActivityClick=function(e){this.modalPopup.hide(),a.Actions.invokeAction("SetActivity",{activitySid:e}).then(function(){c.default.debug("activity updated")}).catch(function(e){c.default.error("failed to update activity:",e)})},t.displayName="UserControls",t=o([l.withTheme,s.connect(function(e){return{worker:e.worker}})],t)}(i.PureComponent);t.UserControls=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s,l,c,u,p,f,d=n(1),h=n(2),m=n(0),g=n(4),v=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.componentDidMount=function(){var e=this;this.interval=window.setInterval(function(){return e.forceUpdate()},1e3)},n.prototype.componentWillUnmount=function(){clearInterval(this.interval)},n.prototype.render=function(){var e=this.props,n=(e.className,e.innerRef,e.worker),r=e.large,o=e.onClick,s=a(e,["className","innerRef","worker","large","onClick"]),l=n.worker;return d.createElement(t.Container,{large:r},d.createElement(m.UserCard,i({className:"Twilio-UserControls-UserCard",large:r,firstLine:l.fullName,secondLine:d.createElement(g.Template,{source:g.templates.UserControlWorkerSecondLine,workerActivityName:l.activityName,worker:l}),imageUrl:l.attributes.image_url,isAvailable:l.isAvailable,onClick:o,lightHover:!0},s)))},n}(d.PureComponent);t.UserControlsUserCard=v,t.Container=h.default("div")(s||(s=o(["\n    max-width: 200px;\n    ","\n\n"],["\n    max-width: 200px;\n    ","\n\n"])),function(e){return e.large&&{minWidth:"120px;",maxWidth:"180px;"}}),t.UserActivityControls=h.default(m.Menu)(l||(l=o(["\n    white-space: nowrap;\n    min-width: 200px;\n    box-shadow: -1px 1px 3px 0 rgba(0, 0, 0, 0.4);\n"],["\n    white-space: nowrap;\n    min-width: 200px;\n    box-shadow: -1px 1px 3px 0 rgba(0, 0, 0, 0.4);\n"]))),t.AccountMenuItem=h.default(m.MenuItem)(c||(c=o(["\n    font-weight: normal;\n    letter-spacing: initial;\n    font-weight: ",";\n\n"],["\n    font-weight: normal;\n    letter-spacing: initial;\n    font-weight: ",";\n\n"])),function(e){return e.selected&&"bold"}),t.AccountMenuItemLogout=h.default(m.MenuItem)(u||(u=o(["\n    display: flex;\n    justify-content: space-between;\n    padding: 10px 12px;\n    font-size: 12px;\n    letter-spacing: initial;\n\n    & > span {\n        margin-top: auto;\n        margin-bottom: auto;\n    }\n"],["\n    display: flex;\n    justify-content: space-between;\n    padding: 10px 12px;\n    font-size: 12px;\n    letter-spacing: initial;\n\n    & > span {\n        margin-top: auto;\n        margin-bottom: auto;\n    }\n"]))),t.AccountMenuDivider=h.default("li")(p||(p=o(["\n    height: 1px;\n    ","\n"],["\n    height: 1px;\n    ","\n"])),function(e){return e.theme.UserActivityControls.Divider}),t.AccountMenuTitle=h.default("li")(f||(f=o(["\n    font-size: 12px;\n    font-weight: bold;\n    padding-top: 4px;\n    padding-bottom: 3px;\n    padding-left: 12px;\n    padding-right: 12px;\n    ","\n"],["\n    font-size: 12px;\n    font-weight: bold;\n    padding-top: 4px;\n    padding-bottom: 3px;\n    padding-left: 12px;\n    padding-right: 12px;\n    ","\n"])),function(e){return e.theme.UserActivityControls.Item})},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s=n(0),l=n(2);t.Container=l.default("div")(o||(o=r(["\n    padding-left: 8px;\n    height: 44px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    flex: 0 0 auto;\n    border-style: solid;\n    border-width: 0 0 1px 0;\n    overflow: hidden;\n    ","\n"],["\n    padding-left: 8px;\n    height: 44px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    flex: 0 0 auto;\n    border-style: solid;\n    border-width: 0 0 1px 0;\n    overflow: hidden;\n    ","\n"])),function(e){return e.theme.MainHeader.Container}),t.HeaderLogoImage=l.default("img")(i||(i=r(["\n    margin-left: 12px;\n    margin-top: auto;\n    margin-bottom: auto;\n    display: block;\n    max-width: 240px;\n    max-height: 36px;\n    width: auto;\n    height: auto;\n"],["\n    margin-left: 12px;\n    margin-top: auto;\n    margin-bottom: auto;\n    display: block;\n    max-width: 240px;\n    max-height: 36px;\n    width: auto;\n    height: auto;\n"]))),t.StyledIconButton=l.default(s.IconButton)(a||(a=r(["\n    margin-right: 8px\n"],["\n    margin-right: 8px\n"])))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(81);t.TaskList=r.TaskList,t.TaskListProps=r.TaskListProps;var o=n(84);t.TaskListBaseItem=o.TaskListBaseItem;var i=n(82);t.TaskListFilter=i.default,t.TaskListFilterProps=i.TaskListFilterProps;var a=n(83);t.TaskListItem=a.TaskListItem,t.TaskListItemProps=a.TaskListItemProps},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(136),c=n(0),u=n(82),p=n(83),f=n(5),d=n(8),h=n(2),m=function(e,t){var n=f.TaskHelper.isPending(e),r=f.TaskHelper.isPending(t);return n!==r?r?1:-1:n&&r?t.dateUpdated.getTime()-e.dateUpdated.getTime():t.dateCreated.getTime()-e.dateCreated.getTime()};t.TaskListContext=s.createContext(void 0);var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.updateAll=function(){},t.prototype.render=function(){return s.createElement(y,o({},this.props))},t.displayName="TaskList",t.Content=new c.DynamicContentStore(n.displayName),t.IncludeAllFilter={callback:function(){return!0}},t.defaultProps={compareFunction:m},t=n=i([c.withDefaultPropsUpdate],t)}(s.PureComponent);t.TaskList=g;var v={from:{transform:"translateY(-45px)"},to:{transform:""}},y=function(e){function n(t){var n=e.call(this,t)||this;return n._isFilterChanging=!1,n.handleFilterChange=function(e){n._isFilterChanging=!0,n.setState(o({},n.state,{selectedFilter:e}),function(){n._isFilterChanging=!1}),n.props.onFilterChange&&n.props.onFilterChange(e)},n.state=o({},t,{onFilterChange:n.handleFilterChange,selectedFilter:t.filters&&t.filters.length>0&&t.filters[0]||null}),n}return r(n,e),n.getDerivedStateFromProps=function(e,t){return o({},t,e)},n.prototype.render=function(){var e=this,n=this.props,r=n.tasks,o=n.staticFilter,i=this.state,a=i.compareFunction,p=i.selectedFilter,f=Array.from(r.values()),d=o?f.filter(function(e){return o(e)}).sort(function(e,t){return a(e,t)}).map(function(t){return e.createTaskListItem(t)}):[],h=f.filter(function(e){return p.callback(e)&&!o(e)}).sort(function(e,t){return a(e,t)}).map(function(t){return e.createTaskListItem(t)}),m=d.concat(s.createElement(u.default,{key:"TaskListFilter",filters:this.state.filters,value:this.state.selectedFilter})).concat(h);return s.createElement(t.TaskListContext.Provider,{value:this.state},s.createElement(c.DynamicComponent,{contentStore:g.Content,childProps:this.state,name:g.displayName,customChildren:this.props.children,vertical:!0},s.createElement(c.FlexBox,{vertical:!0,noShrink:!0},s.createElement(l.default,{key:"contents",easing:"ease-in",disableAllAnimations:this._isFilterChanging,duration:300,appearAnimation:"fade",enterAnimation:v,leaveAnimation:"none"},m))))},n.prototype.createTaskListItem=function(e){return s.createElement(d.TaskContextSource,{key:e.sid,taskSid:e.sid},s.createElement(p.TaskListItem,{selectedTaskSid:this.state.selectedTaskSid,onSelected:this.props.onTaskSelected}))},n=i([h.withTheme,a("design:paramtypes",[Object])],n)}(s.PureComponent)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(23),a=n(4),s=n(0),l=n(137),c=n(81),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleModalChange=function(){t.forceUpdate()},t.setModalPopupRef=function(e){t.modalPopup=e},t}return r(t,e),t.prototype.render=function(){var e=this,t=this.props.filters||[];return 0===t.length?null:o.createElement(c.TaskListContext.Consumer,null,function(n){return o.createElement(l.StyledModalPopupWithEntryControl,{autoClose:!0,entryControl:o.createElement(l.TaskFilterButton,{className:"Twilio-TaskListFilter-TaskFilterButton",isOpen:e.isModalOpen(),content:e.getFilterText()}),innerRef:e.setModalPopupRef,onChange:e.handleModalChange},o.createElement(l.StyledMenu,{className:"Twilio-TaskListFilter-Items",styleOverride:e.props.theme.TaskList.Filter.Menu},t.map(function(t,r){return o.createElement(s.MenuItem,{key:r,className:"Twilio-TaskListFilter-Item",onClick:e.onFilterClick.bind(e,t,n.onFilterChange),selected:t===e.props.value,styleOverride:e.props.theme.TaskList.Filter.Menu},e.getFilterText(t))})))})},t.prototype.isModalOpen=function(){return!!this.modalPopup&&this.modalPopup.isOpen},t.prototype.getFilterText=function(e){return void 0===e&&(e=this.props.value),e.text in a.templates?o.createElement(a.Template,{source:a.templates[e.text]}):e.text},t.prototype.onFilterClick=function(e,t){t(e),this.modalPopup.hide()},t.displayName="TaskListFilter",t}(o.PureComponent);t.default=i.withTheme(u)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),l=n(9),c=n(84),u=n(2),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.updateAll=function(){},t.prototype.render=function(){return a.createElement(f,o({},this.props))},t.displayName="TaskListItem",t.Content=new s.DynamicContentStore(n.displayName),t.defaultProps={itemSize:"Small"},t=n=i([s.withDefaultPropsUpdate],t)}(a.PureComponent);t.TaskListItem=p;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=void 0!==this.props.selected?this.props.selected:this.props.selectedTaskSid===(this.props.task&&this.props.task.sid),t="Large"===(e&&"LargeSelected"===this.props.itemSize?"Large":this.props.itemSize),n=o({},this.props,{selected:e,large:t});return a.createElement(s.DynamicComponent,{contentStore:p.Content,childProps:n,name:p.displayName,customChildren:this.props.children,noContainers:!0,vertical:!0},a.createElement(a.Fragment,null,a.createElement(s.DefaultContentFragment,null,a.createElement(c.TaskListBaseItem,o({},n)))))},t=i([u.withTheme,l.withTaskContext],t)}(a.PureComponent)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(4),s=n(5),l=n(85),c=n(86),u=n(7),p=n(8);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(86));var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.refreshTimer=void 0,t.handleContainerClick=function(e){t.props.onSelected&&t.props.onSelected(t.props.task.sid)},t}var n;return r(t,e),n=t,t.prototype.render=function(){if(!this.props.visible)return null;var e=this.props,t=e.actions,r=e.firstLine,o=e.secondLine,p=e.extraInfo,f=e.selected,d=e.large,h=e.icon,m=e.iconColor,g=e.task,v=e.channelDefinition,y=new s.TaskHelper(g),k=f?v.icons.active:v.icons.list;return i.createElement(c.Container,{className:"Twilio-TaskListBaseItem",iconColor:m||u.TaskChannelHelper.getColor(g,v.colors.main,n),onClick:this.handleContainerClick,selected:f,large:d,vertical:!0},i.createElement(c.UpperArea,{className:"Twilio-TaskListBaseItem-UpperArea"},i.createElement(c.TaskListIcon,{className:"Twilio-TaskListBaseItem-IconArea",icon:h||u.TaskChannelHelper.getIcon(g,k,n),selected:f}),i.createElement(c.Content,{className:"Twilio-TaskListBaseItem-Content"},i.createElement(c.FirstLineContainer,{className:"Twilio-TaskListBaseItem-FirstLine"},r||i.createElement(a.Template,{code:u.TaskChannelHelper.getTemplateForStatus(g,v.templates.TaskListItem.firstLine,n),task:g,helper:y})),i.createElement(c.SecondLineContainer,{className:"Twilio-TaskListBaseItem-SecondLine"},o||i.createElement(a.Template,{code:u.TaskChannelHelper.getTemplateForStatus(g,v.templates.TaskListItem.secondLine,n),task:g,helper:y}))),i.createElement(c.ActionsContainer,{className:"Twilio-TaskListBaseItem-Actions"},t||i.createElement(l.TaskButtons,{task:this.props.task}))),d&&i.createElement(c.LowerArea,{className:"Twilio-TaskListBaseItem-LowerArea"},p||i.createElement(a.Template,{code:u.TaskChannelHelper.getTemplateForStatus(g,v.templates.TaskListItem.extraInfo,n),task:g,helper:y})))},t.prototype.componentWillMount=function(){var e=this;this.refreshTimer=window.setInterval(function(){return e.forceUpdate()},1e3)},t.prototype.componentWillUnmount=function(){void 0!==this.refreshTimer&&window.clearInterval(this.refreshTimer)},t.defaultProps={visible:!0},t.displayName="TaskListBaseItem",t=n=o([p.withTaskContext],t)}(i.PureComponent);t.TaskListBaseItem=f},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(23),l=n(0),c=n(9),u=n(5),p=s.withTheme(function(e){return a.createElement(l.IconButton,{className:"Twilio-TaskButton-Accept",themeOverride:e.theme.TaskList.Item.Buttons.AcceptButton,onClick:function(t){l.Actions.invokeAction("AcceptTask",{task:e.task}),e.onClick&&e.onClick(t),t.preventDefault()},icon:"Accept"})}),f=s.withTheme(function(e){return a.createElement(l.IconButton,{className:"Twilio-TaskButton-Reject",onClick:function(t){l.Actions.invokeAction("RejectTask",{task:e.task}),e.onClick&&e.onClick(t),t.preventDefault()},themeOverride:e.theme.TaskList.Item.Buttons.RejectButton,icon:"Close"})}),d=s.withTheme(function(e){var t=e.task,n=t.conference&&t.conference.liveWorkerCount>1?"LeaveCall":"Hangup";return a.createElement(l.IconButton,{className:"Twilio-TaskButton-Hangup",onClick:function(t){l.Actions.invokeAction("HangupCall",{task:e.task}),e.onClick&&e.onClick(t),t.preventDefault()},icon:n,themeOverride:e.theme.TaskList.Item.Buttons.RejectButton})}),h=s.withTheme(function(e){return a.createElement(l.IconButton,{disabled:!u.TaskHelper.canHold(e.task),className:"Twilio-TaskButton-Hold",onClick:function(t){var n=u.TaskHelper.isCallOnHold(e.task);l.Actions.invokeAction(n?"UnholdCall":"HoldCall",{task:e.task}),e.onClick&&e.onClick(t),t.preventDefault()},themeOverride:e.theme.TaskList.Item.Buttons.DefaultButton,icon:u.TaskHelper.isCallOnHold(e.task)?"HoldBold":"Hold"})}),m=function(e){return a.createElement(a.Fragment,null,a.createElement(p,{task:e.task,key:1,onClick:e.onClick}),a.createElement(f,{task:e.task,key:2,onClick:e.onClick}))},g=function(e){return a.createElement(a.Fragment,null,a.createElement(h,{task:e.task,key:1,onClick:e.onClick,call:e.call}),a.createElement(d,{task:e.task,key:2,onClick:e.onClick,call:e.call}))},v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props.task;return u.TaskHelper.isPending(e)?a.createElement(m,o({},this.props)):this.props.call?a.createElement(g,o({},this.props)):null},t.displayName="TaskButtons",t=i([c.withTaskContext],t)}(a.PureComponent);t.TaskButtons=v},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,l,c,u,p,f=n(0),d=n(2);t.TaskListIcon=d.default(f.Icon)(o||(o=r(["\n    flex: 0 0 44px;\n    ","\n"],["\n    flex: 0 0 44px;\n    ","\n"])),function(e){return e.theme.TaskList.Item.Icon}),t.Container=d.default("div")(i||(i=r(["\n    display: flex;\n    flex: 1 1 auto;\n    flex-direction: ",";\n    user-select: none;\n    height: 44px;\n    border-style: solid;\n    border-width: 0 0 1px 0;\n    overflow-y: hidden;\n    cursor: pointer;\n    height: ",";\n\n    ","\n    ","\n    ","\n    ","\n    & .Twilio-TaskListBaseItem-IconArea {\n        background: ",";\n    };\n    &:hover {\n        & .Twilio-TaskListBaseItem-IconArea {\n            ",";\n            }\n        }"],["\n    display: flex;\n    flex: 1 1 auto;\n    flex-direction: ",";\n    user-select: none;\n    height: 44px;\n    border-style: solid;\n    border-width: 0 0 1px 0;\n    overflow-y: hidden;\n    cursor: pointer;\n    height: ",";\n\n    ","\n    ","\n    ","\n    ","\n    & .Twilio-TaskListBaseItem-IconArea {\n        background: ",";\n    };\n    &:hover {\n        & .Twilio-TaskListBaseItem-IconArea {\n            ",";\n            }\n        }"])),function(e){return e.vertical?"column":"row"},function(e){return e.large?"200px":"44px"},function(e){return e.theme.TaskList.Item.Container},function(e){return e.selected?e.theme.TaskList.Item.SelectedContainer:{}},function(e){return f.getBackgroundWithHoverCSS(e.theme.TaskList.Item.Container.background,e.theme.TaskList.Item.Container.lightHover)},function(e){return e.selected?f.getBackgroundWithHoverCSS(e.theme.TaskList.Item.SelectedContainer.background,e.theme.TaskList.Item.SelectedContainer.lightHover):{}},function(e){return e.iconColor},function(e){return e.iconColor&&f.getBackgroundWithHoverCSS(e.iconColor,!1,!0)}),t.UpperArea=d.default("div")(a||(a=r(["\n    height: 44px;\n    display: flex;\n    flex: auto 0 0;\n"],["\n    height: 44px;\n    display: flex;\n    flex: auto 0 0;\n"]))),t.Content=d.default("div")(s||(s=r(["\n    flex: 1 1 auto;\n    overflow: hidden;\n"],["\n    flex: 1 1 auto;\n    overflow: hidden;\n"]))),t.LowerArea=d.default("div")(l||(l=r(["\n    display: flex;\n    height: 156px;\n\n    p {\n        overflow-y: hidden;\n        text-overflow: ellipsis;\n    }\n\n    div {\n        width: 100%;\n        height: 100%;\n    }\n\n    iframe {\n        width: 100%;\n        height: 100%;\n    }\n"],["\n    display: flex;\n    height: 156px;\n\n    p {\n        overflow-y: hidden;\n        text-overflow: ellipsis;\n    }\n\n    div {\n        width: 100%;\n        height: 100%;\n    }\n\n    iframe {\n        width: 100%;\n        height: 100%;\n    }\n"]))),t.ActionsContainer=d.default("div")(c||(c=r(["\n    height: 44px;\n    flex: 0 0 auto;\n    display: flex;\n    margin-right: 8px;\n\n    button {\n        margin-left: 4px;\n        margin-right: 4px;\n    }\n"],["\n    height: 44px;\n    flex: 0 0 auto;\n    display: flex;\n    margin-right: 8px;\n\n    button {\n        margin-left: 4px;\n        margin-right: 4px;\n    }\n"]))),t.SecondLineContainer=d.default("div")(u||(u=r(["\n    font-size: 10px;\n    margin: 1px 4px 4px 12px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n"],["\n    font-size: 10px;\n    margin: 1px 4px 4px 12px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n"]))),t.FirstLineContainer=d.default("div")(p||(p=r(["\n    font-size: 12px;\n    font-weight: bold;\n    margin: 4px 4px 0px 12px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n"],["\n    font-size: 12px;\n    font-weight: bold;\n    margin: 4px 4px 0px 12px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n"])))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(138);t.AgentDesktopView=r.AgentDesktopView,t.AgentDesktopViewProps=r.AgentDesktopViewProps;var o=n(140);t.LoginView=o.LoginView,t.LoginViewProps=o.LoginViewProps;var i=n(62);t.LoginFormView=i.LoginFormView;var a=n(163);t.TeamsView=a.TeamsView;var s=n(171);t.QueueStatsView=s.QueueStatsView;var l=n(195);t.RuntimeLoginView=l.RuntimeLoginView,t.RuntimeLookupResponse=l.RuntimeLookupResponse},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(3),a=n(6),s="LOAD_CC_CONFIG";t.reduce=function(e,t){switch(void 0===e&&(e={}),t.type){case s:return r({sso:{}},t.payload);default:return e}};var l=function(){function e(){}return e.initConfig=function(e){i.FlexModule.dispatch({type:s,payload:e}),e.logLevel&&a.default.setLevel(e.logLevel),o.ChatConfig.setConfig({language:e.language,logLevel:e.logLevel})},e}();t.Actions=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(40),o=function(){function e(e){e&&(this.mode=e.mode,this.status=e.status,this.type=e.type,this.workerSid=e.workerSid,this.to=e.to,this.sid=e.sid)}return Object.defineProperty(e.prototype,"worker",{get:function(){return r.InsightsEntityCache.getWorker(this.workerSid)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queue",{get:function(){return r.InsightsEntityCache.getQueue(this.to)},enumerable:!0,configurable:!0}),e}();t.TaskTransfer=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PendingReservationsOnLogout="PendingReservationsOnLogout",t.PendingReservationsOnActivityStateChange="PendingReservationsOnActivityStateChange",t.TransferFailed="TransferFailed",t.BrowserVoiceDisabled="BrowserVoiceDisabled",t.MicTaken="MicTaken",t.MessageSizeExceeded="MessageSizeExceeded",t.CannotChangeOtherWorkerActivity="CannotChangeOtherWorkerActivity",t.MonitoringFailed="MonitoringFailed"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(88),o=n(21),i=n(54),a=n(55),s=n(19),l=n(40),c=n(13),u=n(58),p=n(24),f=n(59),d=n(0);t.FlexReducer=function(e,t){return void 0===e&&(e={}),{config:r.reduce(e.config,t),session:o.reduce(e.session,t),chat:d.chatReducer(e.chat,t),worker:i.reduce(e.worker,t),phone:a.reduce(e.phone,t),view:s.reduce(e.view,t),insights:l.reduce(e.insights,t),supervisor:c.reduce(e.supervisor,t),router:u.createReducer(e.config)(e.router,t),conferences:p.reduce(e.conferences,t),queues:f.reduce(e.queues,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(57),o=n(146),i=n(147),a=n(36),s=n(6),l=n(60);t.applyFlexMiddleware=function(e){var t;l.isHistory(e)?(t=e,l.setHistory(t)):t=l.isHistoryParams(e)?l.default(e):l.isHistoryType(e)?l.default({type:e}):l.default();var n=[a.routerMiddleware(t),i.default()];return s.default.getLevel()<=1&&n.push(o.createLogger()),r.applyMiddleware.apply(void 0,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),o=n(6),i=n(3),a=function(){function e(){}return e.prototype.setup=function(e,t){this._flexComponents=e,this._manager=t},e.prototype.init=function(e){try{o.default.debug("loading plugin",e);var t=new e;t.init(this._flexComponents,this._manager),o.default.debug("successfully loaded plugin",t.name)}catch(t){o.default.error("failed to load plugin",e,t)}},e}();t.Plugins=new a,t.loadPlugins=function(e,n){var a=n.configuration.pluginService;return a&&a.enabled&&a.url?(o.default.debug("loading plugins ..."),t.Plugins.setup(e,n),new Promise(function(e,t){try{r.default.get(a.url,{headers:{"X-Flex-JWE":i.FlexModule.state.session.ssoTokenPayload.token}}).then(function(e){return e.data}).catch(function(e){return o.default.error("failed to reach plugin service at "+a.url+" "+e),[]}).then(function(e){return Array.isArray(e)&&0!==e.length?Promise.all(e.map(function(e){return new Promise(function(t){o.default.debug("downloading plugin: "+e.name+" version: "+e.version);var n=document.createElement("script");n.src=e.src,n.async=!0,n.onload=function(){o.default.debug("plugin "+e.name+" downloaded"),t()},n.onerror=function(n){o.default.warn("failed to download plugin: "+e.name,n),t()},document.body.appendChild(n)})})):(o.default.debug("no plugins loaded"),Promise.resolve())}).then(function(){i.FlexModule.events.emitPluginsLoaded(),e()})}catch(e){o.default.warn("failed to fetch plugin configuration",e),t()}})):(o.default.debug("plugin service not configured"),Promise.resolve())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(155);t.Wfo=r.initWfoIdentity()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(30);t.Flex=r;var o=n(1),i=n(96),a=n(57),s=n(43),l=n(6);window.Twilio=window.Twilio||{Flex:r},window.Twilio.Flex||(window.Twilio.Flex=r);var c={React:o,ReactDOM:i,Redux:a,ReactRedux:s};for(var u in t.isConflictingDependency=function(e,t){var n=window[e],r=t[e],o=r&&r.version,i=n&&n.version;return!!n&&(n!==r&&(!i||i!==o))},c)t.isConflictingDependency(u,c)?l.default.warn("Cannot define global `"+u+"` variable for the module because the variable has been set by some other script. This may cause inconsistency."):window[u]=c[u]},function(e,t){e.exports=require("react-dom")},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(2),s=n(0);t.Container=a.default("div")(l||(l=r(["\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex: 1 0 auto;\n    justify-content: center;\n    ","\n"],["\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex: 1 0 auto;\n    justify-content: center;\n    ","\n"])),function(e){return e.theme.LoginView.Container}),t.LogoContainer=a.default("div")(c||(c=r(["\n    ","\n"],["\n    ","\n"])),function(e){return e.theme.LoginView.Logo}),t.LoginLogoImage=a.default("img")(u||(u=r(["\n    display: block;\n    max-height: 80px;\n"],["\n    display: block;\n    max-height: 80px;\n"]))),t.ControlsContainer=a.default("div")(p||(p=r(["\n    margin-top: 29px;\n    text-align: center;\n"],["\n    margin-top: 29px;\n    text-align: center;\n"]))),t.LoginButton=a.default(s.Button)(f||(f=r(["\n    margin-top: 28px;\n    padding-left: 16px;\n    padding-right: 16px;\n"],["\n    margin-top: 28px;\n    padding-left: 16px;\n    padding-right: 16px;\n"]))),t.LoadingContainer=a.default("div")(d||(d=r(["\n    margin-top: 34px;\n    font-size: 12px;\n    font-weight: 600;\n"],["\n    margin-top: 34px;\n    font-size: 12px;\n    font-weight: 600;\n"]))),t.Separator=a.default("div")(h||(h=r(["\n    height: 12px;\n"],["\n    height: 12px;\n"])));var l,c,u,p,f,d,h,m=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.render=function(){var e=this.props.url;return e?i.createElement(t.LoginLogoImage,{src:e}):i.createElement(s.Icon,{icon:"Twilio",sizeMultiplier:3})},n}(i.PureComponent);t.LoginLogo=m},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(1),s=n(2),l=n(99),c=n(11),u=n(0),p=s.default("div")(o||(o=r(["\n    position: relative;\n    overflow: hidden;\n    margin-bottom: 6px;\n"],["\n    position: relative;\n    overflow: hidden;\n    margin-bottom: 6px;\n"]))),f=s.default("div")(i||(i=r(["\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    left: 0;\n    right: 0;\n    text-align: center;\n"],["\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    left: 0;\n    right: 0;\n    text-align: center;\n"])));t.LogoWithCircle=function(e){return a.createElement(p,{className:c.cx("Twilio-LogoWithCircle",e.className)},a.createElement(f,null,a.createElement(u.CircularProgress,{animating:e.animating,size:124,borderWidth:3})),a.createElement(l.default,null))}},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(1),s=n(2).default("div")(i||(i=r(["\n    position: relative;\n"],["\n    position: relative;\n"])));t.default=function(e){return a.createElement(s,null,a.createElement("svg",o({viewBox:"0 0 173 166",width:"173",height:"166"},e),a.createElement("g",{fill:"#FFF",fillRule:"evenodd"},a.createElement("path",{d:"M69.449 59.978L81.88 72.413c.269.27.42.634.42 1.015v13.134c0 1.279-1.545 1.919-2.449 1.015L67.42 75.14a1.435 1.435 0 0 1-.42-1.014V60.992c0-1.278 1.545-1.918 2.449-1.014zM68.448 42H99.13c.38 0 .745.151 1.014.42l12.432 12.436c.904.904.264 2.45-1.014 2.45H82.3a1.405 1.405 0 0 0 0 2.81h9.503c.38 0 .745.15 1.014.42L105.25 72.97c.903.904.263 2.45-1.015 2.45H89.573c-.38 0-.745-.152-1.014-.421L67.42 53.898a1.435 1.435 0 0 1-.42-1.014v-9.436c0-.8.649-1.448 1.448-1.448zM15.752 146.59h-5.456V161h-1.65v-14.41H3.3v-1.54h12.21l.242 1.54zm27.42-1.54l-5.016 16.016h-1.452l-4.796-13.706-4.774 13.706h-1.408l-4.972-15.796 1.672-.374 4.114 13.53 4.554-13.376h1.694l4.62 13.376 4.048-13.376h1.716zM51.474 161h-1.672v-15.95h1.672V161zm16.046 0h-8.272v-15.95h1.65v14.41h6.38l.242 1.54zm7.928 0h-1.672v-15.95h1.672V161zm22.008-7.986c0 4.884-3.08 8.294-7.524 8.294s-7.48-3.388-7.48-8.25c0-4.906 3.08-8.294 7.524-8.294s7.48 3.366 7.48 8.25zm-1.738.022c0-4.048-2.288-6.776-5.786-6.776-3.476 0-5.764 2.728-5.764 6.754 0 4.07 2.31 6.776 5.786 6.776 3.498 0 5.764-2.706 5.764-6.754zm25.668-6.446h-6.666v5.566h5.324l.242 1.518h-5.566V161h-1.65v-15.95h8.316v1.54zM135.98 161h-8.272v-15.95h1.65v14.41h6.38l.242 1.54zm14.968 0h-8.866v-15.95h8.624v1.54h-6.974v5.302h5.522l.242 1.54h-5.764v6.05h7.216V161zm18.598-.22l-1.672.352-5.06-7.26L157.93 161h-1.826l5.764-8.294-5.192-7.414 1.65-.352 4.51 6.556 4.4-6.446h1.826l-5.28 7.612 5.764 8.118z"}))))}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(101),s=n(165),l=n(102),c=function(e,t){var n=e.dateUpdated.getTime();return t.dateUpdated.getTime()-n},u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.tasks,c=n.filter,u=n.compareFunction,p=Array.from(r).filter(function(e){return!c||c(e)});return 0===p.length?o.createElement(s.TaskCardPlaceholder,null):o.createElement(i.DynamicComponent,{contentStore:t.Content,childProps:this.props,name:t.displayName,customChildren:this.props.children,subContainer:o.createElement(i.FlexBox,{allowWrap:!0})},o.createElement(i.FlexBox,{className:"Twilio-TaskCardList-Container"},p.sort(u).map(function(t){return o.createElement(l.SupervisorTaskContextSource,{taskSid:t.sid,key:t.sid},o.createElement(a.TaskCard,{selected:e.props.selectedTaskSid===t.sid,highlighted:e.props.highlightedTaskSid===t.sid,onClick:e.props.onCardSelected}))})))},t.displayName="TaskCardList",t.Content=new i.DynamicContentStore(t.displayName),t.defaultProps={compareFunction:c},t}(o.PureComponent);t.TaskCardList=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),l=n(164),c=n(5),u=n(7),p=n(8),f=n(2),d=function(e){function t(t){var n=e.call(this,t)||this;return n.refreshTimer=void 0,n.handleClick=function(e){n.props.onClick&&n.props.onClick(n.props.task),e.stopPropagation()},n}var n;return r(t,e),n=t,t.prototype.componentDidMount=function(){var e=this;this.refreshTimer=window.setInterval(function(){return e.forceUpdate()},1e3)},t.prototype.componentWillUnmount=function(){window.clearInterval(this.refreshTimer)},t.prototype.render=function(){var e=this.props,t=e.firstLine,r=e.secondLine,o=e.task,i=e.selected,p=e.icon,f=e.channelDefinition,d=new c.TaskHelper(o);return a.createElement(l.StyledButton,{onClick:this.handleClick},a.createElement(s.DynamicComponent,{contentStore:n.Content,childProps:this.props,name:n.displayName,customChildren:this.props.children,noContainers:!0},a.createElement(l.Container,{className:"Twilio-TaskCard-Container",selected:i,iconAreaStyleOverride:this.getIconAreaStyleOverride(f),contentAreaStyleOverride:this.getContentAreaStyleOverride(f)},a.createElement(l.IconContainer,{key:"icon",className:"Twilio-TaskCard-IconContainer",icon:p||u.TaskChannelHelper.getIcon(o,i?f.icons.active:f.icons.list,n)}),a.createElement(l.Content,{key:"content",className:"Twilio-TaskCard-Content"},a.createElement(l.FirstLineContainer,{className:"Twilio-TaskCard-FirstLine"},t||a.createElement(s.Template,{task:o,helper:d,code:u.TaskChannelHelper.getTemplateForStatus(o,f.templates.TaskCard.firstLine,n)})),a.createElement(l.SecondLineContainer,{className:"Twilio-TaskCard-SecondLine"},r||a.createElement(s.Template,{task:o,helper:d,code:u.TaskChannelHelper.getTemplateForStatus(o,f.templates.TaskCard.secondLine,n)}))))))},t.prototype.getIconAreaStyleOverride=function(e){var t=this.props.theme.TaskCard.IconArea.Default;return t.backgroundColor=u.TaskChannelHelper.getColor(this.props.task,e.colors.main,n),t},t.prototype.getContentAreaStyleOverride=function(e){return this.props.highlighted?this.getIconAreaStyleOverride(e):c.TaskHelper.isInWrapupMode(this.props.task)||c.TaskHelper.isCompleted(this.props.task)?this.props.theme.TaskCard.ContentArea.Inactive:this.props.theme.TaskCard.ContentArea.Default},t.displayName="TaskCard",t.Content=new s.DynamicContentStore(n.displayName),t.defaultProps={highlighted:!1,selected:!1},t=n=o([f.withTheme,p.withTaskContext,i("design:paramtypes",[Object])],t)}(a.PureComponent);t.TaskCard=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(9),l=n(10),c=n(3),u=n(5),p=n(13),f=function(e,t){var n,r=p.SupervisorStateHelper.getTaskBySid(t.taskSid);return u.TaskHelper.isCallTask(r)&&(n=e.conferences.states.get(r.taskSid)),{task:r,conference:n,chatChannel:r&&u.TaskHelper.isChatBasedTask(r)?e.chat.channels[u.TaskHelper.getTaskChatChannelSid(r)]:void 0}},d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=i(e,["children"]);return n.channelDefinition=n.task?l.TaskChannels.getForTask(n.task):void 0,a.createElement(s.TaskContext.Provider,{value:n},t)},t=o([c.connect(f)],t)}(a.PureComponent);t.SupervisorTaskContextSource=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(2),c=n(0),u=n(66),p=n(51),f=n(50),d=n(7),h=n(65),m=n(8),g=n(4),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.prototype.render=function(){var e=this,t=this.props,r=t.templateCode,o=t.task;return s.createElement(m.TaskContext.Consumer,null,function(t){return s.createElement(p.TaskInfoPanel,i({},e.props,{templateCode:r||d.TaskChannelHelper.getTemplateForStatus(o,t.channelDefinition.templates.Supervisor.TaskInfoPanel.content,h.TaskCanvas),content:n.Content}))})},t.displayName="SupervisorTaskInfoPanel",t.Content=new c.DynamicContentStore(n.displayName),t.defaultProps={},t=n=a([c.withDefaultPropsUpdate],t)}(s.PureComponent);t.TaskInfoPanel=v,t.StyledFlexBox=l.default(c.FlexBox)(k||(k=o(["\n    width: 320px;\n    border-width: 0 0 0 1px;\n    border-style: solid;\n    ","\n"],["\n    width: 320px;\n    border-width: 0 0 0 1px;\n    border-style: solid;\n    ","\n"])),function(e){return e.theme.Supervisor.TaskCanvas.Container});var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCloseTask=function(){c.Actions.invokeAction("SelectTaskInSupervisor",{task:void 0})},t}return r(t,e),t.prototype.render=function(){return s.createElement(T,{noShrink:!0,noGrow:!0},s.createElement(c.IconButton,{key:"close-button",icon:"Close",onClick:this.handleCloseTask,themeOverride:this.props.theme.Supervisor.TaskCanvas.HeaderButton}),s.createElement(w,{key:"title"},s.createElement(g.Template,{source:g.templates.SupervisorTaskCanvasHeader})))},t.displayName="SupervisorTaskCanvasHeader",t.Content=new c.DynamicContentStore(v.displayName),t=a([l.withTheme],t)}(s.PureComponent);t.TaskCanvasHeader=y;var k,C,b,w=l.default(c.FlexBox)(C||(C=o(["\n    align-items: center;\n    font-size: 12px;\n    font-weight: bold;\n    letter-spacing: 3px;\n    justify-content: center;\n    padding-right: 44px;\n    text-transform: uppercase;\n"],["\n    align-items: center;\n    font-size: 12px;\n    font-weight: bold;\n    letter-spacing: 3px;\n    justify-content: center;\n    padding-right: 44px;\n    text-transform: uppercase;\n"]))),T=l.default(c.FlexBox)(b||(b=o(["\n    height: 44px;\n    padding-left: 11px;\n    padding-right: 11px;\n    align-items: center;\n    ","\n"],["\n    height: 44px;\n    padding-left: 11px;\n    padding-right: 11px;\n    align-items: center;\n    ","\n"])),function(e){return e.theme.Supervisor.WorkerCanvas.Header}),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.prototype.render=function(){var e=this.props.task;return s.createElement(f.TaskCanvasTabs,i({},this.props,{content:n.Content}),s.createElement(c.ContentFragment,{replace:!0},s.createElement(c.Tab,{key:"overview",label:s.createElement(g.Template,{source:g.templates.TaskTabSupervisorOverviewLabel})},s.createElement(u.TaskOverviewCanvas,{task:e})),s.createElement(c.Tab,{key:"info",label:s.createElement(g.Template,{source:g.templates.TaskTabSupervisorInfoLabel})},s.createElement(v,{task:e}))))},t.displayName="SupervisorTaskCanvasTabs",t.Content=new c.DynamicContentStore(n.displayName),t.defaultProps={},t=n=a([c.withDefaultPropsUpdate],t)}(s.PureComponent);t.TaskCanvasTabs=_},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),l=n(5),c=n(13),u=n(3),p=n(2),f=n(10),d=n(7),h=n(66),m=n(18),g=p.default(s.Icon)(v||(v=r(["\n    color: ",";\n"],["\n    color: ",";\n"])),function(e){return e.color});t.TaskOverviewIcon=function(e){var t=e.task,n=f.TaskChannels.getForTask(t),r=d.TaskChannelHelper.getIcon(t,n.icons.active,h.TaskOverviewCanvas),o=d.TaskChannelHelper.getColor(t,n.colors.main,h.TaskOverviewCanvas);return a.createElement(m.IconContainerWithStyle,{background:o},a.createElement(g,{icon:r,sizeMultiplier:2}))};var v,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMonitorClick=function(){t.props.monitorStatus===c.CallMonitoringStatus.none?s.Actions.invokeAction("MonitorCall",{task:t.props.task}):t.props.monitorStatus===c.CallMonitoringStatus.monitoring&&s.Actions.invokeAction("StopMonitoringCall",{task:t.props.task})},t}return o(t,e),t.prototype.render=function(){var e=this.props.task;return l.TaskHelper.isLiveCall(e)?e.workerSid===u.FlexModule.workerClient.sid?null:e.attributes.conference?a.createElement(s.IconButton,{className:"Twilio-SupervisorTaskOverviewActions-MonitorButton",icon:this.props.monitorStatus===c.CallMonitoringStatus.monitoring?"MonitorOffLarge":"MonitorBoldLarge",disabled:this.props.monitorStatus===c.CallMonitoringStatus.waiting,onClick:this.onMonitorClick,themeOverride:this.props.monitorStatus===c.CallMonitoringStatus.monitoring?this.props.theme.Supervisor.TaskCanvas.MonitorActiveButton:this.props.theme.Supervisor.TaskCanvas.Button}):null:null},t=i([u.connect(function(e){return{monitorStatus:e.supervisor.callMonitoring.status}})],t)}(a.Component);t.SupervisorTaskOverviewActions=y},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(4),c=n(2),u=n(0),p=n(106),f=n(107),d=n(108);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(106));var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.prototype.render=function(){return s.createElement(m,i({},this.props))},t.displayName="WorkerCanvas",t.Content=new u.DynamicContentStore(n.displayName),t.Caption=p.Caption,t.defaultProps={showSkills:!0},t=n=a([u.withDefaultPropsUpdate],t)}(s.PureComponent);t.WorkerCanvas=h;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClose=function(){u.Actions.invokeAction("SelectWorkerInSupervisor",void 0)},t}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.worker,n=e.showSkills;return s.createElement(u.DynamicComponent,{contentStore:h.Content,childProps:this.props,name:h.displayName,customChildren:this.props.children,vertical:!0},s.createElement(v,{vertical:!0,noGrow:!0,noShrink:!0},s.createElement(p.WorkerCanvasHeader,{key:"header",worker:t}),s.createElement(h.Caption,{key:"profile-title"},s.createElement(l.Template,{source:l.templates.WorkerCanvasDetailsHeader})),s.createElement(f.WorkerProfile,{key:"profile",worker:t}),n&&s.createElement(h.Caption,{key:"skills-title"},s.createElement(l.Template,{source:l.templates.WorkerCanvasSkillsHeader})),n&&s.createElement(d.WorkerSkills,{key:"skills",worker:t,onClose:this.handleClose})))},t=a([c.withTheme],t)}(s.PureComponent);t.WorkerCanvasImpl=m;var g,v=c.default(u.FlexBox)(g||(g=o(["\n    width: 320px;\n    border-width: 0 0 0 1px;\n    border-style: solid;\n    ","\n"],["\n    width: 320px;\n    border-width: 0 0 0 1px;\n    border-style: solid;\n    ","\n"])),function(e){return e.theme.Supervisor.WorkerCanvas.Container})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(2),l=n(0),c=n(4),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCloseButton=function(){l.Actions.invokeAction("SelectWorkerInSupervisor",{worker:void 0})},t}var n;return r(t,e),n=t,t.prototype.render=function(){return a.createElement(l.DynamicComponent,{contentStore:n.Content,childProps:this.props,name:n.friendlyName,customChildren:this.props.children,noContainers:!0},a.createElement(m,{noShrink:!0,noGrow:!0},a.createElement(l.IconButton,{key:"close-button",icon:"Close",themeOverride:this.props.theme.Supervisor.TaskCanvas.HeaderButton,onClick:this.handleCloseButton}),a.createElement(h,{key:"title"},a.createElement(c.Template,{source:c.templates.WorkerCanvasHeader}))))},t.friendlyName="WorkerCanvasHeader",t.displayName=n.friendlyName,t.Content=new l.DynamicContentStore(n.friendlyName),t=n=i([s.withTheme],t)}(a.PureComponent);t.WorkerCanvasHeader=u;var p,f,d,h=s.default(l.FlexBox)(p||(p=o(["\n    align-items: center;\n    font-size: 12px;\n    font-weight: bold;\n    letter-spacing: 3px;\n    justify-content: center;\n    padding-right: 44px;\n    text-transform: uppercase;\n"],["\n    align-items: center;\n    font-size: 12px;\n    font-weight: bold;\n    letter-spacing: 3px;\n    justify-content: center;\n    padding-right: 44px;\n    text-transform: uppercase;\n"]))),m=s.default(l.FlexBox)(f||(f=o(["\n    height: 44px;\n    padding-left: 11px;\n    padding-right: 11px;\n    align-items: center;\n    ","\n"],["\n    height: 44px;\n    padding-left: 11px;\n    padding-right: 11px;\n    align-items: center;\n    ","\n"])),function(e){return e.theme.Supervisor.WorkerCanvas.Header});t.Caption=s.default("div")(d||(d=o(["\n    flex: 0 0 auto;\n    font-size: 10px;\n    font-weight: bold;\n    letter-spacing: 2px;\n    border-style: solid;\n    padding-left: 11px;\n    align-items: center;\n    height: 24px;\n    border-width: 0 0 1px  0;\n    text-transform: uppercase;\n    ","\n"],["\n    flex: 0 0 auto;\n    font-size: 10px;\n    font-weight: bold;\n    letter-spacing: 2px;\n    border-style: solid;\n    padding-left: 11px;\n    align-items: center;\n    height: 24px;\n    border-width: 0 0 1px  0;\n    text-transform: uppercase;\n    ","\n"])),function(e){return e.theme.Supervisor.WorkerCanvas.Header})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(16),c=n(22),u=n(2),p=n(0),f=n(4),d=n(28),h=n(34),m=n(35),g=n(3),v=n(6),y=n(14),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.prototype.render=function(){return s.createElement(O,i({},this.props))},t.friendlyName="WorkerCanvasProfile",t.displayName=n.friendlyName,t.Content=new p.DynamicContentStore(n.friendlyName),t.defaultProps={details:[]},t=n=a([p.withDefaultPropsUpdate],t)}(s.PureComponent);t.WorkerProfile=k;var C,b,w,T,_,x,O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){var n=e.target.value,r={Sid:t.props.worker.sid,WorkspaceSid:d.Manager.getInstance().serviceConfiguration.taskrouter_workspace_sid,ActivitySid:n},o={auth:{username:"token",password:g.FlexModule.state.session.ssoTokenPayload.token},headers:{"Content-Type":"application/x-www-form-urlencoded"}};v.default.debug("updating attributes for worker",r);var i=g.FlexModule.state.config.flexServiceUrl;l.default.post(i+"/Worker/Instance",c.stringify(r),o).then(function(){v.default.debug("worker attributes updated",t.props.worker.sid)}).catch(function(e){y.Notifications.showNotification(y.NotificationIds.CannotChangeOtherWorkerActivity),v.default.error("Failed to update worker attributes",e)})},t}return r(t,e),t.prototype.render=function(){var e=this.props.worker,t=Array.from(g.FlexModule.state.worker.activities.values()).filter(function(e){return"Reserved"!==e.name});return s.createElement(p.DynamicComponent,{contentStore:k.Content,childProps:this.props,name:k.friendlyName,customChildren:this.props.children,vertical:!0},s.createElement(j,{vertical:!0,noGrow:!0,noShrink:!0},s.createElement("table",{key:"info-table"},s.createElement("tbody",null,s.createElement("tr",null,s.createElement("td",{style:{width:"100px"}},s.createElement(E,{imageUrl:e.attributes.image_url,available:e.isAvailable,large:!0})),s.createElement("td",{style:{verticalAlign:"top"}},s.createElement(p.FlexBoxColumn,null,s.createElement(A,null," ",e.fullName," "),s.createElement(L,{key:"availability",className:"Twilio-NoTasks-WorkerActivity",value:t.find(function(t){return t.name===e.activityName}).sid,onChange:this.handleChange},t.map(function(e,t){return s.createElement(m.default,{key:t,value:e.sid},e.name)}))))),this.props.details.map(function(e,t){return s.createElement("tr",{key:"detail-row-"+t},s.createElement("td",null,s.createElement(P,null,s.createElement(f.Template,{code:e.name}))),s.createElement("td",null,s.createElement(S,null,s.createElement(f.Template,{code:e.content}))))})))))},t=a([u.withTheme],t)}(s.PureComponent),P=u.default("div")(C||(C=o(["\n    margin-left: 13px;\n    margin-bottom: 13px;\n"],["\n    margin-left: 13px;\n    margin-bottom: 13px;\n"]))),S=u.default("div")(b||(b=o(["\n    font-weight: bold;\n"],["\n    font-weight: bold;\n"]))),E=u.default(p.Avatar)(w||(w=o(["\n    width: 60px;\n    height: 60px;\n    margin-left: 14px;\n    margin-top: 14px;\n    margin-bottom: 12px;\n"],["\n    width: 60px;\n    height: 60px;\n    margin-left: 14px;\n    margin-top: 14px;\n    margin-bottom: 12px;\n"]))),j=u.default(p.FlexBox)(T||(T=o(["\n    margin-bottom: 32px;\n"],["\n    margin-bottom: 32px;\n"]))),A=u.default("div")(_||(_=o(["\n    font-size: 12px;\n    font-weight: bold;\n    margin-top: 14px;\n    margin-bottom: 14px;\n"],["\n    font-size: 12px;\n    font-weight: bold;\n    margin-top: 14px;\n    margin-bottom: 14px;\n"]))),L=u.default(h.default)(x||(x=o(["\n    margin-right: 16px;\n    margin-bottom: auto;\n    overflow-x: hidden;\n    flex: 1 1 auto;\n"],["\n    margin-right: 16px;\n    margin-bottom: auto;\n    overflow-x: hidden;\n    flex: 1 1 auto;\n"])))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var s,l=n(16),c=n(1),u=n(22),p=n(0),f=n(167),d=n(4),h=n(28),m=n(6),g=n(3),v=n(2),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.prototype.render=function(){var e=this;return c.createElement(h.FlexContext.Consumer,null,function(t){return c.createElement(k,o({},e.props,{availableSkills:e.props.availableSkills||t.manager.serviceConfiguration.taskrouter_skills}))})},t.displayName="WorkerSkills",t.Content=new p.DynamicContentStore(n.displayName),t.defaultProps={},t=n=i([p.withDefaultPropsUpdate],t)}(c.PureComponent);t.WorkerSkills=y,function(e){e.Error="WorkerSkillsError",e.Saved="WorkerSkillsSaved",e.Reverted="WorkerSkillsReverted"}(s||(s={}));var k=function(e){function t(t){var n=e.call(this,t)||this;return n.handleSaveClick=function(){var e=n.getMergedAttributes(),t={Sid:n.props.worker.sid,WorkspaceSid:h.Manager.getInstance().serviceConfiguration.taskrouter_workspace_sid,Attributes:JSON.stringify(e)},r={auth:{username:"token",password:g.FlexModule.state.session.ssoTokenPayload.token},headers:{"Content-Type":"application/x-www-form-urlencoded"}};m.default.debug("updating attributes for worker",t);var i=g.FlexModule.state.config.flexServiceUrl;l.default.post(i+"/Worker/Instance",u.stringify(t),r).then(function(){m.default.debug("worker attributes updated",n.props.worker.sid),n.setState(o({},n.state,{skillsByNameOriginal:JSON.parse(JSON.stringify(n.state.skillsByName)),notificationTemplate:s.Saved}))}).catch(function(e){m.default.error("Failed to update worker attributes",e),n.setState(o({},n.state,{notificationTemplate:s.Error}))})},n.handleCancelClick=function(){n.setState(o({},n.state,{skillsByName:JSON.parse(JSON.stringify(n.state.skillsByNameOriginal)),notificationTemplate:s.Reverted}))},n.handleSkillAdd=function(e){var t;n.setState(o({},n.state,{skillsByName:o({},n.state.skillsByName,(t={},t[e.name]=e,t)),notificationTemplate:void 0}))},n.handleSkillUpdate=function(e){var t;n.setState(o({},n.state,{skillsByName:o({},n.state.skillsByName,(t={},t[e.name]=e,t)),notificationTemplate:void 0}))},n.handleSkillRemove=function(e){var t=o({},n.state.skillsByName);delete t[e.name],n.setState(o({},n.state,{skillsByName:t,notificationTemplate:void 0}))},n.state={workerSid:void 0,skillsByName:void 0,skillsByNameOriginal:void 0},n}var n;return r(t,e),n=t,t.getDerivedStateFromProps=function(e,t){return e.worker.sid===t.workerSid?null:{workerSid:e.worker.sid,skillsByName:n.getSkillsFromWorker(e.worker,e.availableSkills),skillsByNameOriginal:n.getSkillsFromWorker(e.worker,e.availableSkills)}},t.prototype.render=function(){var e=this,t=this.props,n=t.availableSkills,r=t.theme,o=this.state,i=o.skillsByName,a=o.skillsByNameOriginal,s=o.notificationTemplate,l=!a,u=l?[]:Object.keys(i).map(function(e){return i[e]}).sort(function(e,t){return e.name.localeCompare(t.name)}),h=!l&&JSON.stringify(a)!==JSON.stringify(i),m=u.every(f.isSkillLevelOk);return c.createElement(p.DynamicComponent,{contentStore:y.Content,childProps:this.props,name:y.displayName,customChildren:this.props.children,vertical:!0},c.createElement(f.Container,{className:"Twilio-WorkerSkills",vertical:!0},c.createElement(f.AddSkillPanel,{key:"add-skills",allSkillsDefinitions:!l&&n||[],selectedSkills:i||{},onAdd:this.handleSkillAdd}),c.createElement(f.SkillsContainer,{key:"skills-container",className:"Twilio-WorkerSkills-SkillsContainer",vertical:!0,noGrow:!0},u.map(function(t){return c.createElement(f.WorkerSkill,{key:t.name,skill:t,onUpdate:e.handleSkillUpdate,onRemove:e.handleSkillRemove})})),0===u.length&&c.createElement(f.NoSkillsContainer,{key:"no-skills",className:"Twilio-WorkerSkills-NoSkills",noGrow:!0},c.createElement(d.Template,{source:l?d.templates.WorkerSkillsSchemaMismatch:d.templates.WorkerSkillsNoSkills})),c.createElement(f.ButtonsContainer,{key:"buttons-container",className:"Twilio-WorkerSkills-ButtonsContainer",noGrow:!0,noShrink:!0},c.createElement(p.Button,{className:"Twilio-WorkerSkills-SkillsSaveButton",disabled:!h||!m,onClick:this.handleSaveClick,themeOverride:r.WorkerSkills.SaveButton,roundCorners:!1},c.createElement(d.Template,{source:d.templates.Save})),c.createElement(p.Button,{className:"Twilio-WorkerSkills-SkillsCancelButton",disabled:!h,onClick:this.handleCancelClick,themeOverride:r.WorkerSkills.CancelButton,roundCorners:!1},c.createElement(d.Template,{source:d.templates.Reset}))),!!s&&c.createElement(f.NotificationTextContainer,{key:"notification-container",className:"Twilio-WorkerSkills-Notification",noGrow:!0},c.createElement(d.Template,{code:s}))))},t.prototype.getMergedAttributes=function(){var e=this,t=function(t,n){var r=e.state.skillsByName;t.skills=[],t.levels={},Object.keys(r).forEach(function(e){var o=r[e];o.disabled===n&&(t.skills.push(o.name),o.multivalue&&(t.levels[o.name]=o.level))})},n=this.props.worker.attributes||{},r=n.disabled_skills||{},i=n.routing||{};return t(r,!0),t(i,!1),o({},n,{routing:i,disabled_skills:r})},t.getSkillsFromWorker=function(e,t){var n={},r=function(e,r){if(void 0===e)return!0;if("object"!=typeof e)return!1;if(!Array.isArray(e.skills))return m.default.warn("skills is not an array",e),void 0===e.skills;var i=!0;return e.skills.forEach(function(a){if("string"!=typeof a)return m.default.warn("skill name is not a string",a),void(i=!1);var s=t.find(function(e){return e.name===a})||{multivalue:!1};n[a]=o({},s,{disabled:r,name:a,level:e.levels?e.levels[a]:void 0})}),i};if(e.attributes){var i=r(e.attributes.disabled_skills,!0),a=r(e.attributes.routing,!1);if(i&&a)return n}},t=n=i([v.withTheme,a("design:paramtypes",[Object])],t)}(c.PureComponent)},function(e,t){e.exports=require("emotion")},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(111)),r(n(112))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(173))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(187);t.QueuesDataTableProps=r.QueuesDataTableProps,t.QueuesDataTable=r.QueuesDataTable},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(1),l=n(0),c=n(3),u=n(2),p=n(62),f=n(30),d=n(114),h=n(21),m=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}var o;return r(n,e),o=n,n.prototype.render=function(){return this.props.identity?s.createElement(l.DynamicComponent,{name:o.friendlyName,contentStore:o.Content,childProps:this.props,customChildren:this.props.children,vertical:!0},s.createElement(t.Container,null,s.createElement(f.MainHeader,{key:"header"}),s.createElement(d.MainContainer,{key:"container"}))):s.createElement(p.LoginFormView,{userConfig:this.props.config,userLoggedOut:this.props.currentLoginState===h.LoginState.LoggedOut})},n.friendlyName="RootContainer",n.displayName=o.friendlyName,n.Content=new l.DynamicContentStore(o.friendlyName),n=o=i([c.connect(function(e){return{identity:e.session.identity,currentLoginState:e.session.loginState,config:e.config}})],n)}(s.PureComponent);t.RootContainer=m,t.Container=u.default(l.FlexBoxColumn)(a||(a=o(["\n    ","\n"],["\n    ","\n"])),function(e){return e.theme.RootContainer})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(0),c=n(3),u=n(87),p=n(197),f=n(2),d=n(115),h=n(116),m=n(29),g=n(198),v=n(200),y=n(28),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.updateAll=function(){},t.prototype.render=function(){return s.createElement(b,i({},this.props))},t.displayName="MainContainer",t.Content=new l.DynamicContentStore(n.displayName),t.defaultProps={keepSideNavOpen:!1,showNotificationBar:!0,showLiveCommsBar:!0},t=n=a([l.withDefaultPropsUpdate],t)}(s.PureComponent);t.MainContainer=k;var C,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleWindowResize=function(){t.props.keepSideNavOpen||t.forceUpdate()},t.showSupervisor=function(e){var t=e.manager.user.roles;return t.indexOf("supervisor")>=0||t.indexOf("admin")>=0},t}return r(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.handleWindowResize)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize)},t.prototype.render=function(){var e=this,t=window.innerWidth>640||this.props.keepSideNavOpen;return s.createElement(v.Router,null,s.createElement(m.FlexContext.Consumer,null,function(n){return s.createElement(l.DynamicComponent,{name:k.displayName,contentStore:k.Content,childProps:e.props,customChildren:e.props.children},s.createElement(l.FlexBox,{className:"Twilio-MainContainer"},s.createElement(d.SideNav,{key:"sidenav",reserveSpace:t}),s.createElement(w,{key:"content",className:"Twilio-MainContainer-Content",vertical:!0,overflow:"hidden"},e.props.showLiveCommsBar&&s.createElement(g.LiveCommsBar,null),s.createElement(l.FlexBox,null,e.props.showNotificationBar&&s.createElement(l.NotificationBar,null),s.createElement(h.ViewCollection,null,s.createElement(l.ContentFragment,null,s.createElement(h.View,{key:"agent-desktop",name:"agent-desktop",route:{path:"/agent-desktop"},mountRule:h.ViewMountRule.Always},s.createElement(u.AgentDesktopView,null)),e.showSupervisor(n)&&s.createElement(h.View,{key:"teams",name:"teams",route:{path:"/teams"},keepMounted:!0,mountRule:h.ViewMountRule.WhenHasBeenActive},s.createElement(u.TeamsView,null)),e.showSupervisor(n)&&y.Manager.getInstance().configuration.showQueuesStatsView&&s.createElement(h.View,{key:"queue-stats",name:"queue-stats",route:{path:"/queue-stats"},mountRule:h.ViewMountRule.WhenHasBeenActive},s.createElement(u.QueueStatsView,null)),s.createElement(h.View,{key:"logout",name:"logout"},s.createElement(p.LogoutView,null))))))))}))},t=a([f.withTheme,c.connect(function(e){return{activeView:e.view.activeView}})],t)}(s.PureComponent),w=f.default(l.FlexBox)(C||(C=o(["\n    position: relative;\n    ","\n"],["\n    position: relative;\n    ","\n"])),function(e){return e.theme.MainContainer})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(0),c=n(2),u=n(11),p=n(3),f=n(29),d=n(4),h=n(5),m=n(28),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.doNavigate=function(e){return function(){l.Actions.invokeAction("NavigateToView",{viewName:e})}},t.showSupervisor=function(e){var t=e.manager.user.roles;return t.indexOf("supervisor")>=0||t.indexOf("admin")>=0},t}var n;return r(t,e),n=t,t.prototype.render=function(){var e=this,t=this.props,r=t.reserveSpace,o=t.activeView,a=t.isOpen,c=t.incomingTasks;if(!r&&!a)return null;var p=a;return s.createElement(f.FlexContext.Consumer,null,function(t){return s.createElement(w,{wideLayout:r,className:u.cx("Twilio","Twilio-SideNav-Container")},s.createElement(T,{isOpen:p,wideLayout:r,className:u.cx("Twilio","Twilio-"+n.friendlyName)},s.createElement(l.DynamicComponent,{contentStore:n.Content,childProps:i({},e.props,{showLabel:p}),name:n.friendlyName,customChildren:e.props.children,vertical:!0},s.createElement(s.Fragment,null,s.createElement(l.ContentFragment,{align:"start"},s.createElement(P,{key:"agent-desktop",icon:c?"AgentNotify":"Agent",iconActive:c?"AgentNotifyBold":"AgentBold",isActive:"agent-desktop"===o,onClick:e.doNavigate("agent-desktop"),showLabel:p},s.createElement(d.Template,{source:d.templates.SideNavTaskView})),e.showSupervisor(t)&&s.createElement(P,{key:"teams",icon:"Agents",iconActive:"AgentsBold",isActive:"teams"===o,onClick:e.doNavigate("teams"),showLabel:p},s.createElement(d.Template,{source:d.templates.SideNavTeamsView})),e.showSupervisor(t)&&m.Manager.getInstance().configuration.showQueuesStatsView&&s.createElement(P,{key:"queue-stats",icon:"Queues",iconActive:"QueuesBold",isActive:"queue-stats"===o,onClick:e.doNavigate("queue-stats"),showLabel:p},s.createElement(d.Template,{source:d.templates.SideNavQueuesStatsView}))),s.createElement(l.ContentFragment,{align:"end"})))))})},t.friendlyName="SideNav",t.displayName=n.friendlyName,t.Content=new l.DynamicContentStore(n.friendlyName),t=n=a([p.connect(function(e){return{incomingTasks:!!Array.from(e.worker.tasks.values()).find(function(e){return h.TaskHelper.isPending(e)}),isOpen:e.view.isSideNavOpen,activeView:e.view.activeView}})],t)}(s.PureComponent);t.SideNav=g;var v,y,k,C,b,w=c.default("div")(v||(v=o(["\n    display: flex;\n    position: relative;\n    outline: none;\n    flex: 0 0 ",";\n"],["\n    display: flex;\n    position: relative;\n    outline: none;\n    flex: 0 0 ",";\n"])),function(e){return e.wideLayout?"44px":"0px"}),T=c.default("div")(y||(y=o(["\n    display: flex;\n    flex-direction: column;\n    flex: 1 0 100%;\n    z-index: 10;\n    left: 0;\n    bottom: 0;\n    top: 0;\n    position: absolute;\n    border-style: solid;\n    border-width: 0 1px 0 0;\n    width: ",";\n    ","\n    ","\n    ","\n    ","\n"],["\n    display: flex;\n    flex-direction: column;\n    flex: 1 0 100%;\n    z-index: 10;\n    left: 0;\n    bottom: 0;\n    top: 0;\n    position: absolute;\n    border-style: solid;\n    border-width: 0 1px 0 0;\n    width: ",";\n    ","\n    ","\n    ","\n    ","\n"])),function(e){return e.isOpen?"240px":"44px"},function(e){return l.Animations.SlideInTransition(e.isOpen)},function(e){return e.isOpen&&"box-shadow: 1px 1px 3px 0 rgba(0, 0, 0, 0.4);"},function(e){return!e.wideLayout&&l.Animations.AppearAnimation(l.Animations.FADE_IN_DURATION)},function(e){return e.theme.SideNav.Container}),_=c.default("div")(k||(k=o(["\n    flex: 1 1 auto;\n    text-align: left;\n    padding: 8px 16px 8px 8px;\n    opacity: 0;\n    white-space: nowrap;\n\n    ","\n"],["\n    flex: 1 1 auto;\n    text-align: left;\n    padding: 8px 16px 8px 8px;\n    opacity: 0;\n    white-space: nowrap;\n\n    ","\n"])),function(e){return l.Animations.FadeInOutTransition(e.show,l.Animations.SLIDE_IN_DURATION/2,l.Animations.SLIDE_IN_DURATION/2,l.Animations.SLIDE_IN_DURATION/2)}),x=c.default("div")(C||(C=o(["\n    flex: 0 0 44px;\n    justify-content: center;\n    overflow: hidden;\n    ",";\n"],["\n    flex: 0 0 44px;\n    justify-content: center;\n    overflow: hidden;\n    ",";\n"])),function(e){return e.theme.SideNav.Icon}),O=c.default("button")(b||(b=o(["\n    display: flex;\n    font-size: 12px;\n    font-weight: bold;\n    height: 44px;\n    outline: none;\n    align-items: center;\n    padding: 0 0 0 0;\n    border-style: none;\n    ",";\n    ","\n"],["\n    display: flex;\n    font-size: 12px;\n    font-weight: bold;\n    height: 44px;\n    outline: none;\n    align-items: center;\n    padding: 0 0 0 0;\n    border-style: none;\n    ",";\n    ","\n"])),function(e){return e.theme.SideNav.Icon},function(e){return l.getBackgroundWithHoverCSS(e.theme.SideNav.Button.background,e.theme.SideNav.Button.lightHover)}),P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.isActive,n=e.onClick,r=e.icon,o=e.iconActive,i=e.showLabel,a=e.children,c=t&&o?o:r;return s.createElement(O,{className:t?"Twilio-Side-Link--Active":"Twilio-Side-Link",onClick:n,isActive:t},s.createElement(x,{isActive:t},s.createElement(l.Icon,{icon:c})),s.createElement(_,{show:i},a))},t=a([c.withTheme],t)}(s.PureComponent);t.SideLink=P,P.displayName="SideLink"},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(0),c=n(37),u=n(11),p=n(3),f=n(19),d=n(2),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.updateAll=function(){},t.prototype.render=function(){return s.createElement(g,i({},this.props))},t.displayName="ViewCollection",t.Content=new l.DynamicContentStore(n.displayName),t.defaultProps={defaultLocation:"/agent-desktop"},t=n=a([l.withDefaultPropsUpdate],t)}(s.PureComponent);t.ViewCollection=h;var m,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.keysOfViewsThatHaveBeenMounted=[],t.renderRouteChildren=function(e,n){if("start"!==n)return e;e=e.filter(function(e){return s.isValidElement(e)});var r=t.props.router.location&&!e.some(function(e){return t.isActiveView(e)}),o=e.map(function(e){var n=t.getRouteFromView(e);return t.shallRenderView(e)?s.createElement(c.Route,{key:"view-"+e.props.name,exact:n.exact,path:"/"+e.props.name,children:t.updateChildren(e)}):null});return r?[s.createElement(c.Redirect,{key:"redirect",to:t.props.defaultLocation})]:o},t.updateChildren=function(e){return function(n){var r=t.isActiveView(e);return r&&setTimeout(function(){f.Actions.setActiveView(e.props.name)},0),t.registerViewHavingBeenMounted(e.props.name),t.shallRenderView(e)&&s.createElement(k,{name:e.props.name,isViewActive:r,route:n},e.props.children)}},t}return r(t,e),t.prototype.getPathnameFromProps=function(e){return e.router.location&&e.router.location.pathname},t.prototype.getRouteFromView=function(e){return e.props.route?Array.isArray(e.props.route.path)?{path:e.props.route.path.concat(["/"+e.props.name])}:{path:[e.props.route.path,"/"+e.props.name]}:{path:"/"+e.props.name}},t.prototype.isActiveView=function(e){var t=this.getRouteFromView(e),n=this.getPathnameFromProps(this.props);return!!c.matchPath(n,t)},t.prototype.shallRenderView=function(e){if(this.isActiveView(e))return!0;if("mountRule"in e.props)switch(e.props.renderRule){case m.Always:return!0;case m.WhenHasBeenActive:return this.keysOfViewsThatHaveBeenMounted.indexOf(e.props.name)>-1;default:return!1}return"keepMounted"in e.props&&!1!==e.props.keepMounted},t.prototype.registerViewHavingBeenMounted=function(e){this.keysOfViewsThatHaveBeenMounted.indexOf(e)>-1||this.keysOfViewsThatHaveBeenMounted.push(e)},t.prototype.render=function(){return s.createElement(l.DynamicComponent,{name:h.displayName,contentStore:h.Content,childProps:this.props,customChildren:this.props.children,renderChildren:this.renderRouteChildren,noContainers:!0},s.createElement(l.FlexBox,{className:"Twilio-ViewCollection",overflow:"hidden"}))},t=a([p.connect(function(e){return{router:e.router}})],t)}(s.PureComponent);t.ViewCollectionImpl=g,function(e){e.Always="Always",e.WhenActive="WhenActive",e.WhenHasBeenActive="WhenHasBeenActive"}(m=t.ViewMountRule||(t.ViewMountRule={})),t.View=function(){return null};var v,y=d.default("div")(v||(v=o(["\n    display: ",";\n    flex: 1 1 auto;\n    overflow: hidden;\n"],["\n    display: ",";\n    flex: 1 1 auto;\n    overflow: hidden;\n"])),function(e){return e.isViewActive?"flex":"none"}),k=function(e){return s.createElement(y,{className:u.cx("Twilio-View","Twilio-View-"+e.name,e.className),isViewActive:e.isViewActive},s.Children.map(e.children,function(t){var n=t;return s.isValidElement(t)?s.cloneElement(n,i({},t.props,{isViewActive:e.isViewActive,route:e.route})):t}))}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a,s,l,c,u,p,f,d,h=n(1),m=n(0),g=n(4),v=n(2),y=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleButtonClick=function(){window.open("https://www.twilio.com/docs/flex/flex-ui-configuration-customization#configuring-crm-integration","_blank")},t}return r(n,e),n.prototype.render=function(){return h.createElement(t.CRMContainerPlaceholder,{className:"Twilio-CRMContainer-PlaceHolder"},h.createElement(t.FirstLineContainer,null,h.createElement(t.FirstLine,null,h.createElement(g.Template,{source:g.templates.NoCRMTitle}))),h.createElement(t.SecondLine,null," ",h.createElement(g.Template,{source:g.templates.NoCRMConfigured})," "),h.createElement(t.HintLine,null," ",h.createElement(g.Template,{source:g.templates.NoCRMHint})," "),h.createElement(t.StyledIcon,{icon:"Cogs",sizeMultiplier:4}),h.createElement(m.Button,{roundCorners:!1,onClick:this.handleButtonClick,themeOverride:this.props.theme.CRMContainer.Placeholder.Button},h.createElement(g.Template,{source:g.templates.NoCRMConfiguredAction})))},n=i([v.withTheme],n)}(h.PureComponent);t.CRMPlaceHolderView=y,t.Container=v.default("div")(a||(a=o(["\n    display: flex;\n    flex-direction: column;\n    flex: 1 0 auto;\n    border-style: solid;\n    border-width: 0 0 0 1px;\n    ","\n\n    iframe {\n        border: none;\n        display: flex;\n        flex: 1 0 auto;\n    }\n"],["\n    display: flex;\n    flex-direction: column;\n    flex: 1 0 auto;\n    border-style: solid;\n    border-width: 0 0 0 1px;\n    ","\n\n    iframe {\n        border: none;\n        display: flex;\n        flex: 1 0 auto;\n    }\n"])),function(e){return e.theme.CRMContainer.Container}),t.FirstLineContainer=v.default("div")(s||(s=o(["\n    border-style: solid;\n    border-width: 0px 0px 4px 0px;\n    border-color: ",";\n"],["\n    border-style: solid;\n    border-width: 0px 0px 4px 0px;\n    border-color: ",";\n"])),function(e){return e.theme.colors.flexBlueColor}),t.FirstLine=v.default("div")(l||(l=o(["\n    font-size: 10px;\n    font-weight: bold;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    text-transform: uppercase;\n    letter-spacing: 2px;\n    margin: 0px 12px 4px 12px;\n"],["\n    font-size: 10px;\n    font-weight: bold;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    text-transform: uppercase;\n    letter-spacing: 2px;\n    margin: 0px 12px 4px 12px;\n"]))),t.SecondLine=v.default("div")(c||(c=o(["\n    font-size: 24px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    text-transform: uppercase;\n    letter-spacing: 2px;\n    text-align: center;\n    margin: 34px 20px 0px 20px;\n"],["\n    font-size: 24px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    text-transform: uppercase;\n    letter-spacing: 2px;\n    text-align: center;\n    margin: 34px 20px 0px 20px;\n"]))),t.HintLine=v.default("div")(u||(u=o(["\n    font-size: 12px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    margin: 12px 20px 16px 20px;\n    ","\n"],["\n    font-size: 12px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    margin: 12px 20px 16px 20px;\n    ","\n"])),function(e){return e.theme.CRMContainer.Placeholder.Hint}),t.NameLine=v.default("div")(p||(p=o(["\n    font-size: 12px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    margin: 12px 20px 0px 20px;\n"],["\n    font-size: 12px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    margin: 12px 20px 0px 20px;\n"]))),t.StyledIcon=v.default(m.Icon)(f||(f=o(["\n    ","\n    margin-bottom: 26px;\n"],["\n    ","\n    margin-bottom: 26px;\n"])),function(e){return e.theme.CRMContainer.Placeholder.Icon}),t.CRMContainerPlaceholder=v.default("div")(d||(d=o(["\n    flex: 1 1 auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    ","\n"],["\n    flex: 1 1 auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    ","\n"])),function(e){return e.theme.CRMContainer.Placeholder.Container})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(119),n(120),n(121),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(30))},function(e,t){e.exports=require("core-js/fn/symbol")},function(e,t){e.exports=require("core-js/fn/symbol/iterator")},function(e,t){e.exports=require("core-js/fn/object/assign")},function(e,t){e.exports=require("hoist-non-react-statics")},function(e,t){e.exports=require("loglevel")},function(e,t){e.exports=require("twilio-chat/lib/message")},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(70)),r(n(126)),r(n(44));var o=n(70);t.initDefaultChannels=function(e){o.init(e)}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(44),a=n(17),s=n(33),l={Pending:"TaskLineQueue",Accepted:"TaskLineChatAssigned",Wrapping:"TaskLineChatAssigned"};function c(e,t,n,c,u,p,f){void 0===n&&(n="Message"),void 0===c&&(c="MessageBold"),void 0===u&&(u=s.defaultChannelColors.chat),void 0===p&&(p="TaskLineChatReserved"),void 0===f&&(f=32768);var d=r({},l);return d.Pending=p,o.Utils.merge(i.Default,{name:e,isApplicable:t,charLimit:f,capabilities:new Set([a.TaskChannelCapability.Chat,a.TaskChannelCapability.Info,a.TaskChannelCapability.Wrapup]),colors:{main:{Accepted:u,Pending:u,Reserved:u,Assigned:u}},icons:{list:{Pending:c,Accepted:c,Canceled:n,Wrapping:n,Completed:n,Reserved:c,Assigned:c},active:c,main:n},templates:{IncomingTaskCanvas:{secondLine:l,titleLine:{Pending:p}},TaskListItem:{secondLine:d},TaskCanvasHeader:{endButton:{Assigned:"TaskHeaderEndChat",Accepted:"TaskHeaderEndChat",Wrapping:"TaskHeaderComplete"}}},componentProps:{}})}t.Chat=c("chat",function(e){return"chat"===e.taskChannelUniqueName},"Message","MessageBold",s.defaultChannelColors.chat),t.ChatMessenger=c("chat-messenger",function(e){return t.Chat.isApplicable(e)&&"messenger"===e.channelType},"Facebook","FacebookBold",s.defaultChannelColors.facebook,"TaskLineChatMessengerReserved",4e3),t.ChatLine=c("chat-line",function(e){return t.Chat.isApplicable(e)&&"line"===e.channelType},"Line","LineBold",s.defaultChannelColors.line,"TaskLineChatLineReserved",4e3),t.ChatWhatsApp=c("chat-whatsapp",function(e){return t.Chat.isApplicable(e)&&"whatsapp"===e.channelType},"Whatsapp","WhatsappBold",s.defaultChannelColors.whatsapp,"TaskLineChatWhatsAppReserved",4e3),t.ChatSms=c("chat-sms",function(e){return"sms"===e.taskChannelUniqueName||t.Chat.isApplicable(e)&&"sms"===e.channelType},"Sms","SmsBold",s.defaultChannelColors.sms,"TaskLineSmsReserved",1600),t.createChatTaskChannel=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(45);t.IncomingTaskCanvas=r.IncomingTaskCanvas,t.IncomingTaskCanvasProps=r.IncomingTaskCanvasProps;var o=n(129);t.NoTasksCanvas=o.NoTasksCanvas;var i=n(46);t.CallCanvas=i.CallCanvas;var a=n(132);t.TaskCanvas=a.TaskCanvas,t.TaskCanvasProps=a.TaskCanvasProps;var s=n(49);t.TaskCanvasHeader=s.TaskCanvasHeader;var l=n(50);t.TaskCanvasTabs=l.TaskCanvasTabs;var c=n(18);t.TaskDetailsPanel=c.TaskDetailsPanel;var u=n(51);t.TaskInfoPanel=u.TaskInfoPanel;var p=n(74);t.ParticipantCanvas=p.ParticipantCanvas;var f=n(48);t.ParticipantsCanvas=f.ParticipantsCanvas},function(e,t){e.exports=require("create-emotion-styled")},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a,s,l,c,u,p,f,d,h=n(1),m=n(0),g=n(3),v=n(6),y=n(4),k=n(34),C=n(35),b=n(2),w=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){m.Actions.invokeAction("SetActivity",{activitySid:e.target.value}).then(function(){v.default.debug("activity updated")}).catch(function(e){v.default.error("failed to update activity:",e)})},t}var o;return r(n,e),o=n,n.prototype.render=function(){var e=this.props.worker,n=Array.from(this.props.worker.activities.values()).filter(function(e){return"Reserved"!==e.name}),r=this.props.worker.activity&&this.props.worker.activity.sid,i=!!e&&!!e.activity&&e.activity.available,a=!!e&&e.attributes.full_name||!!e&&e.source&&e.source.name||"",s=!!e&&e.attributes.image_url;return h.createElement(m.DynamicComponent,{contentStore:o.Content,childProps:this.props,name:o.friendlyName,customChildren:this.props.children,noContainers:!0,vertical:!0},h.createElement(t.Container,null,h.createElement(t.FirstLineContainer,{key:"first-line"},h.createElement(t.FirstLine,null,h.createElement(y.Template,{source:y.templates.NoTasksTitle}))),h.createElement(t.SecondLine,{key:"second-line"}," ",h.createElement(y.Template,{source:y.templates.NoTasks})," "),h.createElement(t.HintLine,{key:"hint"}," ",h.createElement(y.Template,{source:i?y.templates.NoTasksHintAvailable:y.templates.NoTasksHintNotAvailable})," "),h.createElement(t.StyledWorkerAvatar,{key:"avatar",imageUrl:s,available:i,large:!0}),h.createElement(t.NameLine,{key:"name"},a),h.createElement(t.StyledSelect,{key:"availability",className:"Twilio-NoTasks-WorkerActivity",value:r,onChange:this.handleChange},n.map(function(e,t){return h.createElement(C.default,{key:t,value:e.sid},e.name)}))))},n.friendlyName="NoTasksCanvas",n.displayName=o.friendlyName,n.Content=new m.DynamicContentStore(o.friendlyName),n=o=i([b.withTheme,g.connect(function(e){return{worker:e.worker}})],n)}(h.PureComponent);t.NoTasksCanvas=w,t.Container=b.default("div")(a||(a=o(["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    ","\n\n"],["\n    display: flex;\n    flex: 1;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    ","\n\n"])),function(e){return e.theme.NoTasksCanvas.Container}),t.StyledWorkerAvatar=b.default(m.Avatar)(s||(s=o(["\n    width: 60px;\n    height: 60px;\n"],["\n    width: 60px;\n    height: 60px;\n"]))),t.FirstLineContainer=b.default("div")(l||(l=o(["\n    border-style: solid;\n    border-width: 0px 0px 4px 0px;\n    border-color: ",";\n"],["\n    border-style: solid;\n    border-width: 0px 0px 4px 0px;\n    border-color: ",";\n"])),function(e){return e.theme.colors.flexBlueColor}),t.FirstLine=b.default("div")(c||(c=o(["\n    font-size: 10px;\n    font-weight: bold;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    text-transform: uppercase;\n    letter-spacing: 2px;\n    margin: 0px 12px 4px 12px;\n"],["\n    font-size: 10px;\n    font-weight: bold;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    text-transform: uppercase;\n    letter-spacing: 2px;\n    margin: 0px 12px 4px 12px;\n"]))),t.SecondLine=b.default("div")(u||(u=o(["\n    font-size: 24px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    text-transform: uppercase;\n    letter-spacing: 2px;\n    text-align: center;\n    margin: 34px 20px 0px 20px;\n"],["\n    font-size: 24px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    text-transform: uppercase;\n    letter-spacing: 2px;\n    text-align: center;\n    margin: 34px 20px 0px 20px;\n"]))),t.HintLine=b.default("div")(p||(p=o(["\n    font-size: 12px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    margin: 12px 20px 16px 20px;\n    ","\n"],["\n    font-size: 12px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    margin: 12px 20px 16px 20px;\n    ","\n"])),function(e){return e.theme.NoTasksCanvas.Hint}),t.NameLine=b.default("div")(f||(f=o(["\n    font-size: 12px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    margin: 12px 20px 0px 20px;\n"],["\n    font-size: 12px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    letter-spacing: normal;\n    margin: 12px 20px 0px 20px;\n"]))),t.StyledSelect=b.default(k.default)(d||(d=o(["\n    margin-top: 20px;\n    width: 140px;\n"],["\n    margin-top: 20px;\n    width: 140px;\n"])))},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(2);t.Container=a.default("div")(o||(o=r(["\n    display: flex;\n    flex-direction: row;\n    flex-grow: 1;\n"],["\n    display: flex;\n    flex-direction: row;\n    flex-grow: 1;\n"]))),t.ParticipantsContainer=a.default("div")(i||(i=r(["\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-items: center;\n    align-content: center;\n    flex: 1;\n    overflow: hidden;\n"],["\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    align-items: center;\n    align-content: center;\n    flex: 1;\n    overflow: hidden;\n"])))},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,l,c=n(0),u=n(2);t.Container=u.default("div")(o||(o=r(["\n    flex-grow: 1;\n    padding: 16px;\n    font-size: 30px;\n    text-align: center;\n    box-sizing: border-box;\n    min-width: 170px;\n    width: ",";\n    ","\n    opacity: ",";\n    filter: ",";\n"],["\n    flex-grow: 1;\n    padding: 16px;\n    font-size: 30px;\n    text-align: center;\n    box-sizing: border-box;\n    min-width: 170px;\n    width: ",";\n    ","\n    opacity: ",";\n    filter: ",";\n"])),function(e){return e.participantWidth+"%"},function(e){return e.theme.ParticipantsCanvas.ParticipantCanvas.Container},function(e){return e.isDisabled&&.4},function(e){return e.isDisabled&&"grayscale(100%)"}),t.Name=u.default("div")(i||(i=r(["\n    font-size: 14px;\n    font-weight: bold;\n    margin-top: 10px;\n    margin-bottom: 4px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n"],["\n    font-size: 14px;\n    font-weight: bold;\n    margin-top: 10px;\n    margin-bottom: 4px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n"]))),t.Status=u.default("div")(a||(a=r(["\n    font-size: 12px;\n"],["\n    font-size: 12px;\n"]))),t.StyledAvatar=u.default(c.Avatar)(s||(s=r(["\n    margin: 0 auto;\n    width: 72px;\n    height: 72px;\n    border-radius: 1000px;\n    position: relative;\n    ",";\n    background: ",";\n"],["\n    margin: 0 auto;\n    width: 72px;\n    height: 72px;\n    border-radius: 1000px;\n    position: relative;\n    ",";\n    background: ",";\n"])),function(e){return e.theme.ParticipantsCanvas.ParticipantCanvas.Avatar},function(e){return e.hold&&e.theme.colors.holdColor}),t.AvatarHover=u.default(c.FlexBox)(l||(l=r(["\n    left: 50%;\n    transform: translateX(-50%);\n    margin: 0 auto;\n    border-radius: 1000px;\n    width: 72px;\n    height: 72px;\n    position: absolute;\n    justify-content: center;\n    ","\n"],["\n    left: 50%;\n    transform: translateX(-50%);\n    margin: 0 auto;\n    border-radius: 1000px;\n    width: 72px;\n    height: 72px;\n    position: absolute;\n    justify-content: center;\n    ","\n"])),function(e){return e.theme.ParticipantsCanvas.ParticipantCanvas.StateHover})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(0),c=n(9),u=n(49),p=n(50),f=n(2),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return s.createElement(m,i({},this.props))},t.displayName="TaskCanvas",t.Content=new l.DynamicContentStore(t.displayName),t.Header=u.TaskCanvasHeader,t.Tabs=p.TaskCanvasTabs,t}(s.PureComponent);t.TaskCanvas=d;var h,m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props.task;return e?s.createElement(l.DynamicComponent,{contentStore:d.Content,childProps:this.props,name:d.displayName,customChildren:this.props.children,vertical:!0},s.createElement(g,{vertical:!0,overflow:"hidden"},s.createElement(u.TaskCanvasHeader,{key:"header",task:e}),s.createElement(p.TaskCanvasTabs,{key:"tabs",task:e}))):null},t.displayName=d.displayName,t=a([c.withTaskContext,f.withTheme],t)}(s.PureComponent),g=f.default(l.FlexBox)(h||(h=o(["\n    ","\n"],["\n    ","\n"])),function(e){return e.theme.TaskCanvas.Container})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(77);t.UserControls=r.UserControls,t.UserControlsProps=r.UserControlsProps;var o=n(134);t.MainHeader=o.MainHeader,t.MainHeaderProps=o.MainHeaderProps},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),l=n(47),c=n(77),u=n(79),p=n(3),f=n(19),d=n(5),h=n(135),m=n(2);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(79));var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.updateAll=function(){},t.prototype.render=function(){return a.createElement(v,o({},this.props))},t.displayName="MainHeader",t.Content=new s.DynamicContentStore(n.displayName),t.defaultProps={logoUrl:void 0},t=n=i([s.withDefaultPropsUpdate],t)}(a.PureComponent);t.MainHeader=g;var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSidebarButtonClick=function(){f.Actions.toggleSidebar()},t.onSidebarButtonBlur=function(e){var t=document.getElementsByClassName("Twilio-SideNav-Container"),n=null;if(t.length>0&&(n=t[0]),n)for(var r=e.relatedTarget;r;){if(r===n)return;r=r.parentElement}f.Actions.hideSidebar()},t}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.theme,n=e.logoUrl,r=e.incomingTasks;return a.createElement(s.DynamicComponent,{contentStore:g.Content,childProps:this.props,name:g.displayName,customChildren:this.props.children},a.createElement(u.Container,null,a.createElement(s.ContentFragment,{align:"start"},a.createElement(u.StyledIconButton,{key:"sidenav-button",themeOverride:t.MainHeader.Button,icon:r?"HamburgerNotify":"Hamburger",onClick:this.onSidebarButtonClick,onBlur:this.onSidebarButtonBlur}),n?a.createElement(u.HeaderLogoImage,{key:"logo",src:n}):a.createElement(h.default,{key:"logo"})),a.createElement(s.ContentFragment,{align:"end"},a.createElement(l.MuteButton,{key:"mute-button",themeOverride:t.MainHeader.Button}),a.createElement(c.UserControls,{key:"user-controls"}))))},t=i([m.withTheme,p.connect(function(e){return{incomingTasks:!!Array.from(e.worker.tasks.values()).find(function(e){return d.TaskHelper.isPending(e)})}})],t)}(a.PureComponent)},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);t.default=function(e){return o.createElement("svg",r({viewBox:"0 0 150 32",width:"150px",height:"32px"},e),o.createElement("g",{fill:"none",fillRule:"evenodd"},o.createElement("path",{d:"M0 0h150v32H0z"}),o.createElement("g",{fill:"currentColor"},o.createElement("path",{d:"M42.524 11.83h-3.472V21h-1.05v-9.17H34.6v-.98h7.77l.154.98zm17.54-.98l-3.192 10.192h-.924l-3.052-8.722-3.038 8.722h-.896L45.798 10.99l1.064-.238 2.618 8.61 2.898-8.512h1.078l2.94 8.512 2.576-8.512h1.092zM65.438 21h-1.064V10.85h1.064V21zm10.302 0h-5.264V10.85h1.05v9.17h4.06l.154.98zm5.136 0h-1.064V10.85h1.064V21zm14.096-5.082c0 3.108-1.96 5.278-4.788 5.278-2.828 0-4.76-2.156-4.76-5.25 0-3.122 1.96-5.278 4.788-5.278 2.828 0 4.76 2.142 4.76 5.25zm-1.106.014c0-2.576-1.456-4.312-3.682-4.312-2.212 0-3.668 1.736-3.668 4.298 0 2.59 1.47 4.312 3.682 4.312 2.226 0 3.668-1.722 3.668-4.298zm16.516-4.102h-4.242v3.542h3.388l.154.966h-3.542V21h-1.05V10.85h5.292v.98zM119.76 21h-5.264V10.85h1.05v9.17h4.06l.154.98zm9.616 0h-5.642V10.85h5.488v.98h-4.438v3.374h3.514l.154.98h-3.668v3.85h4.592V21zm11.926-.14l-1.064.224-3.22-4.62L133.91 21h-1.162l3.668-5.278-3.304-4.718 1.05-.224 2.87 4.172 2.8-4.102h1.162l-3.36 4.844 3.668 5.166zM8.852 14.253l4.324 4.325a.499.499 0 0 1 .146.353v4.568a.5.5 0 0 1-.852.354l-4.324-4.326A.495.495 0 0 1 8 19.174v-4.568a.5.5 0 0 1 .852-.353zM8.503 8h10.673c.132 0 .26.052.352.146l4.325 4.325a.5.5 0 0 1-.353.852H13.321a.49.49 0 0 0 0 .978h3.306c.132 0 .26.052.353.145l4.324 4.326a.5.5 0 0 1-.353.852h-5.1a.503.503 0 0 1-.353-.146l-7.352-7.34A.495.495 0 0 1 8 11.785V8.503C8 8.225 8.226 8 8.503 8z"}))))}},function(e,t){e.exports=require("react-flip-move")},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var a,s,l,c,u=n(1),p=n(2),f=n(0),d=p.default("button")(a||(a=r(["\n    margin-top: auto;\n    margin-bottom: auto;\n    padding: 0px 12px;\n    width: 100%;\n    white-space: nowrap;\n    border: none;\n    background: none;\n    outline: none;\n    text-align: left;\n\n    font-size: 10px;\n    font-weight: bold;\n    letter-spacing: 2px;\n\n    margin-right: auto;\n    display: flex;\n    align-items: center;\n    width: auto;\n\n    :hover, :focus {\n        background: initial;\n    }\n    ","\n"],["\n    margin-top: auto;\n    margin-bottom: auto;\n    padding: 0px 12px;\n    width: 100%;\n    white-space: nowrap;\n    border: none;\n    background: none;\n    outline: none;\n    text-align: left;\n\n    font-size: 10px;\n    font-weight: bold;\n    letter-spacing: 2px;\n\n    margin-right: auto;\n    display: flex;\n    align-items: center;\n    width: auto;\n\n    :hover, :focus {\n        background: initial;\n    }\n    ","\n"])),function(e){return e.theme.TaskList.Filter.EntryButton}),h=p.default(f.Icon)(s||(s=r(["\n    margin-left: 4px;\n    margin-top: auto;\n    margin-bottom: auto;\n"],["\n    margin-left: 4px;\n    margin-top: auto;\n    margin-bottom: auto;\n"])));t.StyledModalPopupWithEntryControl=p.default(f.ModalPopupWithEntryControl)(l||(l=r(["\n    border-style: solid;\n    border-width: 0 0 1px 0;\n    z-index: 1;\n    position: relative;\n    ","\n"],["\n    border-style: solid;\n    border-width: 0 0 1px 0;\n    z-index: 1;\n    position: relative;\n    ","\n"])),function(e){return e.theme.TaskList.Filter.Container}),t.TaskFilterButton=function(e){var t=e.content,n=e.isOpen,r=i(e,["content","isOpen"]);return u.createElement(d,o({},r),t,u.createElement(h,{icon:n?"FilterUp":"Filter"}))},t.StyledMenu=p.default(f.Menu)(c||(c=r(["\n    box-shadow: 1px 2px 3px 0 rgba(0, 0, 0, 0.25);\n"],["\n    box-shadow: 1px 2px 3px 0 rgba(0, 0, 0, 0.25);\n"])))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(37),c=n(0),u=n(3),p=n(2),f=n(139),d=n(32),h=n(9),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getBaseRoute=function(){return t.props.route.match&&t.props.route.match.url.replace(/\/$/,"")},t.renderChildren=function(e){return s.createElement(v,i({},t.props,{route:e}))},t}var n;return r(t,e),n=t,t.updateAll=function(){},t.prototype.render=function(){var e=this.getBaseRoute();return s.createElement(l.Route,{path:e+"/:taskSid?",children:this.renderChildren})},t.displayName="AgentDesktopView",t.Content=new c.DynamicContentStore(n.displayName),t.Panel1=f.Panel1,t.Panel2=f.Panel2,t.defaultProps={showPanel2:!0,splitterOptions:void 0},t=n=a([c.withDefaultPropsUpdate],t)}(s.PureComponent);t.AgentDesktopView=m;var g,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSplitterNeedsUpdate=function(){setTimeout(function(){t.splitter&&(t.splitter.reInit(),t.forceUpdate())},0)},t.handleResize=function(){u.FlexModule.events.emitSplitterResize()},t.makeSplitterRef=function(e){t.splitter=e},t}var n;return r(t,e),n=t,t.prototype.componentDidMount=function(){u.FlexModule.events.addListener(d.FlexEvent.flexSplitterResize,this.handleSplitterNeedsUpdate),u.FlexModule.events.addListener(d.FlexEvent.selectedViewChanged,this.handleSplitterNeedsUpdate)},t.prototype.componentWillUnmount=function(){u.FlexModule.events.removeListener(d.FlexEvent.flexSplitterResize,this.handleSplitterNeedsUpdate),u.FlexModule.events.removeListener(d.FlexEvent.selectedViewChanged,this.handleSplitterNeedsUpdate)},t.prototype.getTaskSidFromRoute=function(e){return e.match&&e.match.params.taskSid},t.prototype.renderContents=function(e){var t=i({},this.props,{selectedTaskSid:e});if(!this.props.showPanel2)return s.createElement(f.Panel1,i({key:"panel1"},t));var r=this.props.splitterOptions?this.props.splitterOptions:{};return s.createElement(c.ContentFragment,{align:"start"},s.createElement(c.SplitContentContainer,{key:"splitter",onResize:this.handleResize,ref:this.makeSplitterRef,firstInitialSize:r.hasOwnProperty("initialFirstPanelSize")?r.initialFirstPanelSize:"50%",firstMinSize:r.hasOwnProperty("minimumFirstPanelSize")?r.minimumFirstPanelSize:"276",secondMinSize:r.hasOwnProperty("minimumSecondPanelSize")?r.minimumSecondPanelSize:"40%",vertical:!1,separator:s.createElement(y,null),lastSplitterState:n.splitterState},s.createElement(f.Panel1,i({},t)),s.createElement(f.Panel2,i({},t))))},t.prototype.render=function(){var e=this.getTaskSidFromRoute(this.props.route);return s.createElement(h.TaskContextSource,{key:"container",taskSid:e},s.createElement(c.DynamicComponent,{name:m.displayName,contentStore:m.Content,childProps:this.props,customChildren:this.props.children},this.renderContents(e)))},t.splitterState=new c.LastSplitterState,t=n=a([u.connect(function(e){return{tasks:e.worker.tasks}})],t)}(s.PureComponent),y=p.default("div")(g||(g=o(["\n    height: 100%;\n    width: 0px;\n    background: ",";\n"],["\n    height: 100%;\n    width: 0px;\n    background: ",";\n"])),function(e){return e.theme.AgentDesktopView.ContentSplitter.borderColor})},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(0),c=n(2),u=n(31),p=n(3),f=n(32),d=c.default("div")(v||(v=r(["\n    display: flex;\n    border-style: solid;\n    border-width: 1px 0 1px 0;\n    height: 24px;\n    width: 100%;\n    div {\n        margin: auto;\n    }\n    ","\n"],["\n    display: flex;\n    border-style: solid;\n    border-width: 1px 0 1px 0;\n    height: 24px;\n    width: 100%;\n    div {\n        margin: auto;\n    }\n    ","\n"])),function(e){return e.theme.AgentDesktopView.ContentSplitter}),h=c.default("div")(y||(y=r(["\n    height: 100%;\n    width: 1px;\n    background: ",";\n"],["\n    height: 100%;\n    width: 1px;\n    background: ",";\n"])),function(e){return e.theme.AgentDesktopView.ContentSplitter.borderColor}),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSplitterNeedsUpdate=function(){setTimeout(function(){t.splitter&&t.splitter.reInit()},0)},t.makeSplitterRef=function(e){t.splitter=e},t}return o(t,e),t.prototype.componentDidMount=function(){p.FlexModule.events.addListener(f.FlexEvent.flexSplitterResize,this.handleSplitterNeedsUpdate),p.FlexModule.events.addListener(f.FlexEvent.selectedViewChanged,this.handleSplitterNeedsUpdate)},t.prototype.componentWillUnmount=function(){p.FlexModule.events.removeListener(f.FlexEvent.flexSplitterResize,this.handleSplitterNeedsUpdate),p.FlexModule.events.removeListener(f.FlexEvent.selectedViewChanged,this.handleSplitterNeedsUpdate)},t.prototype.render=function(){var e=this,n={vertical:!0,primMin:"20%",secMin:"40%",initial:"35%"};this.props.vertical||(n={vertical:!1,primMin:"276",secMin:"276",initial:"320"});return s.createElement(l.SplitContentContainer,{ref:this.makeSplitterRef,vertical:this.props.vertical,firstMinSize:n.primMin,secondMinSize:n.secMin,firstInitialSize:n.initial,separator:e.props.vertical?s.createElement(d,null,s.createElement(l.Icon,{icon:"Resize"})):s.createElement(h,null),lastSplitterState:t.lastSplitterState},this.props.children)},t.lastSplitterState=new l.LastSplitterState,t}(s.PureComponent);t.ContentSplitter=m,t.LeftPanelRootContainer=c.default("div")(k||(k=r(["\n    display: flex;\n    flex-direction: column;\n    flex: 1 1 auto;\n    width: 100%;\n    ","\n"],["\n    display: flex;\n    flex-direction: column;\n    flex: 1 1 auto;\n    width: 100%;\n    ","\n"])),function(e){return e.theme.AgentDesktopView.Panel1});var g=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleResize=function(e){setTimeout(function(){t.forceUpdate()},0)},t.handleParentSplitterChange=function(){setTimeout(function(){t.forceUpdate()},0)},t.makeInnerRef=function(e){t.container=e},t.handleTaskSelected=function(e){l.Actions.invokeAction("SelectTask",{sid:e})},t}var r;return o(n,e),r=n,n.prototype.componentDidMount=function(){var e=this;p.FlexModule.events.addListener(f.FlexEvent.flexSplitterResize,this.handleParentSplitterChange),p.FlexModule.events.addListener(f.FlexEvent.selectedViewChanged,this.handleParentSplitterChange),window.addEventListener("resize",this.handleResize),setTimeout(function(){return e.forceUpdate()},1)},n.prototype.componentWillUnmount=function(){p.FlexModule.events.removeListener(f.FlexEvent.flexSplitterResize,this.handleParentSplitterChange),p.FlexModule.events.removeListener(f.FlexEvent.selectedViewChanged,this.handleParentSplitterChange),window.removeEventListener("resize",this.handleResize)},n.prototype.render=function(){var e=!0;this.container&&(e=this.container.getBoundingClientRect().width<552);return s.createElement(l.DynamicComponent,{name:r.friendlyName,contentStore:r.Content,childProps:this.props,customChildren:this.props.children,vertical:!0},s.createElement(t.LeftPanelRootContainer,i({},this.props,{innerRef:this.makeInnerRef}),this.props.tasks.size>0?s.createElement(m,{key:"splitter",vertical:e},s.createElement(u.TaskListContainer,{tasks:this.props.tasks,selectedTaskSid:this.props.selectedTaskSid,onTaskSelected:this.handleTaskSelected}),s.createElement(u.TaskCanvas,{key:"taskCanvas"})):s.createElement(u.NoTasksCanvas,{key:"no-tasks"}),s.createElement(u.WorkerDirectory,{key:"worker-directory"})))},n.friendlyName="AgentDesktopView.Panel1",n.displayName=r.friendlyName,n.Content=new l.DynamicContentStore(r.friendlyName),n=r=a([c.withTheme],n)}(s.Component);t.Panel1=g,t.RightPanelRootContainer=c.default(l.FlexBoxColumn)(C||(C=r(["\n    ","\n"],["\n    ","\n"])),function(e){return e.theme.AgentDesktopView.Panel2});var v,y,k,C,b=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.render=function(){return s.createElement(l.DynamicComponent,{name:n.friendlyName,contentStore:n.Content,childProps:this.props,customChildren:this.props.children,vertical:!0},s.createElement(t.RightPanelRootContainer,null,s.createElement(u.CRMContainer,{key:"container"})))},n.friendlyName="AgentDesktopView.Panel2",n.displayName=n.friendlyName,n.Content=new l.DynamicContentStore(n.friendlyName),n}(s.PureComponent);t.Panel2=b},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),l=n(3),c=n(38),u=n(21),p=n(4),f=n(97),d=n(2);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(97));var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement(m,o({},this.props))},t.displayName="LoginView",t.defaultProps={logoUrl:void 0},t=i([s.withDefaultPropsUpdate],t)}(a.PureComponent);t.LoginView=h;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleLoginClick=function(){var e=t.props.ssoConfig;return c.SSOLoginHandler.create(e).then(function(e){u.Actions.ssoLogin(e)})},t}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.session,n=e.logoUrl;return a.createElement(f.Container,{className:"Twilio-LoginView-Container"},a.createElement(f.LogoContainer,{className:"Twilio-LoginView-LogoContainer"},a.createElement(f.LoginLogo,{url:n})),a.createElement(f.ControlsContainer,{className:"Twilio-LoginView-Controls"},t.loginState!==u.LoginState.LoggingIn&&a.createElement(f.LoginButton,{className:"Twilio-LoginView-LoginButton",themeOverride:this.props.theme.LoginView.LoginButton,onClick:this.handleLoginClick,roundCorners:!1},a.createElement(p.Template,{source:p.templates.LoginLogin})),t.loginState===u.LoginState.LoggingIn&&a.createElement(f.LoadingContainer,{className:"Twilio-LoginView-Loading"},a.createElement(p.Template,{source:p.templates.LoginLoading}))))},t=i([d.withTheme,l.connect(function(e){return{session:e.session,ssoConfig:e.config.sso}})],t)}(a.PureComponent)},function(e,t){e.exports=require("twilio-chat")},function(e,t){e.exports=require("twilio-sync")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(89),o=n(6),i=n(0),a=n(90),s=n(3),l=function(){function e(e){var t=this;this.transfer=function(e,n){return n.mode&&"COLD"===n.mode?t._reservation.updateParticipant({endConferenceOnExit:!1}).then(function(){return t._task.transfer(e,n).catch(function(e){throw t._reservation.updateParticipant({endConferenceOnExit:!0}),e})}).then(function(){o.default.debug("transfer of task "+t._task.sid+" to "+e+" successful")}).catch(function(n){throw o.default.debug("transfer of task "+t._task.sid+" to "+e+" unsuccessful",n),i.Notifications.showNotification(a.TransferFailed),n}):t._task.transfer(e,n).then(function(){o.default.debug("transfer of task "+t._task.sid+" to "+e+" successful")}).catch(function(n){throw o.default.debug("transfer of task "+t._task.sid+" to "+e+" unsuccessful",n),i.Notifications.showNotification(a.TransferFailed),n})},this.setAttributes=function(e){return t._task.setAttributes(e)},this.wrapUp=function(){return t._reservation.wrap()},this.complete=function(){return t._reservation.complete()},this.hold=function(){return t._task.updateParticipant({hold:!0})},this.unhold=function(){return t._task.updateParticipant({hold:!1})},this._reservation=e,this._task=e.task,this._transferObject=!!this._reservation.transfer&&new r.TaskTransfer(this._reservation.transfer)}return Object.defineProperty(e.prototype,"source",{get:function(){return this._task},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourceObject",{get:function(){return this._reservation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addOns",{get:function(){return this._task.addOns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"age",{get:function(){return this._task.age},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){return this._task.attributes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateCreated",{get:function(){return this._reservation.dateCreated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateUpdated",{get:function(){return this._reservation.dateUpdated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"priority",{get:function(){return this._task.priority},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queueName",{get:function(){return this._task.queueName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queueSid",{get:function(){return this._task.queueSid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reason",{get:function(){return this._task.reason},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sid",{get:function(){return this._reservation.sid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taskSid",{get:function(){return this._task.sid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._reservation.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taskStatus",{get:function(){return this._task.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taskChannelSid",{get:function(){return this._task.taskChannelSid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taskChannelUniqueName",{get:function(){return this._task.taskChannelUniqueName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeout",{get:function(){return this._task.timeout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workflowName",{get:function(){return this._task.workflowName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workflowSid",{get:function(){return this._task.workflowSid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"workerSid",{get:function(){return this._reservation.workerSid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultFrom",{get:function(){var e=this.attributes;return e.name||e.from||"Anonymous"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"channelType",{get:function(){return this.attributes.channelType||this.taskChannelUniqueName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"transferObject",{get:function(){return this._transferObject},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"conference",{get:function(){return s.FlexModule.state.conferences.states.get(this.taskSid)},enumerable:!0,configurable:!0}),e}();t.TaskRouterTask=l;var c=function(){function e(e){this._source=e}return Object.defineProperty(e.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sid",{get:function(){return this.source.sid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.source.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullName",{get:function(){return this.source.attributes.full_name||this.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activityName",{get:function(){return this.source.activity.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){return this.source.attributes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateUpdated",{get:function(){return this.source.dateUpdated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAvailable",{get:function(){return this.source.activity&&this.source.activity.available},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activityDuration",{get:function(){return this.source&&this.source.dateStatusChanged?i.Utils.formatTimeDuration(Math.max(Date.now()-new Date(this.source.dateStatusChanged).getTime(),0),"short"):""},enumerable:!0,configurable:!0}),e}();t.TaskRouterWorker=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(41),o=function(){function e(e,t,n,r){this._state=void 0,this._state={worker:e,tasks:[]},this.taskFilter=r,this.initInsightsQuery(t),this.onTasksUpdated=n}return Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.updateWorker=function(e){this._state.worker=e},e.prototype.getTasksFromItems=function(e){var t=[];for(var n in e){var o=e[n];t.push(new r.InsightsTask(o))}return t},e.prototype.updateTasksInState=function(e){this._state={tasks:e,worker:this.state.worker},this.onTasksUpdated(this)},e.prototype.onTasksItemsUpdated=function(e){var t=this.getTasksFromItems(e);this.updateTasksInState(t)},e.prototype.onTaskItemUpdated=function(e){var t=new r.InsightsTask(e.value),n=this._state.tasks.slice(),o=n.findIndex(function(e){return e.sid===t.sid});o>=0?n[o]=t:n.push(t),this.updateTasksInState(n)},e.prototype.onTaskItemRemoved=function(e){var t=this._state.tasks.filter(function(t){return t.sid!==e.key});this.updateTasksInState(t)},e.prototype.initInsightsQuery=function(e){var t=this;this.unInit();var n='data.worker_sid == "'+this.state.worker.sid+'"';this.taskFilter&&(n=n+" && ("+this.taskFilter+")"),e.liveQuery("tr-reservation",n).then(function(e){t.liveQuery=e,t.onTasksItemsUpdated(e.getItems()),e.on("itemUpdated",function(e){t.onTaskItemUpdated(e)}),e.on("itemRemoved",function(e){t.onTaskItemRemoved(e)})})},e.prototype.unInit=function(){this.liveQuery&&(this.liveQuery.removeAllListeners(),this.liveQuery.close())},e}();t.WorkerListener=o},function(e,t){e.exports=require("twilio-taskrouter")},function(e,t){e.exports=require("redux-logger")},function(e,t){e.exports=require("redux-promise-middleware")},function(e,t){e.exports=require("history/createBrowserHistory")},function(e,t){e.exports=require("history/createMemoryHistory")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={language:"en-US",colorTheme:"BlueMediumTheme",pluginService:{enabled:!0,url:"https://flex.twilio.com/plugins"},sdkOptions:{insights:{productId:"flex_insights"}},flexServiceUrl:"https://preview.twilio.com/Flex",flexConfigServiceUrl:"https://flex-api.twilio.com/v1/Configuration"}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i='\n<h1>TASK CONTEXT</h1>\n<h2>Task type</h2>\n<p>{{task.channelType}}</p>\n<h2>Task created on</h2>\n<p>{{task.dateCreated}}</p>\n<h2>Task priority</h2>\n<p>{{task.priority}}</p>\n<h2>Task queue</h2>\n<p>{{task.queueName}}</p>\n<h2>Task Sid</h2>\n<p>{{task.taskSid}}</p>\n<h2>Reservation Sid</h2>\n<p>{{task.sid}}</p>\n<hr />\n<h1>CUSTOMER CONTEXT</h1>\n<h2>Customer name / phone number</h2>\n<p>{{task.defaultFrom}}</p>\n<h2>Country</h2>\n<p>{{task.attributes.caller_country}}</p>\n<hr />\n<h1>ADDONS</h1>\n<p>\n    No add-ons enabled.\n    To expand your experience, visit\n</p>\n<a href="https://www.twilio.com/marketplace/add-ons" target="blank">Twilio Marketplace</a>',a=r({},o.languages.default,{SetYourStatus:"Set your status",LogOut:"Log out",SigningIn:"Signing in",SessionExpired:"Your session has expired. <a href='#' onClick='window.location.reload()'>Click here to log in again</a>",NoTasksTitle:"Status",NoTasks:"No active tasks",NoTasksHintNotAvailable:"Change activity state to start receiving tasks.",NoTasksHintAvailable:"You are ready to start receiving tasks.",NoCRMConfigured:"No CRM configured",NoCRMConfiguredAction:"HOW TO CONFIGURE",NoCRMTitle:"CRM config",NoCRMHint:"Our docs can help you get started.",LoginUsername:"User Name",LoginPassword:"Password",LoginLoading:"Loading ...",LoginWelcome:"Hi there, welcome to Flex!",LoginLogin:"LOGIN",LoginContinue:"Continue anyway",LoginAgain:"Login again",LoginLaunch:"Launch",LoginTitle:"Twilio Flex",LoginErrorDomain:"Oops! Your runtime domain is incorrect.",LoginErrorDomainDetails:"Find your runtime domain <a href='https://www.twilio.com/console/runtime/overview'>here</a>",LoginErrorSso:"Hmm, Single Sign-On has not been configured.",LoginErrorSsoDetails:"Find out how to configure Single Sign-On <a href='https://www.twilio.com/console/flex/users/single-sign-on'>here</a>",LoginErrorPopupBlocked:"Sorry, pop-ups are blocked.",LoginErrorPopupBlockedDetails:"<a href='https://support.google.com/chrome/answer/95472'>Find out how to enable pop-ups in your browser</a>",LoginErrorUntrustedDomain:"Trusted Login has not been enabled for this domain.",LoginErrorUntrustedDomainDetails:"Find out how to configure Single Sign-On <a href='https://www.twilio.com/docs/flex/configuring-single-sign-and-identity-provider-integration#how-do-i-login-to-a-self-hosted-domain' target='_blank'>here</a>",LoginErrorGeneric:"Oops! Well, that didn’t work :( Please double check your configuration.",LoginIsAdmin:"Flex Admin?",LoginWithTwilio:"Login with Twilio.",TaskHeaderLeaveCall:"LEAVE CALL",TaskHeaderEndCall:"HANG UP",TaskHeaderWrapup:"WRAP UP",TaskHeaderComplete:"COMPLETE",TaskHeaderEndChat:"END CHAT",SideNavTaskView:"Agent Desktop",SideNavTeamsView:"Teams",SideNavAgentDashboard:"Agent Dashboard",SideNavSupervisorInspections:"Supervisor Inspections",SideNavSupervisorDashboard:"Supervisor Dashboard",SideNavSupervisorReports:"Supervisor Reports",SideNavSettings:"Settings",SideNavQueuesStatsView:"Queue Stats",TaskHeaderLine:"{{task.defaultFrom}}",TaskExtraInfo:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",TaskLineCallIncomingTitle:"Incoming call",TaskLineCallTransferTitle:"Transfer request",TaskLineCallEndedTitle:"Call ended",TaskLineQueue:"Queue: {{task.queueName}}",TaskLineCallDuration:"{{helper.durationSinceUpdate}}",TaskLineCallReserved:"Incoming call from queue {{task.queueName}}",TaskLineCallAssigned:"Live | {{helper.durationSinceUpdate}}",TaskLineCallWrapup:"Wrap up | {{helper.durationSinceUpdate}}",TaskLineGroupCallAssigned:"Live | {{helper.durationSinceUpdate}} | {{{icon name='Participant'}}} {{task.conference.liveParticipantCount}}",TaskLineCallTransferWorker:"Request from {{task.transferObject.worker.fullName}} (direct)",TaskLineCallTransferWorkerDetail:"From: {{task.transferObject.worker.fullName}} (direct)<br />Queue: {{task.queueName}}",TaskLineCallTransferQueue:"Request from {{task.transferObject.getWorker.fullName}} ({{task.transferObject.queue.name}})",TaskLineCallTransferQueueDetail:"From: {{task.transferObject.getWorker.fullName}}<br />Queue: {{task.queueName}}",TaskLineChatReserved:"Incoming chat request",TaskLineChatLineReserved:"Incoming Line request",TaskLineChatMessengerReserved:"Incoming Messenger request",TaskLineChatWhatsAppReserved:"Incoming WhatsApp request",TaskLineSmsReserved:"Incoming SMS request",TaskLineChatAssigned:"{{helper.durationSinceUpdate}} | {{#if helper.lastChatMessage}} {{helper.lastChatMessage.authorName}}: {{helper.lastChatMessage.body}}{{else}}No messages{{/if}}",TaskReserved:"Reserved",TaskAssigned:"Assigned",TaskWrapup:"In wrap up",TaskCompleted:"Completed",TaskCanceled:"Canceled",TaskFilterAll:"ALL TASKS",TaskFilterActive:"ACTIVE TASKS",TaskFilterWrapping:"TASKS IN WRAP UP",TaskInfoPanelContent:i,ColumnHeaderAgent:"AGENT",ColumnHeaderCalls:"CALLS",ColumnHeaderTasks:"OTHER TASKS",SupervisorUserCardFirstLine:"{{worker.fullName}}",SupervisorUserCardSecondLine:"{{worker.activityName}} | {{worker.activityDuration}}",SupervisorTaskViewContentHeader:"{{worker.fullName}}, {{task.defaultFrom}}",SupervisorTaskHeaderLine:"{{worker.fullName}}, {{task.defaultFrom}}",SupervisorTaskLive:"{{helper.durationSinceUpdateShort}}",SupervisorTaskGroupCall:"{{helper.durationSinceUpdateShort}} | ({{task.conference.liveParticipantCount}})",SupervisorTaskWrapUp:"Wrap up | {{helper.durationSinceUpdateShort}}",SupervisorTaskCompleted:"Completed | {{helper.durationSinceUpdateShort}}",SupervisorTaskCardHeader:"{{task.defaultFrom}}",SupervisorTaskInfoPanelContent:i,LiveCommsMonitoringMessage:"You are listening to a call with {{worker.fullName}} and {{task.defaultFrom}}",LiveCommsOngoingCallMessage:"You are on a call with {{task.defaultFrom}}",LiveCommsIncomingCallMessage:"Incoming call from {{task.defaultFrom}}",LiveCommsBarAccept:"accept",LiveCommsBarDeny:"reject",LiveCommsBarReturnToCall:"RETURN",LiveCommsBarStopListening:"STOP LISTENING",LiveCommsBarHold:"HOLD",LiveCommsBarUnHold:"UNHOLD",WorkerDirectoryTitle:"Directory",WorkerDirectoryItemFirstLine:"{{worker.fullName}}",WorkerDirectoryItemSecondLine:"{{worker.activityName}}",WorkerDirectoryAgentsTabLabel:"AGENTS",WorkerDirectoryQueuesTabLabel:"QUEUES",WorkerDirectoryQueueItemText:"{{queue.name}}",WorkerDirectorySearchPlaceholder:"Search",ChatInputDisabledText:"Conversation ended",WorkerCanvasHeader:"Profile",WorkerCanvasDetailsHeader:"Agent Details",WorkerCanvasSkillsHeader:"Skills",WorkerSkillLevelInvalid:"Please select a skill level between {{min}} - {{max}}",WorkerSkillPleaseSelect:"Add skill",WorkerSkillsNoSkills:"No skills attributed",WorkerSkillsSchemaMismatch:"Worker skills schema mismatch",WorkerSkillsSaved:"Changes saved successfully",WorkerSkillsError:"Failed to save changes",WorkerSkillsReverted:"Changes reverted",ChatWelcomeText:"Conversation started with customer",UiVersionDeprecated:"{{message}}",RuntimeLoginLabel:"Runtime domain",RuntimeLoginPlaceholder:"Your Runtime Domain",RuntimeLoginLaunch:"Launch",RuntimeLoginWithTwilio:"Login with Twilio.",RuntimeLoginIsAdmin:"Flex Admin?",RuntimeLoginErrorDomain:"Oops! Well, that didn’t work :( Check your <b>domain</b>.",RuntimeLoginErrorSso:"Oops! Well, that didn’t work :( Check your <b>SSO</b> setup.",TransferFailedNotification:"Agent unavailable",SupervisorTaskCanvasHeader:"TASK DETAILS",TaskTabAgentIncomingLabel:"Incoming",TaskTabAgentCallLabel:"Call",TaskTabAgentChatLabel:"Chat",TaskTabAgentInfoLabel:"Info",TaskTabSupervisorOverviewLabel:"Overview",TaskTabSupervisorInfoLabel:"Info",MicNotAvailableNotification:"Unable to access microphone, please check browser settings.",BrowserVoiceDisabledNotification:"Call cannot be accepted. Twilio Voice SDK has been disabled.",MessageSizeExceeded:"The entered character number exceeds the limit - {{currentCharCount}}/{{maxCharCount}}",UserControlWorkerSecondLine:"{{worker.activityName}} | {{worker.activityDuration}}",UserLoggedOutSuccess:"You have logged out successfully!",CannotChangeOtherWorkerActivity:"You cannot change an agent’s activity while they have a pending task/reservation.",CallParticipantStatusOnHold:"On Hold",CallParticipantStatusLive:"Live",CallParticipantStatusConnecting:"Calling...",CallParticipantStatusLeft:"Caller left",CallParticipantStatusTransferFailed:"No Answer",LiveCommsIncomingDirectCallTransfer:"Request from {{task.transferObject.worker.fullName}} (direct)",LiveCommsIncomingQueueCallTransfer:"Request from {{task.transferObject.getWorker.fullName}} ({{task.transferObject.queue.name}})",CallParticipantCustomerName:"{{task.defaultFrom}}",MonitoringFailedNotification:"Monitoring attempt has failed",PredefinedChatMessageAuthorName:"Bot",PredefinedChatMessageBody:"Hi there! How can we help you today?",AgentStatusAvailable:"Available",AgentStatusBusy:"Busy",AgentStatusUnavailable:"Unavailable",AgentStatusOffline:"Offline",ActiveTasksTileTitle:"Active tasks",WaitingTasksTileTitle:"Waiting tasks",AgentsByActivityTileTitle:"Agents",LongestWaitTimeTileTitle:"Longest wait",QueuesNoDataHeading:"Queues",QueuesNoDataBodyForAdmin:"You have no Queues set up. Please configure your Queues.",QueuesNoDataBodyForSupervisor:"There are no Queues set up. Please contact your Administrator.",QueuesNoDataLinkLabelForAdmin:"Add Queue"});t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deprecatedSetter=function(e){return function(t,n,r){var o=r.set;return r.set=function(t){return console.warn("Warning! Setter '"+n+"' has been deprecated,please use '"+e+"' instead!"),o.call(this,t)},r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(61),o=n(6),i=n(14),a="FlexUiVersionDeprecated",s={id:a,content:"UiVersionDeprecated",type:i.NotificationType.warning,timeout:0};i.Notifications.registerNotification(s),t.isCompatible=function(e,t){switch(void 0===t&&(t=void 0),e){case"yes":return!0;case"deprecated":return i.Notifications.showNotification(a,{message:t}),o.default.warn("This version of Flex is deprecated and will not work with future version of back end services. Please contact your administrator. UI version",r.VERSION,t),!0;default:return o.default.error("This version of Flex is not compatible with back end services. UI version",r.VERSION,t),!1}}},function(e,t){e.exports=require("@twilio/wfo-identity-client-flex")},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(27),a={colors:r({},i.default.colors,o.GreyLight.colors),lightTheme:!0};t.GreyLight=a,t.default=a},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(27),a={colors:r({},i.default.colors,o.GreyDark.colors),lightTheme:!1};t.GreyDark=a,t.default=a},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(27),a={colors:r({},i.default.colors,o.FlexDark.colors),lightTheme:!1};t.FlexDark=a,t.default=a},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(27),a={colors:r({},i.default.colors,o.FlexLight.colors),lightTheme:!0};t.FlexLight=a,t.default=a},function(e,t){e.exports=require("@material-ui/core/styles")},function(e,t){e.exports=require("react-jss")},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,l,c,u,p,f,d,h,m,g=n(0),v=n(42),y=n(2),k=n(98);t.Container=y.default("div")(o||(o=r(["\n    height: 100%;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex: 1 1 auto;\n    justify-content: center;\n    ","\n\n    a, a:active, a:hover, a:link, a:visited {\n        color: inherit;\n    }\n"],["\n    height: 100%;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex: 1 1 auto;\n    justify-content: center;\n    ","\n\n    a, a:active, a:hover, a:link, a:visited {\n        color: inherit;\n    }\n"])),function(e){return e.theme.LoginFormView.Container}),t.VerticalContainer=y.default("div")(i||(i=r(["\n    width: ",";\n    border-style: solid;\n    border-width: ",";\n    min-height: 430px;\n    display: flex;\n    flex: 0 1 604px;\n    flex-direction: column;\n    ","\n"],["\n    width: ",";\n    border-style: solid;\n    border-width: ",";\n    min-height: 430px;\n    display: flex;\n    flex: 0 1 604px;\n    flex-direction: column;\n    ","\n"])),function(e){return e.showBorder?"426px":"100%"},function(e){return e.showBorder?"1px":"0px"},function(e){return e.theme.LoginFormView.Container}),t.ContentContainer=y.default("div")(a||(a=r(["\n    display: flex;\n    flex: 1 1 auto;\n    flex-direction: column;\n    align-items: center;\n    padding-left: 30px;\n    padding-right: 30px;\n    padding-top: 32px;\n    padding-bottom: 32px;\n"],["\n    display: flex;\n    flex: 1 1 auto;\n    flex-direction: column;\n    align-items: center;\n    padding-left: 30px;\n    padding-right: 30px;\n    padding-top: 32px;\n    padding-bottom: 32px;\n"]))),t.FormContainer=y.default("div")(s||(s=r(["\n    display: flex;\n    align-items: center;\n    width: 100%;\n"],["\n    display: flex;\n    align-items: center;\n    width: 100%;\n"]))),t.Form=y.default("form")(l||(l=r(["\n    display: flex;\n    flex-direction: column;\n    flex: 1 1 auto;\n    max-width: 348px;\n    margin: auto;\n"],["\n    display: flex;\n    flex-direction: column;\n    flex: 1 1 auto;\n    max-width: 348px;\n    margin: auto;\n"]))),t.LoginLink=y.default("a")(c||(c=r(["\n    margin-left: 8px;\n"],["\n    margin-left: 8px;\n"]))),t.LoginButton=y.default(g.Button)(u||(u=r(["\n    text-transform: uppercase;\n    margin-top: 16px;\n"],["\n    text-transform: uppercase;\n    margin-top: 16px;\n"]))),t.StyledLogoWithCircle=y.default(k.LogoWithCircle)(p||(p=r(["\n    flex: 0 0 auto;\n    margin-top: 32px;\n"],["\n    flex: 0 0 auto;\n    margin-top: 32px;\n"]))),t.MessageContainer=y.default("div")(f||(f=r(["\n    font-size: 18px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    letter-spacing: normal;\n    text-align: center;\n\n    margin-top: 32px;\n    margin-bottom: 32px;\n"],["\n    font-size: 18px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    letter-spacing: normal;\n    text-align: center;\n\n    margin-top: 32px;\n    margin-bottom: 32px;\n"]))),t.ErrorDetailsContainer=y.default("div")(d||(d=r(["\n    font-size: 14px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    letter-spacing: normal;\n    text-align: center;\n\n    margin-top: 40px;\n"],["\n    font-size: 14px;\n    font-weight: normal;\n    font-style: normal;\n    font-stretch: normal;\n    letter-spacing: normal;\n    text-align: center;\n\n    margin-top: 40px;\n"]))),t.RuntimeDomainInput=y.default(v.default)(h||(h=r(["\n    margin-top: 16px;\n    margin-left: 2px;\n    margin-right: 2px;\n"],["\n    margin-top: 16px;\n    margin-left: 2px;\n    margin-right: 2px;\n"]))),t.AdminLinkContainer=y.default("div")(m||(m=r(["\n    margin-top: auto;\n    font-size: 12px;\n    font-weight: light;\n    text-align: center;\n"],["\n    margin-top: auto;\n    font-size: 12px;\n    font-weight: light;\n    text-align: center;\n"])))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(37),c=n(0),u=n(64),p=n(3),f=n(13),d=n(2),h=n(65),m=n(105),g=n(102),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getBaseRoute=function(){return t.props.route.match&&t.props.route.match.url.replace(/\/$/,"")},t.renderChildrenFromRoute=function(e){return s.createElement(k,i({},t.props,{route:e}))},t}return r(t,e),t.prototype.render=function(){var e=this.getBaseRoute();return s.createElement(l.Route,{path:e+"/:resource?/:sid?",children:this.renderChildrenFromRoute})},t.displayName="TeamsView",t.Content=new c.DynamicContentStore(t.displayName),t}(s.PureComponent);t.TeamsView=v;var y,k=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleTaskSelection=function(e){c.Actions.invokeAction("SelectTaskInSupervisor",{task:e})},t.handleWorkerSelection=function(e){c.Actions.invokeAction("SelectWorkerInSupervisor",{worker:e})},t}return r(n,e),n.prototype.getTaskSidFromRoute=function(e){return e.match&&"tasks"===e.match.params.resource&&e.match.params.sid},n.prototype.getWorkerSidFromRoute=function(e){return e.match&&"workers"===e.match.params.resource&&e.match.params.sid},n.prototype.render=function(){var e=f.SupervisorStateHelper.getTaskBySid(this.getTaskSidFromRoute(this.props.route)),n=this.getWorkerSidFromRoute(this.props.route)&&this.props.stickyWorker&&this.props.stickyWorker.worker;return s.createElement(c.DynamicComponent,{name:v.displayName,contentStore:v.Content,childProps:this.props,customChildren:this.props.children,noContainers:!0},s.createElement(t.Container,null,s.createElement(u.AgentsDataTable,{key:"agents-table",selectedTask:e,selectedWorker:n,monitoredTaskSid:this.props.monitoredTaskSid,onTaskSelected:this.handleTaskSelection,onWorkerSelected:this.handleWorkerSelection}),!!e&&s.createElement(g.SupervisorTaskContextSource,{key:"task-canvas",taskSid:e.sid},s.createElement(h.TaskCanvas,null)),!!n&&s.createElement(m.WorkerCanvas,{key:"worker-canvas",worker:n})))},n=a([p.connect(function(e){return{monitoredTaskSid:e.supervisor.callMonitoring.status===f.CallMonitoringStatus.monitoring?e.supervisor.callMonitoring.taskSid:"",workers:e.supervisor.workers,stickyWorker:e.supervisor.stickyWorker}}),d.withTheme],n)}(s.PureComponent);t.Container=d.default(c.FlexBox)(y||(y=o(["\n    ","\n"],["\n    ","\n"])),function(e){return e.theme.Supervisor.Container})},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,l,c,u=n(2),p=n(0);t.Container=u.default("div")(o||(o=r(["\n    display: flex;\n    height: 38px;\n    width: 132px;\n    overflow-y: hidden;\n    margin-top: 6px;\n    margin-bottom: 6px;\n    margin-left: 6px;\n    margin-right: 6px;\n\n    &:first-child {\n        margin-left: 0px;\n    }\n\n    border-radius: 2px;\n    border-style: solid;\n    cursor: pointer;\n    border-width: 1px;\n    ","\n    ","\n    & .Twilio-TaskCard-IconContainer {\n        background: ",";\n        color: ",";\n    };\n    & .Twilio-TaskCard-Content {\n        ",";\n    };\n    &:hover {\n        ","\n        & .Twilio-TaskCard-IconContainer {\n            ",";\n        }\n        & .Twilio-TaskCard-Content {\n            ",";\n        }\n    }\n\n"],["\n    display: flex;\n    height: 38px;\n    width: 132px;\n    overflow-y: hidden;\n    margin-top: 6px;\n    margin-bottom: 6px;\n    margin-left: 6px;\n    margin-right: 6px;\n\n    &:first-child {\n        margin-left: 0px;\n    }\n\n    border-radius: 2px;\n    border-style: solid;\n    cursor: pointer;\n    border-width: 1px;\n    ","\n    ","\n    & .Twilio-TaskCard-IconContainer {\n        background: ",";\n        color: ",";\n    };\n    & .Twilio-TaskCard-Content {\n        ",";\n    };\n    &:hover {\n        ","\n        & .Twilio-TaskCard-IconContainer {\n            ",";\n        }\n        & .Twilio-TaskCard-Content {\n            ",";\n        }\n    }\n\n"])),function(e){return e.theme.TaskCard.Container.Default},function(e){return e.selected?e.theme.TaskCard.Container.Selected:{}},function(e){return e.iconAreaStyleOverride.backgroundColor},function(e){return e.iconAreaStyleOverride.color},function(e){return e.contentAreaStyleOverride},function(e){return e.theme.TaskCard.Container.Hover},function(e){return p.getBackgroundWithHoverCSS(e.iconAreaStyleOverride.backgroundColor,e.theme.TaskCard.Container.Default.lightHover,!0)},function(e){return p.getBackgroundWithHoverCSS(e.contentAreaStyleOverride.backgroundColor,e.theme.TaskCard.Container.Default.lightHover,!0)}),t.SecondLineContainer=u.default("div")(i||(i=r(["\n    font-size:  10px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    padding-bottom: 4px;\n    text-align: left;\n"],["\n    font-size:  10px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    padding-bottom: 4px;\n    text-align: left;\n"]))),t.FirstLineContainer=u.default("div")(a||(a=r(["\n    font-size: 10px;\n    font-weight: bold;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    padding-top: 4px;\n    text-align: left;\n"],["\n    font-size: 10px;\n    font-weight: bold;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    padding-top: 4px;\n    text-align: left;\n"]))),t.Content=u.default("div")(s||(s=r(["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    overflow: hidden;\n    padding-left: 8px;\n    padding-right: 8px;\n    flex: 1 1 100%;\n"],["\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    overflow: hidden;\n    padding-left: 8px;\n    padding-right: 8px;\n    flex: 1 1 100%;\n"]))),t.IconContainer=u.default(p.Icon)(l||(l=r(["\n    flex: 0 0 36px;\n"],["\n    flex: 0 0 36px;\n"]))),t.StyledButton=u.default("button")(c||(c=r(["\n    padding: 0;\n    display: flex;\n    color: inherit;\n    outline: none;\n    background: none;\n    border: none;\n    svg {\n        margin: auto;\n    }\n"],["\n    padding: 0;\n    display: flex;\n    color: inherit;\n    outline: none;\n    background: none;\n    border: none;\n    svg {\n        margin: auto;\n    }\n"])))},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),l=n(2);t.Placeholder=l.default("div")(c||(c=r(["\n    height: 38px;\n    width: 132px;\n    margin: 6px 6px 6px 0;\n    border-radius: 2px;\n    border-style: solid;\n    border-width: 1px;\n    ","\n    ","\n"],["\n    height: 38px;\n    width: 132px;\n    margin: 6px 6px 6px 0;\n    border-radius: 2px;\n    border-style: solid;\n    border-width: 1px;\n    ","\n    ","\n"])),function(e){return"\n        background: repeating-linear-gradient(\n            127deg,\n            "+e.theme.colors.base2+",\n            "+e.theme.colors.base2+" 3px,\n            "+e.theme.colors.base1+" 3px,\n            "+e.theme.colors.base1+" 6px\n        );\n    "},function(e){return e.theme.TaskCardPlaceholder});var c,u=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}var r;return o(n,e),r=n,n.prototype.render=function(){return a.createElement(s.DynamicComponent,{contentStore:r.Content,name:r.displayName},a.createElement(t.Placeholder,{key:"placeholder"}))},n.displayName="TaskCardPlaceholder",n.Content=new s.DynamicContentStore(r.displayName),n=r=i([l.withTheme],n)}(a.PureComponent);t.TaskCardPlaceholder=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(34),s=n(35),l=n(2),c=n(4),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){t.props.onFilterChanged(t.props.filters[e.target.value])},t}return r(t,e),t.prototype.render=function(){var e=this.props,n=e.filters,r=e.activeFilter;return i.createElement(f,{className:"Twilio-AgentListFilterSelect",value:n.findIndex(function(e){return e.text===r.text}),onChange:this.handleChange},n.map(function(e,n){return i.createElement(s.default,{key:n,value:n},t.getFilterText(e))}))},t.getFilterText=function(e){return e.text in c.templates?i.createElement(c.Template,{source:c.templates[e.text]}):e.text},t}(i.PureComponent);t.AgentListFilterSelect=u;var p,f=l.default(a.default)(p||(p=o(["\n    width: 252px;\n"],["\n    width: 252px;\n"])))},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(109),c=n(42),u=n(34),p=n(35),f=n(168),d=n(169),h=n(170),m=n(0),g=n(4),v=n(2);t.Container=v.default(m.FlexBox)(x||(x=r(["\n    padding-top: 12px;\n    padding-bottom: 12px;\n"],["\n    padding-top: 12px;\n    padding-bottom: 12px;\n"]))),t.SkillsContainer=v.default(m.FlexBox)(O||(O=r(["\n    padding-left: 12px;\n    padding-right: 12px;\n    overflow-x: hidden;\n    overflow-y: auto;\n"],["\n    padding-left: 12px;\n    padding-right: 12px;\n    overflow-x: hidden;\n    overflow-y: auto;\n"]))),t.NoSkillsContainer=v.default(m.FlexBox)(P||(P=r(["\n    margin-top: 16px;\n    & > * {\n        margin: auto;\n    }\n"],["\n    margin-top: 16px;\n    & > * {\n        margin: auto;\n    }\n"]))),t.NotificationTextContainer=v.default(m.FlexBox)(S||(S=r(["\n    margin-top: 12px;\n    font-size: 10px;\n    & > * {\n        margin: auto;\n    }\n"],["\n    margin-top: 12px;\n    font-size: 10px;\n    & > * {\n        margin: auto;\n    }\n"]))),t.ButtonsContainer=v.default(m.FlexBox)(E||(E=r(["\n    margin-top: 32px;\n    padding-left: 12px;\n    padding-right: 12px;\n    overflow-x: hidden;\n    overflow-y: auto;\n    justify-content: center;\n    & > * {\n        margin-left: 6px;\n        margin-right: 6px;\n        min-width: 100px;\n    }\n"],["\n    margin-top: 32px;\n    padding-left: 12px;\n    padding-right: 12px;\n    overflow-x: hidden;\n    overflow-y: auto;\n    justify-content: center;\n    & > * {\n        margin-left: 6px;\n        margin-right: 6px;\n        min-width: 100px;\n    }\n"])));var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){var n=-1===e.target.value?void 0:t.props.values[e.target.value];t.props.onChanged(n)},t}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.values,n=e.selected;return s.createElement(k,{className:"Twilio-WorkerSkills-Select",value:n,onChange:this.handleChange,displayEmpty:!0},s.createElement(p.default,{value:-1,disabled:!0},s.createElement(g.Template,{source:g.templates.WorkerSkillPleaseSelect})),t.map(function(e,t){return s.createElement(p.default,{key:e.name,value:t,disabled:e.disabled,className:e.disabled&&"Twilio-disabled"},s.createElement(g.Template,{code:e.name}))}))},t}(s.PureComponent),k=v.default(u.default)(j||(j=r(["\n    margin-right: 16px;\n    margin-bottom: auto;\n    overflow-x: hidden;\n    flex: 1 1 auto;\n"],["\n    margin-right: 16px;\n    margin-bottom: auto;\n    overflow-x: hidden;\n    flex: 1 1 auto;\n"])));t.AddPanelContainer=v.default(m.FlexBox)(A||(A=r(["\n    padding-left: 12px;\n    padding-right: 12px;\n    min-height: 48px;\n"],["\n    padding-left: 12px;\n    padding-right: 12px;\n    min-height: 48px;\n"])));var C=v.default(d.default)(L||(L=r(["\n    flex: 1 1 auto;\n    overflow: hidden;\n    margin-bottom: auto;\n"],["\n    flex: 1 1 auto;\n    overflow: hidden;\n    margin-bottom: auto;\n"]))),b=v.default(c.default)(N||(N=r(["\n    flex: 0 0 56px;\n    height: 32px;\n    width: 56px;\n"],["\n    flex: 0 0 56px;\n    height: 32px;\n    width: 56px;\n"]))),w=v.default("div")(I||(I=r(["\n    display: flex;\n    flex: 0 0 28px;\n    margin-left: 12px;\n    & > * {\n        margin: auto;\n    }\n"],["\n    display: flex;\n    flex: 0 0 28px;\n    margin-left: 12px;\n    & > * {\n        margin: auto;\n    }\n"])));function T(e){return!e.multivalue||e.level>=e.minimum&&e.level<=e.maximum}t.isSkillLevelOk=T;var _=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.handleSkillSelected=function(e){t.setState({current:e?i({},e,{disabled:!1}):void 0})},t.handleLevelChange=function(e){var n=parseInt(e.target.value,10);t.setState({current:i({},t.state.current,{level:isNaN(n)?void 0:n})})},t.handleAddClick=function(){t.props.onAdd(t.state.current),t.setState({current:void 0})},t}return o(n,e),n.prototype.render=function(){var e=this.state.current,n=this.props,r=n.allSkillsDefinitions,o=n.selectedSkills,a=n.theme,l=!!e&&T(e),c=e&&void 0!==e.level?e.level:"",u=r.map(function(e){return i({},e,{disabled:!!o[e.name]})}).sort(function(e,t){return e.name.localeCompare(t.name)});return s.createElement(t.AddPanelContainer,{className:"Twilio-WorkerSkills-AddSkillPanel",noGrow:!0,noShrink:!0,vertical:!0},s.createElement(m.FlexBox,{noGrow:!0},s.createElement(y,{values:u,selected:u.findIndex(function(t){return t.name===(e&&e.name)}),onChanged:this.handleSkillSelected}),s.createElement(R,{vertical:!0,noGrow:!0,noShrink:!0},s.createElement(m.FlexBox,{noGrow:!0,noShrink:!0},s.createElement(b,{disabled:!e||!e.multivalue,error:!!e&&!l,value:c,placeholder:e&&e.multivalue?"":"-",onChange:this.handleLevelChange}),s.createElement(w,null,s.createElement(m.IconButton,{icon:"Add",themeOverride:a.WorkerSkills.SaveButton,onClick:this.handleAddClick,disabled:!l}))),!l&&!!e&&s.createElement(h.default,null,s.createElement(g.Template,{source:g.templates.WorkerSkillLevelInvalid,min:e.minimum,max:e.maximum})))))},n=a([v.withTheme],n)}(s.PureComponent);t.AddSkillPanel=_;var x,O,P,S,E,j,A,L,N,I,M,D,F,R=v.default(m.FlexBox)(M||(M=r(["\n    flex-basis: 0;\n"],["\n    flex-basis: 0;\n"]))),W=v.default(m.FlexBox)(D||(D=r(["\n    padding-top: 6px;\n    padding-bottom: 6px;\n"],["\n    padding-top: 6px;\n    padding-bottom: 6px;\n"]))),B=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSkillChecked=function(e){var n=!e.target.checked;t.props.onUpdate(i({},t.props.skill,{disabled:n}))},t.handleLevelChange=function(e){var n=parseInt(e.target.value,10);t.props.onUpdate(i({},t.props.skill,{level:isNaN(n)?void 0:n}))},t.handleRemoveClick=function(){t.props.onRemove(t.props.skill)},t}return o(t,e),t.prototype.render=function(){var e=this.props.skill,t={label:l.css(F||(F=r(["\n                opacity: 0.4;\n            "],["\n                opacity: 0.4;\n            "])))},n=T(e);return s.createElement(W,{className:"Twilio-WorkerSkill",vertical:!0,noGrow:!0,noShrink:!0},s.createElement(m.FlexBox,{noShrink:!0},s.createElement(C,{classes:e.disabled?t:void 0,control:s.createElement(f.default,{checked:!e.disabled,onChange:this.handleSkillChecked,value:"checked",color:"primary"}),label:s.createElement(g.Template,{code:e.name})}),s.createElement(R,{vertical:!0,noGrow:!0,noShrink:!0},s.createElement(m.FlexBox,{noGrow:!0,noShrink:!0},s.createElement(b,{disabled:!e.multivalue,error:!T(e),value:void 0!==e.level||e.multivalue?e.level||"":"-",placeholder:e.multivalue?"-":"",onChange:this.handleLevelChange}),s.createElement(w,null,s.createElement(m.IconButton,{icon:"Close",onClick:this.handleRemoveClick,themeOverride:this.props.theme.WorkerSkills.DeleteButton}))),!n&&s.createElement(h.default,null,s.createElement(g.Template,{source:g.templates.WorkerSkillLevelInvalid,min:e.minimum,max:e.maximum})))))},t=a([v.withTheme],t)}(s.PureComponent);t.WorkerSkill=B},function(e,t){e.exports=require("@material-ui/core/Switch")},function(e,t){e.exports=require("@material-ui/core/FormControlLabel")},function(e,t){e.exports=require("@material-ui/core/FormHelperText")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(172))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(110),l=n(190),c=n(3),u=function(e){var t=e.queues,n=t.queuesList&&!Object.keys(t.queuesList).length;return{isLoading:n&&!t.hasFetchedList,hasNoData:n&&t.hasFetchedList}},p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.isLoading,n=e.hasNoData,r=e.context;return a.createElement(l.QueueStatsViewImpl,o({isLoading:t,hasNoData:n,context:r},this.props))},t.displayName=l.displayName,t.Content=l.Content,t.Tiles=s.AggregatedQueuesDataTiles,t.Table=s.QueuesDataTable,t=i([c.connect(u)],t)}(a.PureComponent);t.QueueStatsView=p},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(174),a=n(175),s=n(178),l=n(181),c=n(184),u=n(0),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return o.createElement(u.DynamicComponent,{name:t.displayName,contentStore:t.Content,customChildren:this.props.children,childProps:this.props,noContainers:!0},o.createElement(i.Grid,{className:"Twilio-AggregatedQueuesDataTiles-Grid",key:"aggregated-data-view"},o.createElement(a.ActiveTasksTile,{key:"ActiveTasksTile"}),o.createElement(s.WaitingTasksTile,{key:"WaitingTasksTile"}),o.createElement(c.LongestWaitTimeTile,{key:"LongestWaitTimeTile"}),o.createElement(l.AgentsByActivityChartTile,{key:"AgentsByActivityChartTile"})))},t.displayName="AggregatedQueuesDataTiles",t.Content=new u.DynamicContentStore(t.displayName),t}(o.PureComponent);t.AggregatedQueuesDataTiles=p},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(11);t.Grid=i.default("div")(o||(o=r(["\n      display: flex;\n      padding-left: 56px;\n      padding-right: 56px;\n      width: 100%;\n      max-width: 1600px;\n      margin-top: 56px;\n      margin-left: auto;\n      margin-right: auto;\n      margin-bottom: 0;\n      height: auto;\n      box-sizing: border-box;\n      flex: 0 0 auto;\n\n      > * {\n          flex: 1 1 25%;\n      }\n\n      > * + * {\n        margin-left: 8px;\n      }\n\n      ","\n"],["\n      display: flex;\n      padding-left: 56px;\n      padding-right: 56px;\n      width: 100%;\n      max-width: 1600px;\n      margin-top: 56px;\n      margin-left: auto;\n      margin-right: auto;\n      margin-bottom: 0;\n      height: auto;\n      box-sizing: border-box;\n      flex: 0 0 auto;\n\n      > * {\n          flex: 1 1 25%;\n      }\n\n      > * + * {\n        margin-left: 8px;\n      }\n\n      ","\n"])),function(e){return e.theme.QueueStats.TilesGrid})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(176))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(177),s=n(3),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return i.createElement(a.ActiveTasksTileImpl,{activeTasks:this.props.activeTasks.toString()})},t=o([s.connect(function(e){return{activeTasks:e.queues.aggregatedData.activeTasks}})],t)}(i.PureComponent);t.ActiveTasksTile=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(4),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return o.createElement(i.AggregatedDataTile,{title:o.createElement(a.Template,{source:a.templates.ActiveTasksTileTitle}),content:this.props.activeTasks})},t}(o.PureComponent);t.ActiveTasksTileImpl=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(179))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(180),s=n(3),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return i.createElement(a.WaitingTasksTileImpl,{waitingTasks:this.props.waitingTasks.toString()})},t=o([s.connect(function(e){return{waitingTasks:e.queues.aggregatedData.waitingTasks}})],t)}(i.PureComponent);t.WaitingTasksTile=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(4),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return o.createElement(i.AggregatedDataTile,{title:o.createElement(a.Template,{source:a.templates.WaitingTasksTileTitle}),content:this.props.waitingTasks})},t}(o.PureComponent);t.WaitingTasksTileImpl=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(182))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(183),l=n(3),c=n(4),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.availableAgents,n=e.unavailableAgents,r=e.offlineAgents;return a.createElement(s.AgentsByActivityChartTileImpl,{availableAgents:{value:t,label:c.templates.AgentStatusAvailable()},unavailableAgents:{value:n,label:c.templates.AgentStatusUnavailable()},offlineAgents:{value:r,label:c.templates.AgentStatusOffline()}})},t=i([l.connect(function(e){return o({},e.queues.aggregatedData.agentByActivity)})],t)}(a.PureComponent);t.AgentsByActivityChartTile=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),l=n(4),c=n(2),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.availableAgents,n=e.unavailableAgents,r=e.offlineAgents,i=e.theme.colors,c=[o({},t,{color:i.agentAvailableColor}),o({},n,{color:i.agentUnavailableColor}),o({},r,{color:i.agentOfflineColor})];return a.createElement(s.AggregatedDataTile,{title:a.createElement(l.Template,{source:l.templates.AgentsByActivityTileTitle})},a.createElement(s.StackedBarChart,{items:c}),a.createElement(s.Legend,{items:c,showLabels:!0}))},t=i([c.withTheme],t)}(a.PureComponent);t.AgentsByActivityChartTileImpl=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(185))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(186),s=n(3),l=n(0),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.waitTime,n=e.queueName;return i.createElement(a.LongestWaitTimeTileImpl,{waitTime:l.Utils.formatTimeDuration(1e3*t,"short"),queueName:n})},t.defaultProps={waitTime:0},t=o([s.connect(function(e){var t=e.queues.aggregatedData.longestWaitQueue;return{waitTime:t.time,queueName:t.friendlyName}})],t)}(i.PureComponent);t.LongestWaitTimeTile=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(4),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return o.createElement(i.AggregatedDataTile,{title:o.createElement(a.Template,{source:a.templates.LongestWaitTimeTileTitle}),content:this.props.waitTime,description:this.props.queueName})},t}(o.PureComponent);t.LongestWaitTimeTileImpl=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(3),l=n(188),c=function(e){var t=e.queues.queuesList;return{queuesList:Object.keys(t).map(function(e){return t[e]})}},u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement(l.QueuesDataTableImpl,o({},this.props))},t.displayName=l.displayName,t.Content=l.Content,t=i([s.connect(c)],t)}(a.PureComponent);t.QueuesDataTable=u},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(2),l=n(0),c=n(189),u=n(59),p=n(4);t.displayName="QueuesDataTable",t.Content=new l.DynamicContentStore(t.displayName);var f=l.DataTable,d=function(e){function n(t){var n=e.call(this,t)||this;return n.getTaskQueueSid=function(e){return e.task_queue_sid},n.renderFriendlyName=function(e){return a.createElement(c.FirstCellContent,null,e.friendly_name)},n.renderActiveTasks=function(e){var t=e.tasks_by_status,n=t.assigned,r=t.wrapping;return a.createElement("span",null,n+r)},n.renderWaitingTasks=function(e){var t=e.tasks_by_status,n=t.pending,r=t.reserved;return a.createElement("span",null,n+r)},n.renderLongestWaitingTime=function(e){return a.createElement("span",null,l.Utils.formatTimeDuration(1e3*e.longest_task_waiting_age,"short"))},n.mappedColors={availableAgents:n.props.theme.colors.agentAvailableColor,unavailableAgents:n.props.theme.colors.agentUnavailableColor,offlineAgents:n.props.theme.colors.agentOfflineColor},n.renderAgents=function(e){var t=u.AggregatedDataHelpers.getAgentsByActivity({},e),r=[{label:p.templates.AgentStatusAvailable(),value:t.availableAgents,color:n.mappedColors.availableAgents},{label:p.templates.AgentStatusUnavailable(),value:t.unavailableAgents,color:n.mappedColors.unavailableAgents},{label:p.templates.AgentStatusOffline(),value:t.offlineAgents,color:n.mappedColors.offlineAgents}];return a.createElement(l.Legend,{items:r,showLabels:!1})},n}return r(n,e),n.prototype.render=function(){var e=this.props.queuesList;return a.createElement(c.TableContainer,{className:"Twilio-QueuesDataTable"},a.createElement(l.DynamicComponent,{childProps:this.props,contentStore:t.Content,name:t.displayName,customChildren:this.props.children,noContainers:!0},a.createElement(f,{items:e,itemKey:this.getTaskQueueSid,columnDataCreationContext:{},hasHoverStyle:!1},a.createElement(l.ColumnDefinition,{key:"friendlyName",header:"Queues",content:this.renderFriendlyName}),a.createElement(l.ColumnDefinition,{key:"active-tasks",header:"Active tasks",content:this.renderActiveTasks}),a.createElement(l.ColumnDefinition,{key:"waiting-tasks",header:"Waiting tasks",content:this.renderWaitingTasks}),a.createElement(l.ColumnDefinition,{key:"longest-wait-time",header:"Longest wait",content:this.renderLongestWaitingTime}),a.createElement(l.ColumnDefinition,{key:"agents",header:"Agents by activity",content:this.renderAgents}))))},n=o([s.withTheme,i("design:paramtypes",[Object])],n)}(a.PureComponent);t.QueuesDataTableImpl=d},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(11);t.FirstCellContent=a.default("span")(o||(o=r(["\n  padding-left: 6px;\n"],["\n  padding-left: 6px;\n"]))),t.TableContainer=a.default("div")(i||(i=r(["\n    overflow-y: auto;\n    padding-left: 56px;\n    padding-right: 56px;\n    width: 100%;\n    max-width: 1600px;\n    margin: 48px auto 0;\n    box-sizing: border-box;\n\n    td {\n      font-size: 12px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    ","\n"],["\n    overflow-y: auto;\n    padding-left: 56px;\n    padding-right: 56px;\n    width: 100%;\n    max-width: 1600px;\n    margin: 48px auto 0;\n    box-sizing: border-box;\n\n    td {\n      font-size: 12px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    ","\n"])),function(e){return e.theme.QueueStats.TableContainer})},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(0),a=n(111),s=n(112),l=n(59),c=n(191),u=n(192),p=n(4),f=n(29),d=n(12);t.displayName="QueueStatsView",t.Content=new i.DynamicContentStore(t.displayName);var h=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.isAdmin=function(e){return e.manager.user.roles.indexOf("admin")>=0},t}return r(n,e),n.prototype.componentDidMount=function(){l.Actions.startPolling()},n.prototype.componentWillUnmount=function(){l.Actions.stopPolling()},n.prototype.render=function(){var e=this,n=this.props,r=n.isLoading,l=n.hasNoData,h=n.children;if(r)return o.createElement(c.LoadingContainer,null,o.createElement(i.CircularProgress,{animating:!0,size:80,borderWidth:3}));if(l){var m=d.Manager.getInstance().serviceConfiguration.taskrouter_workspace_sid;return o.createElement(c.Container,null,o.createElement(f.FlexContext.Consumer,null,function(t){return o.createElement(u.NoDataPlaceholder,{heading:o.createElement(p.Template,{source:p.templates.QueuesNoDataHeading}),body:o.createElement(p.Template,{source:e.isAdmin(t)?p.templates.QueuesNoDataBodyForAdmin:p.templates.QueuesNoDataBodyForSupervisor}),linkText:e.isAdmin(t)?o.createElement(p.Template,{source:p.templates.QueuesNoDataLinkLabelForAdmin}):null,linkUrl:e.isAdmin(t)?"https://www.twilio.com/console/taskrouter/workspaces/"+m+"/taskqueues":null,image:o.createElement(i.Icon,{icon:"NoData",sizeMultiplier:3})})}))}return o.createElement(i.DynamicComponent,{name:t.displayName,contentStore:t.Content,childProps:this.props,customChildren:h,vertical:!0},o.createElement(c.Container,{vertical:!0},o.createElement(a.AggregatedQueuesDataTiles,{key:"tiles"}),o.createElement(s.QueuesDataTable,{key:"table"})))},n}(o.PureComponent);t.QueueStatsViewImpl=h},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(2),s=n(0);t.LoadingContainer=a.default("div")(o||(o=r(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding-bottom: 48px;\n    width: 100%;\n    ","\n"],["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding-bottom: 48px;\n    width: 100%;\n    ","\n"])),function(e){return e.theme.QueueStats.Container}),t.Container=a.default(s.FlexBox)(i||(i=r(["\n    ","\n"],["\n    ","\n"])),function(e){return e.theme.QueueStats.Container})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(193))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(194),a=n(109),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=this.props,t=e.heading,n=e.body,r=e.image,s=e.linkUrl,l=e.linkText;return o.createElement(i.Wrapper,{className:a.cx("Twilio-NoDataPlaceholder-Wrapper")},r&&o.createElement(i.ImageContainer,{className:a.cx("Twilio-NoDataPlaceholder-ImageContainer")},r),o.createElement(i.Heading,{className:a.cx("Twilio-NoDataPlaceholder-Heading")},t),o.createElement(i.Body,{className:a.cx("Twilio-NoDataPlaceholder-Body")},n),s&&l&&o.createElement(i.StyledLink,{href:s,roundCorners:!1,className:a.cx("Twilio-NoDataPlaceholder-Link"),target:"_blank"},l)||"")},t}(o.PureComponent);t.NoDataPlaceholder=s},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var o,i,a,s,l,c=n(2),u=n(0);t.Wrapper=c.default("div")(o||(o=r(["\n    max-width: 480px;\n    padding: 24px;\n    margin-left: auto;\n    margin-right: auto;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    align-items: flex-start;\n    padding-bottom: 72px;\n"],["\n    max-width: 480px;\n    padding: 24px;\n    margin-left: auto;\n    margin-right: auto;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    align-items: flex-start;\n    padding-bottom: 72px;\n"]))),t.ImageContainer=c.default("div")(i||(i=r(["\n    margin-bottom: 24px;\n"],["\n    margin-bottom: 24px;\n"]))),t.Heading=c.default("div")(a||(a=r(["\n    font-size: 14px;\n    margin-top: 0;\n    margin-bottom: 12px;\n    font-weight: normal;\n    line-height: 1;\n"],["\n    font-size: 14px;\n    margin-top: 0;\n    margin-bottom: 12px;\n    font-weight: normal;\n    line-height: 1;\n"]))),t.Body=c.default("div")(s||(s=r(["\n    font-size: 32px;\n    line-height: 1.25;\n"],["\n    font-size: 32px;\n    line-height: 1.25;\n"]))),t.StyledLink=c.default(u.Link)(l||(l=r(["\n    .Twilio &:link,\n    .Twilio &:visited {\n        background: ",";\n        color: white;\n        margin-top: 32px;\n        text-transform: uppercase;\n        margin-left: 0;\n        margin-right: auto;\n    }\n"],["\n    .Twilio &:link,\n    .Twilio &:visited {\n        background: ",";\n        color: white;\n        margin-top: 32px;\n        text-transform: uppercase;\n        margin-left: 0;\n        margin-right: auto;\n    }\n"])),function(e){return e.theme.colors.defaultButtonColor})},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),c=n(2),u=n(0),p=n(26),f=n(20),d=n(25),h=n(42),m=n(99),g=n(6),v=d.languages.default,y=c.default("div")(P||(P=r(["\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex: 1 0 auto;\n    justify-content: center;\n    ","\n"],["\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    flex: 1 0 auto;\n    justify-content: center;\n    ","\n"])),function(e){return e.theme.RuntimeLoginView.Container}),k=c.default("form")(S||(S=r(["\n    width: 342px;\n"],["\n    width: 342px;\n"]))),C=c.default("div")(E||(E=r(["\n    font-size: 10px;\n    letter-spacing: 2px;\n    text-transform: uppercase;\n    font-weight: lighter;\n    margin-bottom: 8px;\n"],["\n    font-size: 10px;\n    letter-spacing: 2px;\n    text-transform: uppercase;\n    font-weight: lighter;\n    margin-bottom: 8px;\n"]))),b=c.default("div")(j||(j=r(["\n    margin-top: 22px;\n"],["\n    margin-top: 22px;\n"]))),w=c.default(m.default)(A||(A=r(["\n    margin-bottom: 53px;\n"],["\n    margin-bottom: 53px;\n"]))),T=c.default("div")(L||(L=r(["\n    display: inline-block;\n    margin-left: 16px;\n    font-size: 10px;\n    font-weight: lighter;\n"],["\n    display: inline-block;\n    margin-left: 16px;\n    font-size: 10px;\n    font-weight: lighter;\n"]))),_=c.default("a")(N||(N=r(["\n    color: #fff;\n    font-weight: bold;\n    margin-left: 4px;\n"],["\n    color: #fff;\n    font-weight: bold;\n    margin-left: 4px;\n"]))),x=c.default("div")(I||(I=r(["\n    font-size: 12px;\n    font-weight: lighter;\n    min-height: 17px;\n    margin-top: 9px;\n\n    b {\n        font-weight: bold;\n    }\n"],["\n    font-size: 12px;\n    font-weight: lighter;\n    min-height: 17px;\n    margin-top: 9px;\n\n    b {\n        font-weight: bold;\n    }\n"]))),O=c.default(u.Button)(M||(M=r(["\n    text-transform: uppercase;\n"],["\n    text-transform: uppercase;\n"])));t.RuntimeLoginView=function(e){return g.default.warn("Warning! RuntimeLoginView component has been deprecated,please use 'LoginFormView' component instead!"),l.createElement(p.StorelessThemeProvider,{themeConf:{baseName:"FlexDark"}},l.createElement(D,i({},e)))};var P,S,E,j,A,L,N,I,M,D=function(e){function t(t){var n=e.call(this,t)||this;return n.getErrorMessage=function(){return n.state.error?n.state.error.key===f.ValidationErrorKeys.sso?v.RuntimeLoginErrorSso:v.RuntimeLoginErrorDomain:""},n.state={domain:"",error:null},n.setDomain=n.setDomain.bind(n),n.fetchSid=n.fetchSid.bind(n),n.getErrorMessage=n.getErrorMessage.bind(n),n}return o(t,e),t.prototype.setDomain=function(e){var t=e.target;this.setState(function(e){return{domain:t.value,error:null}})},t.prototype.validate=function(e){if(!e.sso)throw new f.ValidationError(f.ValidationErrorKeys.sso);if(!e.accountSid)throw new f.ValidationError(f.ValidationErrorKeys.accountSid);return e},t.prototype.fetchSid=function(e){var t=this;e.preventDefault();var n=this.state.domain.endsWith("/")?this.state.domain.replace(/\/$/,""):this.state.domain,r=this.props.onSuccess,o=this.props.mapDomainToLookup(n),i="https://"+n+"/";fetch(o).then(function(e){return e.json()}).then(function(e){return t.validate(e)}).then(function(e){return r(e,i)}).catch(function(e){t.setState(function(){return{error:e}})})},t.prototype.render=function(){return l.createElement(y,null,l.createElement(w,null),l.createElement(k,{onSubmit:this.fetchSid},l.createElement(C,null,v.RuntimeLoginLabel),l.createElement(h.default,{onChange:this.setDomain,autoFocus:!0,error:!!this.state.error,name:"runtime",type:"text",placeholder:v.RuntimeLoginPlaceholder,fullWidth:!0}),l.createElement(x,null,l.createElement(u.Template,{source:this.getErrorMessage})),l.createElement(b,null,l.createElement(O,{className:"error",roundCorners:!1,disabled:!this.state.domain,onClick:this.fetchSid,themeOverride:this.props.theme.RuntimeLoginView.LoginButton},v.RuntimeLoginLaunch),l.createElement(T,null,v.RuntimeLoginIsAdmin,l.createElement(_,{href:this.props.adminLoginUrl},v.RuntimeLoginWithTwilio)))))},t.defaultProps={mapDomainToLookup:function(e){return"https://flex.twilio.com/lookup/"+e},adminLoginUrl:"https://www.twilio.com/service-login/flex?localPort="+window.location.port},t=a([c.withTheme,s("design:paramtypes",[Object])],t)}(l.PureComponent)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(66);t.TaskOverviewCanvas=r.TaskOverviewCanvas;var o=n(65);t.TaskCanvas=o.TaskCanvas,t.TaskInfoPanel=o.TaskInfoPanel,t.TaskCanvasTabs=o.TaskCanvasTabs,t.TaskCanvasHeader=o.TaskCanvasHeader;var i=n(64);t.ColumnDataCreationContext=i.ColumnDataCreationContext},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(37),a=n(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.componentDidMount=function(){a.Actions.invokeAction("Logout",{forceLogout:!1,activityName:"Offline"})},t.prototype.render=function(){return o.createElement(i.Redirect,{to:"/"})},t}(o.Component);t.LogoutView=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(199),l=n(4),c=n(3),u=n(0),p=n(13),f=n(5);t.mapTaskStateToProps=function(e){var t=Array.from(e.worker.tasks.values()).find(function(e){return f.TaskHelper.isLiveCall(e)}),n=Array.from(e.worker.tasks.values()).find(function(e){return f.TaskHelper.isCallTask(e)&&f.TaskHelper.isPending(e)}),r=t&&f.TaskHelper.isCallOnHold(t),o=p.SupervisorStateHelper.getTaskBySid(e.supervisor.callMonitoring.taskSid),i=o?e.supervisor.workers.find(function(e){return e.worker.sid===o.workerSid}).worker:void 0;return{currentCallTask:t,currentCallOnHold:r,selectedView:e.view.activeView,incomingCallTask:n,monitoredTask:o,monitoredWorker:i,monitoringState:e.supervisor.callMonitoring.status}};var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.prototype.render=function(){return a.createElement(h,o({},this.props))},t.friendlyName="LiveCommsBar",t.displayName=n.friendlyName,t.Content=new u.DynamicContentStore(n.friendlyName),t=n=i([u.withDefaultPropsUpdate],t)}(a.PureComponent);t.LiveCommsBar=d;var h=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(){return this.props.monitoringState===p.CallMonitoringStatus.monitoring||this.props.currentCallTask&&"agent-desktop"!==this.props.selectedView||this.props.incomingCallTask&&"agent-desktop"!==this.props.selectedView?a.createElement(u.DynamicComponent,{contentStore:d.Content,childProps:this.props,name:d.friendlyName,customChildren:this.props.children,vertical:!0},a.createElement(s.LiveCommsBarContainer,{className:"Twilio-LiveCommsBarItem-LiveCommsBarContainer"},a.createElement(m,o({key:"item"},this.props)))):null},n=i([c.connect(t.mapTaskStateToProps)],n)}(a.PureComponent);t.LiveCommsBarImpl=h;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getMessage=function(){if(t.props.monitoringState===p.CallMonitoringStatus.monitoring){var e=t.props.monitoredTask,n=t.props.monitoredWorker;return a.createElement(l.Template,{source:l.templates.LiveCommsMonitoringMessage,worker:n,task:e})}if(t.props.currentCallTask){e=t.props.currentCallTask;return a.createElement(l.Template,{source:l.templates.LiveCommsOngoingCallMessage,task:e})}if(t.props.incomingCallTask){e=t.props.incomingCallTask;var r=l.templates.LiveCommsIncomingCallMessage;return e.transferObject&&(r="WORKER"===e.transferObject.type?l.templates.LiveCommsIncomingDirectCallTransfer:l.templates.LiveCommsIncomingQueueCallTransfer),a.createElement(l.Template,{source:r,task:e})}},t.getActions=function(){if(t.props.monitoringState===p.CallMonitoringStatus.monitoring){var e=t.props.monitoredTask;return[{onClick:function(){u.Actions.invokeAction("NavigateToView",{viewName:"teams"}).then(function(){return u.Actions.invokeAction("SelectTaskInSupervisor",{task:e})})},caption:l.templates.LiveCommsBarReturnToCall},{onClick:function(){return u.Actions.invokeAction("StopMonitoringCall",{task:e})},caption:l.templates.LiveCommsBarStopListening}]}if(t.props.currentCallTask){var n=t.props.currentCallTask,r=[{onClick:function(){u.Actions.invokeAction("NavigateToView",{viewName:"agent-desktop"}).then(function(){return u.Actions.invokeAction("SelectTask",{task:n})})},caption:l.templates.LiveCommsBarReturnToCall}];return!f.TaskHelper.canHold(n)&&f.TaskHelper.isRegularLiveConferenceCall(n)||r.push({onClick:function(){var e=t.props.currentCallOnHold?"UnholdCall":"HoldCall";u.Actions.invokeAction(e,{task:n})},caption:t.props.currentCallOnHold?l.templates.LiveCommsBarUnHold:l.templates.LiveCommsBarHold}),r}if(t.props.incomingCallTask){var o=t.props.incomingCallTask;return[{onClick:function(){u.Actions.invokeAction("AcceptTask",{task:o})},caption:l.templates.LiveCommsBarAccept},{onClick:function(){u.Actions.invokeAction("RejectTask",{task:o})},caption:l.templates.LiveCommsBarDeny}]}},t}return r(t,e),t.prototype.render=function(){var e="",n=!1;return this.props.monitoringState===p.CallMonitoringStatus.monitoring?e="MonitorSmall":this.props.currentCallTask?(e=this.props.currentCallOnHold?"HoldBoldSmall":"CallSmall",n=this.props.currentCallOnHold):this.props.incomingCallTask&&(e="IncomingCallSmall"),a.createElement(u.DynamicComponent,{contentStore:t.Content,childProps:this.props,name:t.friendlyName,customChildren:this.props.children},a.createElement(s.LiveCommsBarItemContainer,{showHold:n,className:"Twilio-LiveCommsBarItem-LiveCommsBarItemContainer"},a.createElement(s.LiveCommsIcon,{key:"icon",icon:e}),a.createElement(s.MessageContainer,{key:"message",className:"Twilio-LiveCommsBarItem-MessageContainer"},this.getMessage()),a.createElement(g,{key:"actions",actions:this.getActions()})))},t.friendlyName="LiveCommsBarItem",t.displayName=t.friendlyName,t.Content=new u.DynamicContentStore(t.friendlyName),t}(a.PureComponent);t.LiveCommsBarItem=m;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.createElement(u.DynamicComponent,{contentStore:t.Content,childProps:this.props,name:t.friendlyName,customChildren:this.props.children},a.createElement(s.LiveCommsBarItemActionsContainer,{className:"Twilio-LiveCommsBarItemActionsContainer",noGrow:!0},this.renderContents()))},t.prototype.renderContents=function(){for(var e=[],t=0;t<this.props.actions.length;t++){var n=this.props.actions[t];e.push(a.createElement(s.ActionButton,{key:t,onClick:n.onClick},a.createElement(l.Template,{source:n.caption}))),t<this.props.actions.length-1&&e.push("|")}return e},t.friendlyName="LiveCommsBarItemActions",t.displayName=t.friendlyName,t.Content=new u.DynamicContentStore(t.friendlyName),t}(a.Component)},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(2),s=n(0);t.LiveCommsBarContainer=a.default("div")(l||(l=r(["\n    display: flex;\n    width: 100%;\n    z-index: 3;\n    overflow: hidden;\n    flex-direction: column;\n    flex: 0 0 auto;\n"],["\n    display: flex;\n    width: 100%;\n    z-index: 3;\n    overflow: hidden;\n    flex-direction: column;\n    flex: 0 0 auto;\n"]))),t.LiveCommsBarItemContainer=a.default("div")(c||(c=r(["\n    display: flex;\n    min-height: 24px;\n    flex: 1 1 auto;\n    position: relative;\n    align-items: center;\n    padding-right: 8px;\n    background-color:",";\n    color: ",";\n"],["\n    display: flex;\n    min-height: 24px;\n    flex: 1 1 auto;\n    position: relative;\n    align-items: center;\n    padding-right: 8px;\n    background-color:",";\n    color: ",";\n"])),function(e){return e.showHold?e.theme.colors.holdColor:e.theme.colors.flexBlueColor},function(e){return e.theme.colors.lightTextColor}),t.MessageContainer=a.default("div")(u||(u=r(["\n    margin-left: 8px;\n    margin-right: 4px;\n    align-self: center;\n    font-weight: 600;\n    font-size: 10px;\n    flex-grow: 2;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n"],["\n    margin-left: 8px;\n    margin-right: 4px;\n    align-self: center;\n    font-weight: 600;\n    font-size: 10px;\n    flex-grow: 2;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n"]))),t.IconContainer=a.default("div")(p||(p=r(["\n    width: 24px;\n    max-height: 24px;\n"],["\n    width: 24px;\n    max-height: 24px;\n"])));var l,c,u,p,f,d,h=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return o(n,e),n.prototype.render=function(){var e=this.props.icon;return i.createElement(t.IconContainer,{className:"Twilio-LiveCommsBarItem-Icon"},i.createElement(s.Icon,{icon:e}))},n}(i.PureComponent);t.LiveCommsIcon=h,t.ActionButton=a.default("button")(f||(f=r(["\n    padding-right: 10px;\n    padding-left: 10px;\n    cursor: pointer;\n    font-weight: bold;\n    text-transform: uppercase;\n    letter-spacing: normal;\n    background: inherit;\n    color: inherit;\n    border: none;\n    outline: none;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n"],["\n    padding-right: 10px;\n    padding-left: 10px;\n    cursor: pointer;\n    font-weight: bold;\n    text-transform: uppercase;\n    letter-spacing: normal;\n    background: inherit;\n    color: inherit;\n    border: none;\n    outline: none;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n"]))),t.LiveCommsBarItemActionsContainer=a.default(s.FlexBox)(d||(d=r(["\n    font-size: 10px;\n    align-items: center;\n"],["\n    font-size: 10px;\n    align-items: center;\n"])))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(36),a=n(3),s=n(60),l=n(58);t.Router=function(e){var t={dispatch:function(e){return a.FlexModule.dispatch(r({},e,{type:l.FLEX_LOCATION_CHANGE}))}};return o.createElement(i.ConnectedRouter,{history:s.default(),store:t},e.children)}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(0),l=n(117),c=n(8),u=n(2);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(117));var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.updateAll=function(){},t.prototype.render=function(){return a.createElement(f,o({},this.props))},t.displayName="CRMContainer",t.Content=new s.DynamicContentStore(n.displayName),t.defaultProps={uriCallback:void 0,uri:void 0},t=n=i([s.withDefaultPropsUpdate],t)}(a.PureComponent);t.CRMContainer=p;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e=o({},this.props,{uri:this.props.uri||(this.props.uriCallback?this.props.uriCallback(this.props.task):void 0)});return a.createElement(s.DynamicComponent,{contentStore:p.Content,childProps:e,name:p.displayName,customChildren:this.props.children,vertical:!0},a.createElement(l.Container,null,!e.uri&&a.createElement(l.CRMPlaceHolderView,{key:"placeholder"}),!!e.uri&&a.createElement("iframe",{key:"iframe",src:e.uri})))},t=i([u.withTheme,c.withTaskContext],t)}(a.PureComponent)},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=n(0),c=n(80),u=n(5),p=n(2),f=function(e){return u.TaskHelper.isIncomingCall(e)||u.TaskHelper.isLiveCall(e)},d=[{text:"TaskFilterAll",callback:function(e){return!f(e)}},{text:"TaskFilterActive",callback:function(e){return!f(e)&&"accepted"===e.status}},{text:"TaskFilterWrapping",callback:function(e){return!f(e)&&"wrapping"===e.status}}],h=function(e){return f(e)},m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.updateAll=function(){},t.prototype.render=function(){return s.createElement(v,i({},this.props))},t.displayName="TaskListsContainer",t.Content=new l.DynamicContentStore(n.displayName),t.defaultProps={taskFilters:d,staticTaskFilter:h},t=n=a([l.withDefaultPropsUpdate],t)}(s.PureComponent);t.TaskListContainer=m;var g,v=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.render=function(){return s.createElement(l.DynamicComponent,{name:m.displayName,contentStore:m.Content,childProps:this.props,customChildren:this.props.children,vertical:!0},s.createElement(t.Container,null,s.createElement(c.TaskList,{key:"tasklist",staticFilter:this.props.staticTaskFilter,filters:this.props.taskFilters,tasks:this.props.tasks,selectedTaskSid:this.props.selectedTaskSid,onTaskSelected:this.props.onTaskSelected})))},n}(s.PureComponent);t.Container=p.default(l.FlexBoxColumn)(g||(g=o(["\n    overflow-y: auto;\n"],["\n    overflow-y: auto;\n"])))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),c=n(3),u=n(0),p=n(2),f=n(41),d=n(204),h=n(42),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return r(t,e),n=t,t.prototype.render=function(){return l.createElement(g,i({},this.props))},t.friendlyName="WorkerDirectory",t.displayName=n.friendlyName,t.Content=new u.DynamicContentStore(n.friendlyName),t.defaultProps={isWarmTransferEnabled:!1},t=n=a([u.withDefaultPropsUpdate],t)}(l.PureComponent);t.WorkerDirectory=m,t.mapStateToProps=function(e){return{task:e.worker.tasks.get(e.view.selectedTaskSid),isOpen:e.view.isDirectoryOpen}};var g=function(e){function n(t){var n=e.call(this,t)||this;return n.compareWorkersFunction=function(e,t){var n=e.fullName||"",r=t.fullName||"";return n.localeCompare(r)},n.compareQueuesFunction=function(e,t){var n=e.name||"",r=t.name||"";return n.localeCompare(r)},n.setSearchInputRef=function(e){n._workerSearchInputElement=e},n.onSearchInputChange=function(){n.workersSearch&&(n.workerSearchTimer||(n.workerSearchTimer=setTimeout(function(){if(n._workerSearchInputElement){var e=n._workerSearchInputElement.value,t=e?'data.attributes.full_name contains "'+e+'"':"";n.workersSearch.search(t),n.workerSearchTimer=void 0}},300)))},n.setSearchQueuesInputRef=function(e){n._queueSearchInputElement=e},n.onSearchQueuesInputChange=function(){n.queuesSearch&&(n.queueSearchTimer||(n.queueSearchTimer=setTimeout(function(){if(n._queueSearchInputElement){var e=n._queueSearchInputElement.value,t=e?'data.queue_name contains "'+e+'"':"";n.queuesSearch.search(t),n.queueSearchTimer=void 0}},300)))},n.onCloseClick=function(){u.Actions.invokeAction("HideDirectory")},n.onTransferQueueClick=function(e){return function(t){u.Actions.invokeAction("TransferTask",{task:n.props.task,targetSid:e.sid,options:t}),u.Actions.invokeAction("HideDirectory")}},n.onTransferClick=function(e){return function(t){u.Actions.invokeAction("TransferTask",{task:n.props.task,targetSid:e.sid,options:t}),u.Actions.invokeAction("HideDirectory")}},n.state={workers:[],queues:[]},n}return r(n,e),n.prototype.componentDidMount=function(){this.initOrUnInit()},n.prototype.componentDidUpdate=function(){this.initOrUnInit()},n.prototype.componentWillUnmount=function(){this.unInit()},n.prototype.render=function(){var e=this,t=this.props,n=t.isWarmTransferEnabled,r=t.isOpen,o=t.children,i=t.theme;return l.createElement(d.PopupContainer,{className:"Twilio-WorkerDirectory-Popup",isOpen:r},l.createElement(u.DynamicComponent,{contentStore:m.Content,childProps:this.props,name:m.friendlyName,customChildren:o,vertical:!0,noContainers:!0},l.createElement(b,{className:"Twilio-WorkerDirectory",vertical:!0},l.createElement(d.HeaderPanel,{key:"header",className:"Twilio-WorkerDirectory-Header",noGrow:!0,noShrink:!0},l.createElement(u.IconButton,{icon:"Close",onClick:this.onCloseClick,themeOverride:i.WorkerDirectory.Header.Button}),l.createElement(d.LabelContainer,null,l.createElement(d.Label,null,l.createElement(u.Template,{source:u.templates.WorkerDirectoryTitle})))),l.createElement(u.Tabs,{key:"tabs",className:"Twilio-WorkerDirectory-Tabs"},l.createElement(u.Tab,{key:"workers",label:l.createElement(u.Template,{source:u.templates.WorkerDirectoryAgentsTabLabel})},l.createElement(_,null,l.createElement(T,{key:"input"},l.createElement(w,{inputRef:this.setSearchInputRef,onChange:this.onSearchInputChange,placeholder:u.templates.WorkerDirectorySearchPlaceholder()})),l.createElement(d.ItemContainer,{key:"item-container",className:"Twilio-WorkerDirectory-Workers",vertical:!0},Array.from(this.state.workers).map(function(t){return l.createElement(d.WorkerItem,{worker:t,key:t.sid,isWarmTransferEnabled:n,onTransferClick:e.onTransferClick(t)})})))),l.createElement(u.Tab,{key:"queues",label:l.createElement(u.Template,{source:u.templates.WorkerDirectoryQueuesTabLabel})},l.createElement(_,null,l.createElement(T,{key:"input"},l.createElement(w,{inputRef:this.setSearchQueuesInputRef,onChange:this.onSearchQueuesInputChange,placeholder:u.templates.WorkerDirectorySearchPlaceholder()})),l.createElement(d.ItemContainer,{key:"item-container",className:"Twilio-WorkerDirectory-Queues",vertical:!0},Array.from(this.state.queues).map(function(t){return l.createElement(d.QueueItem,{queue:t,key:t.sid,isWarmTransferEnabled:n,onTransferClick:e.onTransferQueueClick(t)})}))))))))},n.prototype.initOrUnInit=function(){var e=this;if(this.props.isOpen){if(!this.workersSearch){c.FlexModule.insightsClient.instantQuery("tr-worker").then(function(t){e.workersSearch=t,t.on("searchResult",function(t){return e.onWorkerItemsUpdated(t)}),t.search("")})}if(!this.queuesSearch){c.FlexModule.insightsClient.instantQuery("tr-queue").then(function(t){e.queuesSearch=t,t.on("searchResult",function(t){return e.onQueueItemsUpdated(t)}),t.search("")})}}else this.unInit()},n.prototype.onWorkerItemsUpdated=function(e){var t=[];for(var n in e)if(n!==c.FlexModule.state.worker.source.sid){var r=e[n],o=new f.InsightsWorker(r);t.push(o)}t=t.sort(this.compareWorkersFunction),this.setState({workers:t})},n.prototype.onQueueItemsUpdated=function(e){var t=[];for(var n in e){var r=e[n],o=new f.InsightsQueue(r);t.push(o)}t=t.sort(this.compareQueuesFunction),this.setState({queues:t})},n.prototype.unInit=function(){this.workersSearch&&(this.workersSearch=null),this.queuesSearch&&(this.queuesSearch=null),this.workerSearchTimer&&clearTimeout(this.workerSearchTimer),this.queueSearchTimer&&clearTimeout(this.queueSearchTimer)},n=a([p.withTheme,c.connect(t.mapStateToProps),s("design:paramtypes",[Object])],n)}(l.PureComponent);t.WorkerDirectoryImpl=g;var v,y,k,C,b=p.default(u.FlexBox)(v||(v=o(["\n    ","\n"],["\n    ","\n"])),function(e){return e.theme.WorkerDirectory.Container}),w=p.default(h.default)(y||(y=o(["\n    margin-left: 12px;\n    margin-top: 10px;\n    width: calc(100% - 24px);\n"],["\n    margin-left: 12px;\n    margin-top: 10px;\n    width: calc(100% - 24px);\n"]))),T=p.default("div")(k||(k=o(["\n    flex: 0 0 56px;\n"],["\n    flex: 0 0 56px;\n"]))),_=p.default(u.FlexBoxColumn)(C||(C=o(["\n    overflow-x: hidden;\n"],["\n    overflow-x: hidden;\n"])))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(4),l=n(2),c=n(0),u=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.onWarmTransferClick=function(e){t.props.onTransferClick({mode:"WARM"})},t.onColdTransferClick=function(e){t.props.onTransferClick({mode:"COLD"})},t}return r(n,e),n.prototype.render=function(){var e=this.props,n=e.worker,r=e.isWarmTransferEnabled;return a.createElement(t.Container,{className:"Twilio-WorkerDirectory-Worker",noGrow:!0,noShrink:!0},a.createElement(_,{noGrow:!0,noShrink:!0}),a.createElement(c.UserCard,{className:"Twilio-WorkerDirectory-UserCard",firstLine:a.createElement(s.Template,{source:s.templates.WorkerDirectoryItemFirstLine,worker:n}),secondLine:a.createElement(s.Template,{source:s.templates.WorkerDirectoryItemSecondLine,worker:n}),isAvailable:n.isAvailable,imageUrl:n.attributes.image_url,large:!0}),a.createElement(t.ButtonContainer,{className:"Twilio-WorkerDirectory-ButtonContainer"},r&&a.createElement(t.CallButton,{icon:"Call",onClick:this.onWarmTransferClick,themeOverride:this.props.theme.WorkerDirectory.ItemActionButton}),a.createElement(c.IconButton,{icon:"Transfer",onClick:this.onColdTransferClick,themeOverride:this.props.theme.WorkerDirectory.ItemActionButton})))},n=i([l.withTheme],n)}(a.Component);t.WorkerItem=u;var p=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.onWarmTransferClick=function(e){t.props.onTransferClick({mode:"WARM"})},t.onColdTransferClick=function(e){t.props.onTransferClick({mode:"COLD"})},t}return r(n,e),n.prototype.render=function(){var e=this.props,n=e.queue,r=e.isWarmTransferEnabled;return a.createElement(t.Container,{className:"Twilio-WorkerDirectory-Queue",noGrow:!0,noShrink:!0},a.createElement(T,{noGrow:!0,noShrink:!0,className:"Twilio-WorkerDirectory-QueueAvatar"},a.createElement(c.Icon,{icon:"Queue"})),a.createElement(t.QueueTitleContainer,{className:"Twilio-WorkerDirectory-QueueContent"},a.createElement(s.Template,{source:s.templates.WorkerDirectoryQueueItemText,queue:n})),a.createElement(t.ButtonContainer,{className:"Twilio-WorkerDirectory-ButtonContainer"},r&&a.createElement(t.CallButton,{icon:"Call",onClick:this.onWarmTransferClick,themeOverride:this.props.theme.WorkerDirectory.ItemActionButton}),a.createElement(c.IconButton,{icon:"Transfer",onClick:this.onColdTransferClick,themeOverride:this.props.theme.WorkerDirectory.ItemActionButton})))},n=i([l.withTheme],n)}(a.Component);t.QueueItem=p,t.CallButton=l.default(c.IconButton)(f||(f=o(["\n    margin-right: 8px;\n"],["\n    margin-right: 8px;\n"]))),t.QueueTitleContainer=l.default("div")(d||(d=o(["\n    flex: 1 1 auto;\n    overflow: hidden;\n    margin-top: auto;\n    margin-bottom: auto;\n\n    margin-left: 14px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-size: 12px;\n    font-weight: bold;\n"],["\n    flex: 1 1 auto;\n    overflow: hidden;\n    margin-top: auto;\n    margin-bottom: auto;\n\n    margin-left: 14px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-size: 12px;\n    font-weight: bold;\n"])));var f,d,h,m,g,v,y,k,C,b,w,T=l.default(c.FlexBox)(h||(h=o(["\n    width: 44px;\n    justify-content: center;\n    ",";\n"],["\n    width: 44px;\n    justify-content: center;\n    ",";\n"])),function(e){return e.theme.WorkerDirectory.QueueItem.Avatar}),_=l.default(c.FlexBox)(m||(m=o(["\n    width: 6px;\n"],["\n    width: 6px;\n"])));t.Container=l.default(c.FlexBox)(g||(g=o(["\n    display: flex;\n    padding-left: 0px;\n    padding-right: 12px;\n    color: inherit;\n    outline: none;\n    height: 44px;\n    background: none;\n    border: none;\n    border-style: solid;\n    border-width: 0px 0px 1px 0px;\n    ","\n    &:hover {\n        & .Twilio-WorkerDirectory-ButtonContainer {\n            display: flex;\n        }\n        ","\n        & .Twilio-WorkerDirectory-QueueAvatar {\n            ","\n        }\n    }\n"],["\n    display: flex;\n    padding-left: 0px;\n    padding-right: 12px;\n    color: inherit;\n    outline: none;\n    height: 44px;\n    background: none;\n    border: none;\n    border-style: solid;\n    border-width: 0px 0px 1px 0px;\n    ","\n    &:hover {\n        & .Twilio-WorkerDirectory-ButtonContainer {\n            display: flex;\n        }\n        ","\n        & .Twilio-WorkerDirectory-QueueAvatar {\n            ","\n        }\n    }\n"])),function(e){return e.theme.WorkerDirectory.Item},function(e){return c.getBackgroundWithHoverCSS(e.theme.WorkerDirectory.Item.background,e.theme.WorkerDirectory.Item.lightHover,!0)},function(e){return c.getBackgroundWithHoverCSS(e.theme.WorkerDirectory.QueueItem.Avatar.background,e.theme.WorkerDirectory.Item.lightHover,!0)}),t.ButtonContainer=l.default("div")(v||(v=o(["\n    display: none;\n"],["\n    display: none;\n"]))),t.PopupContainer=l.default("div")(y||(y=o(["\n    display: flex;\n    flex-direction: column;\n    position: absolute;\n    width: 275px;\n    height: 100%;\n    right: 0px;\n    z-index: 100;\n    ","\n\n"],["\n    display: flex;\n    flex-direction: column;\n    position: absolute;\n    width: 275px;\n    height: 100%;\n    right: 0px;\n    z-index: 100;\n    ","\n\n"])),function(e){return c.Animations.FadeInOutTransition(e.isOpen)}),t.HeaderPanel=l.default(c.FlexBox)(k||(k=o(["\n    height: 44px;\n    padding-left: 12px;\n    padding-right: 40px;\n    ","\n"],["\n    height: 44px;\n    padding-left: 12px;\n    padding-right: 40px;\n    ","\n"])),function(e){return e.theme.WorkerDirectory.Header.Container}),t.LabelContainer=l.default(c.FlexBox)(C||(C=o(["\n    margin: auto;\n"],["\n    margin: auto;\n"]))),t.Label=l.default("div")(b||(b=o(["\n    width: 100%;\n    text-align: center;\n    font-size: 12px;\n    font-weight: bold;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    letter-spacing: 1px;\n    text-align: center;\n"],["\n    width: 100%;\n    text-align: center;\n    font-size: 12px;\n    font-weight: bold;\n    font-style: normal;\n    font-stretch: normal;\n    line-height: normal;\n    letter-spacing: 1px;\n    text-align: center;\n"]))),t.ItemContainer=l.default(c.FlexBox)(w||(w=o(["\n    flex-grow: 1;\n    overflow-y: auto;\n    border-style: solid;\n    border-width: 1px 0 0 0;\n    ","\n"],["\n    flex-grow: 1;\n    overflow-y: auto;\n    border-style: solid;\n    border-width: 1px 0 0 0;\n    ","\n"])),function(e){return e.theme.WorkerDirectory.ItemsContainer})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(89))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(53)),r(n(207));var o=n(58);t.FLEX_LOCATION_CHANGE=o.FLEX_LOCATION_CHANGE},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(209),o=n(210),i=n(211),a=n(212),s=n(213);r.WorkerActions.registerActions(),o.VoiceActions.registerActions(),i.SupervisorActions.registerActions(),a.GeneralActions.registerActions(),s.MessageActions.registerActions()},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),i=n(5),a=n(15),s=n(0),l=n(19),c=n(21),u=n(14),p=n(12),f=n(39),d=n(24),h=function(){function e(){}return e.registerActions=function(){s.Actions.registerAction("AcceptTask",this.acceptTask,this.updateAcceptTaskPayload),s.Actions.registerAction("RejectTask",this.rejectTask,this.updateWorkerActionPayload),s.Actions.registerAction("CompleteTask",this.completeTask,this.updateWorkerActionPayload),s.Actions.registerAction("WrapupTask",this.wrapupTask,this.updateWorkerActionPayload),s.Actions.registerAction("SelectTask",this.selectTask,this.updateWorkerActionPayload),s.Actions.registerAction("SetActivity",this.setActivity,this.updateWorkerSetActivityPayload),s.Actions.registerAction("TransferTask",this.transferTask,this.updateWorkerActionPayload),s.Actions.registerAction("Logout",this.logout)},e.acceptTask=function(e){var t=e.task,n=a.StateHelper.getReservation(t.sid);if(!n)throw new Error("Reservation not found for task "+t.sid);if(i.TaskHelper.isCallTask(t)){var r=/^client:/,s=o.FlexModule.state.worker.attributes.contact_uri;return o.FlexModule.state.config.disableBrowserVoice&&(r.test(s)||!s&&r.test(e.conferenceOptions.to))?(u.Notifications.showNotification(u.NotificationIds.BrowserVoiceDisabled),Promise.reject("Browser voice disabled")):n.conference(e.conferenceOptions)}return n.accept()},e.rejectTask=function(e){var t=e.task,n=a.StateHelper.getReservation(t.sid);if(!n)throw new Error("Reservation not found for task "+t.sid);return n.reject(void 0)},e.completeTask=function(e){var t,n=a.StateHelper.getChatChannelStateForTask(e.task);return n&&n.source.updateAttributes(r({},n.source.attributes,((t={})[s.FrameConstants.CHANNEL_STATUS_ATTRIBUTE]=s.FrameConstants.CHANNEL_STATUS_INACTIVE,t))),e.task.complete()},e.wrapupTask=function(e){var t,n=e.task,o=a.StateHelper.getChatChannelStateForTask(n);return o&&o.source.updateAttributes(r({},o.source.attributes,((t={})[s.FrameConstants.CHANNEL_STATUS_ATTRIBUTE]=s.FrameConstants.CHANNEL_STATUS_INACTIVE,t))),n.wrapUp()},e.selectTask=function(e){return new Promise(function(t){l.Actions.selectTask(e.sid),s.Actions.invokeAction("HistoryPush","/agent-desktop/"+e.sid),t()})},e.setActivity=function(e){var t=e.activitySid;return o.FlexModule.state.worker.activities.get(t).setAsCurrent().catch(function(e){throw u.Notifications.showNotification(u.NotificationIds.PendingReservationsOnActivityStateChange,{message:e.response.statusText}),e})},e.transferTask=function(e){return i.TaskHelper.canTransfer(e.task)?("WARM"===e.options.mode&&d.ConferenceListenerManager.initOutboundTransfer(e.task.taskSid,e.targetSid),e.task.transfer(e.targetSid,e.options)):Promise.reject("cannot transfer this task!")},e.updateWorkerActionPayload=function(e){return e.task&&(e.sid=e.task.sid),e.sid&&!e.task&&(e.task=i.TaskHelper.getTaskByTaskSid(e.sid)),e},e.updateAcceptTaskPayload=function(t){(t=e.updateWorkerActionPayload(t)).conferenceOptions=t.conferenceOptions||{},t.conferenceOptions.endConferenceOnExit=!0,t.conferenceOptions.endConferenceOnCustomerExit=!0;var n=!!p.Manager.getInstance()&&p.Manager.getInstance().serviceConfiguration;if(t.conferenceOptions.conferenceRecord=!!n.call_recording_enabled,t.conferenceOptions.conferenceRecord){var r={accountSid:n.account_sid,workspaceSid:n.taskrouter_workspace_sid,taskSid:t.task.sourceObject.task.sid},o=n.call_recording_callback_url||"https://webhooks.twilio.com/v1/Accounts/{accountSid}/Workspaces/{workspaceSid}/Tasks/{taskSid}/FlexRecordingWebhook";Object.keys(r).forEach(function(e){o=o.replace("{"+e+"}",r[e])}),t.conferenceOptions.conferenceRecordingStatusCallback=o,t.conferenceOptions.conferenceRecordingStatusCallbackMethod="POST"}return t},e.updateWorkerSetActivityPayload=function(e){if(e.activityName&&!e.activitySid){var t=Array.from(o.FlexModule.state.worker.activities).find(function(t){t[0];return t[1].name===e.activityName});e.activitySid=t&&t[0]}return e.activitySid&&(e.activityName=o.FlexModule.state.worker.activities.get(e.activitySid).name,e.activityAvailable=o.FlexModule.state.worker.activities.get(e.activitySid).available),e},e.logout=function(e){return f.clearStoredConfig(),c.Actions.logout(e).catch(function(e){throw u.Notifications.showNotification(u.NotificationIds.PendingReservationsOnLogout,{message:e.response.statusText}),e}).then(function(e){return e})},e}();t.WorkerActions=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(55),i=n(0),a=n(15),s=n(5),l=function(){function e(){}return e.registerActions=function(){i.Actions.registerAction("ToggleMute",e.toggleMute),i.Actions.registerAction("HangupCall",e.hangupCall,this.updateVoiceActionPayload),i.Actions.registerAction("HoldCall",e.holdCall,this.updateVoiceActionPayload),i.Actions.registerAction("UnholdCall",e.unholdCall,this.updateVoiceActionPayload)},e.toggleMute=function(){return new Promise(function(e,t){if(!r.FlexModule.state.phone.connection)return t("Cannot call mute with no live connection!");r.FlexModule.state.phone.connection.source.mute(!r.FlexModule.state.phone.connection.source.isMuted()),e()})},e.holdCall=function(e){var t=e.task;return s.TaskHelper.canHold(t)?(s.TaskHelper.isRegularLiveConferenceCall(t)||o.Actions.oldHoldConnection(),t.hold().catch(function(e){throw new Error("Error holding call! "+e.message)})):Promise.reject("Cannot hold call!")},e.unholdCall=function(e){var t=e.task;return s.TaskHelper.canHold(t)?(s.TaskHelper.isRegularLiveConferenceCall(t)||o.Actions.oldUnHoldConnection(),t.unhold().catch(function(e){throw new Error("Error unholding call! "+e.message)})):Promise.reject("Cannot unhold call!")},e.hangupCall=function(e){return new Promise(function(t,n){if(!e.task)return n("no task in payload");var r=a.StateHelper.getCurrentPhoneCallState();if(!r)return n("no active call");r.source.disconnect(),t()})},e.updateVoiceActionPayload=function(e){return e||(e={}),e.task&&(e.sid=e.task.sid),e.sid&&!e.task&&(e.task=s.TaskHelper.getTaskByTaskSid(e.sid)),e},e}();t.VoiceActions=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(3),i=n(13),a=n(19),s=function(){function e(){}return e.registerActions=function(){r.Actions.registerAction("MonitorCall",e.monitorCall,this.updateTaskActionPayload),r.Actions.registerAction("StopMonitoringCall",e.stopMonitoringCall,this.updateTaskActionPayload),r.Actions.registerAction("SelectTaskInSupervisor",this.selectTaskInSupervisor,this.updateTaskActionPayload),r.Actions.registerAction("SelectWorkerInSupervisor",this.selectWorkerInSupervisor,this.updateSelectWorkerActionPayload)},e.monitorCall=function(e){return new Promise(function(t){var n=o.FlexModule.state.worker.source;n&&(n.monitor(e.task.taskSid,e.task.sid,e.extraParams),i.Actions.monitorCall(e.task)),t()})},e.stopMonitoringCall=function(e){return new Promise(function(e){o.FlexModule.state.phone.connection&&o.FlexModule.state.phone.connection.source.disconnect(),e()})},e.selectTaskInSupervisor=function(e){return new Promise(function(t){var n=e.task;a.Actions.selectTaskInSupervisor(n&&n.sid),i.Actions.setStickyWorkerSid(n&&n.workerSid),a.Actions.selectWorkerInSupervisor(void 0);var o=n?n.sid:"";r.Actions.invokeAction("HistoryReplace","/teams/tasks/"+o),t()})},e.selectWorkerInSupervisor=function(e){return new Promise(function(t){var n=e.worker;a.Actions.selectTaskInSupervisor(void 0),i.Actions.setStickyWorkerSid(n&&n.sid),a.Actions.selectWorkerInSupervisor(n&&n.sid);var o=n?n.sid:"";r.Actions.invokeAction("HistoryReplace","/teams/workers/"+o),t()})},e.updateSelectWorkerActionPayload=function(e){return e.worker&&(e.workerSid=e.worker.sid),e.workerSid&&!e.worker&&(e.worker=i.SupervisorStateHelper.getWorkerBySid(e.workerSid)),e},e.updateTaskActionPayload=function(e){return e.task&&(e.sid=e.task.sid),e.sid&&!e.task&&(e.task=i.SupervisorStateHelper.getTaskBySid(e.sid)),e},e}();t.SupervisorActions=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(3),i=n(19),a=function(){function e(){}return e.registerActions=function(){r.Actions.registerAction("NavigateToView",e.navigateToView),r.Actions.registerAction("HistoryPush",this.promisifyAction(i.Actions.push)),r.Actions.registerAction("HistoryReplace",this.promisifyAction(i.Actions.replace)),r.Actions.registerAction("HistoryGo",this.promisifyAction(i.Actions.go)),r.Actions.registerAction("HistoryGoBack",this.promisifyAction(i.Actions.goBack)),r.Actions.registerAction("HistoryGoForward",this.promisifyAction(i.Actions.goForward)),r.Actions.registerAction("ShowDirectory",e.showDirectory),r.Actions.registerAction("HideDirectory",e.hideDirectory)},e.navigateToView=function(e){return new Promise(function(t){if("agent-desktop"===e.viewName)o.FlexModule.state.view.selectedTaskSid?r.Actions.invokeAction("HistoryPush","/agent-desktop/"+o.FlexModule.state.view.selectedTaskSid):r.Actions.invokeAction("HistoryPush","/agent-desktop/");else if("teams"===e.viewName)o.FlexModule.state.view.selectedTaskInSupervisorSid?r.Actions.invokeAction("HistoryPush","/teams/tasks/"+o.FlexModule.state.view.selectedTaskInSupervisorSid):o.FlexModule.state.view.selectedWorkerInSupervisorSid?r.Actions.invokeAction("HistoryPush","/teams/workers/"+o.FlexModule.state.view.selectedWorkerInSupervisorSid):r.Actions.invokeAction("HistoryPush","/teams/");else{var n=e.viewName;n=n.replace(/\//g,""),r.Actions.invokeAction("HistoryPush","/"+n+"/")}t()})},e.showDirectory=function(){return new Promise(function(e){i.Actions.showDirectory(void 0),e()})},e.hideDirectory=function(){return new Promise(function(e){i.Actions.hideDirectory(),e()})},e.promisifyAction=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new Promise(function(n){return n(e.apply(void 0,t))})}},e}();t.GeneralActions=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(5),i=n(10),a=n(14),s=function(){function e(){}return e.registerActions=function(){r.Actions.on("beforeSendMessage",this.beforeSendMessage)},e.beforeSendMessage=function(e,t){var n=e.body.trim().length,r=o.TaskHelper.getTaskFromChannelSid(e.channelSid),s=i.TaskChannels.getForTask(r).charLimit;n>s&&(a.Notifications.showNotification(a.NotificationIds.MessageSizeExceeded,{currentCharCount:n,maxCharCount:s}),t())},e}();t.MessageActions=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(96),i=n(0),a=n(113),s=n(215),l=n(29),c=n(26),u=n(12),p=n(38),f=n(20),d=n(62),h=n(39),m=n(6),g=n(52);function v(e){var t;return void 0===e&&(e="body"),t="string"==typeof e?k(e):e,o.unmountComponentAtNode(t),o.render(r.createElement(c.StorelessThemeProvider,{themeConf:{baseName:"FlexDark"}},r.createElement(s.LoadingView,null)),t),this}function y(e,t){void 0===e&&(e={}),void 0===t&&(t="body");var n,a=h.getStoredConfig();return i.Utils.mergeInto(e,a,!1),p.SSOLoginHandler.hasValidToken()?Promise.resolve():(h.clearStoredConfig(),n="string"==typeof t?k(t):t,e.sso=e.sso||{},new Promise(function(t,i){var a=function(e){t()};new Promise(function(t,n){try{p.SSOLoginHandler.tryValidateConfig(e.sso),t()}catch(e){n(e)}}).then(function(){return void 0===e.sso.loginPopup?h.fetchPublicConfiguration(e.sso.accountSid):Promise.resolve({sso:{}})}).then(function(){return p.SSOLoginHandler.tryLogin(e.sso).then(function(){return t()})}).catch(function(t){var s=t instanceof f.ConfigError&&t.key===f.ConfigErrorKeys.accountSid,l=t instanceof f.BrowserError&&(t.key===f.BrowserErrorKeys.popupBlocked||t.key===f.BrowserErrorKeys.windowClosed||t.key===f.BrowserErrorKeys.noWindowOpener),c=t instanceof f.ValidationError&&(t.key===f.ValidationErrorKeys.sso||t.key===f.ValidationErrorKeys.accountSid),u=t instanceof f.ValidationError&&t.key===f.ValidationErrorKeys.untrustedDomain;if(!(s||l||c||u))throw i(t),m.log.warn("error when trying to log in"),t;o.render(r.createElement(d.LoginFormView,{userConfig:e,onError:i,onSuccess:a}),n)})}))}function k(e){var t=document.querySelector(e);if(!t)throw new Error("Unable to find element for selector: "+t);return t}t.create=function(e){return C.create(e)},t.progress=v,t.provideLoginInfo=y,t.runDefault=function(e,t){return void 0===e&&(e={}),void 0===t&&(t="body"),v(t),y(e,t).then(function(){return history.replaceState({},document.title,g.getDestinationURLFromLocation()),C.create(e)}).then(function(e){return e.init(t)}).catch(function(e){if(!(e instanceof f.BrowserError&&e.key===f.BrowserErrorKeys.redirecting||e instanceof f.ClientError&&e.key===f.ClientErrorKeys.metaNoReferrerMissing))throw m.log.error("Unable to launch Flex:",e),e;m.log.debug("Flex redirecting")})},t.tryLogin=function(e){return void 0===e&&(e={}),p.SSOLoginHandler.tryLogin(e)};var C=function(){function e(e){this._manager=e}return e.create=function(t){return u.Manager.create(t).then(function(t){return new e(t)})},Object.defineProperty(e.prototype,"manager",{get:function(){return this._manager},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var t;void 0===e&&(e="body"),t="string"==typeof e?k(e):e,o.unmountComponentAtNode(t),o.render(r.createElement(l.ContextProvider,{manager:this.manager},r.createElement(a.RootContainer,null)),t)},e}()},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},o=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var a,s,l,c=n(1),u=n(2),p=n(25),f=n(98),d=u.default("div")(a||(a=r(["\n    display: flex;\n    width: 100%;\n    flex-direction: column;\n    height: 100%;\n    ","\n"],["\n    display: flex;\n    width: 100%;\n    flex-direction: column;\n    height: 100%;\n    ","\n"])),function(e){return e.theme.LoadingView.Container}),h=u.default("div")(s||(s=r(["\n    position: relative;\n    font-size: 14px;\n    margin-top: 30px;\n    text-align: center;\n"],["\n    position: relative;\n    font-size: 14px;\n    margin-top: 30px;\n    text-align: center;\n"]))),m=u.default("div")(l||(l=r(["\n    position: relative;\n    margin: auto;\n"],["\n    position: relative;\n    margin: auto;\n"]))),g=p.languages.default.LoginLoading,v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){return c.createElement(d,{className:"Twilio-LoadingView"},c.createElement(m,{className:"Twilio-LoadingView-Container"},c.createElement(f.LogoWithCircle,{animating:!0,backgroundColor:this.props.theme.LoadingView.Container.backgroundColor}),c.createElement(h,{className:"Twilio-LoadingView-Label"},g)))},t=i([u.withTheme],t)}(c.PureComponent);t.LoadingView=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),o=n(10),i=n(0);t.initialize=function(){o.registerDefaultTaskChannels(r),i.registerGlobalStyles(),i.initialize()}}])});
//# sourceMappingURL=twilio-flex.prod.js.map